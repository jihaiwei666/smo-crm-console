!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var parentJsonpFunction=window.webpackJsonp;window.webpackJsonp=function(chunkIds,moreModules){for(var moduleId,chunkId,i=0,callbacks=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&callbacks.push.apply(callbacks,installedChunks[chunkId]),installedChunks[chunkId]=0;for(moduleId in moreModules)modules[moduleId]=moreModules[moduleId];for(parentJsonpFunction&&parentJsonpFunction(chunkIds,moreModules);callbacks.length;)callbacks.shift().call(null,__webpack_require__);if(moreModules[0])return installedModules[0]=0,__webpack_require__(0)};var installedModules={},installedChunks={24:0};__webpack_require__.e=function(chunkId,callback){if(0===installedChunks[chunkId])return callback.call(null,__webpack_require__);if(void 0!==installedChunks[chunkId])installedChunks[chunkId].push(callback);else{installedChunks[chunkId]=[callback];var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.async=!0,script.src=__webpack_require__.p+""+chunkId+"."+({0:"app",1:"cn",2:"tw",3:"ja",4:"fr",5:"ru",6:"it",7:"de",8:"en",9:"__formMain",10:"fl-cn",11:"fl-tw",12:"fl-ja",13:"fl-fr",14:"fl-ru",15:"fl-it",16:"fl-de",17:"fl-en",18:"formExport",19:"formLotto",20:"index",21:"login",22:"mailApp",23:"mkAdv"}[chunkId]||chunkId)+".js?v="+{0:"01c0d22fa9b867f49305",1:"bea849a4ce950e841226",2:"a150df740be3f0465886",3:"a8f3a18ae916e228733f",4:"92f885001b1c0cf3ade1",5:"0f7a1320474cc1842e30",6:"35dfabedad69c237bcef",7:"5481399ce7b4f49dfe55",8:"190b511d5dcba1fc72f1",9:"97c885243de570f0dcf1",10:"356bb5a398ada7aaa5b2",11:"6e19852df2abf1ccd291",12:"c0a806dd0c09327c3096",13:"9a2d5d5480218a0f2e8e",14:"9d89f855e696da45fcd8",15:"25b211c2ab0fe946c22e",16:"832389aca5f85a7d3b34",17:"f5b32a28f17b15388f9e",18:"b9a75ec05f9e59603656",19:"0c199e356c251d6e2128",20:"ca6fdd0447ab01de9f9e",21:"baf720d319e543eaa0c8",22:"7a91f494ed25f462c031",23:"4b27cda4587daf3e6e0f"}[chunkId],head.appendChild(script)}},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="./js/"}([,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(1)},function(module,exports){module.exports=commons},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(298)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(541)},function(module,exports){var _CDN_LOCATION_TENCENT="cdnq1.mikecrm.com";module.exports={CDN_PATH:"http://"+_CDN_LOCATION_TENCENT+"/",CDN_PATH_WITHOUT_PROTOCOL:"//"+_CDN_LOCATION_TENCENT+"/",CDN_URL:_CDN_LOCATION_TENCENT+"/"}},function(module,exports,__webpack_require__){function _changeFormLangData(langCode,cb){langCode&&_currentFormLang!==langCode&&("cn"===langCode?(__webpack_require__.e(1,function(require){_lang.form=__webpack_require__(18),cb&&cb()}),_currentFormLang="cn"):"tw"===langCode?(__webpack_require__.e(2,function(require){_lang.form=__webpack_require__(19),cb&&cb()}),_currentFormLang="tw"):"ja"===langCode?(__webpack_require__.e(3,function(require){_lang.form=__webpack_require__(20),cb&&cb()}),_currentFormLang="ja"):"fr"===langCode?(__webpack_require__.e(4,function(require){_lang.form=__webpack_require__(21),cb&&cb()}),_currentFormLang="fr"):"ru"===langCode?(__webpack_require__.e(5,function(require){_lang.form=__webpack_require__(22),cb&&cb()}),_currentFormLang="ru"):"it"===langCode?(__webpack_require__.e(6,function(require){_lang.form=__webpack_require__(23),cb&&cb()}),_currentFormLang="it"):"de"===langCode?(__webpack_require__.e(7,function(require){_lang.form=__webpack_require__(24),cb&&cb()}),_currentFormLang="de"):(__webpack_require__.e(8,function(require){_lang.form=__webpack_require__(25),cb&&cb()}),_currentFormLang="en"))}var _=__webpack_require__(8),$=__webpack_require__(9),EventEmitter=__webpack_require__(10),Util=__webpack_require__(11),langConfig=__webpack_require__(15),MGIntl=__webpack_require__(17),_lang=langConfig.lang,_formLang=langConfig.formLang,_advLang=langConfig.advertLang,_differentiation=langConfig.differentiationUtils,_currentFormLang=langConfig.currentFormLang,_currentLang=langConfig.currentLang;_lang.form=_formLang,_lang.advert=_advLang,MGIntl.preferCulture(_currentLang);var _isMac=$(".mac").length>0,_isWindows=$(".win").length>0,_FONT='"Open Sans","Helvetica Neue", Helvetica, "Nimbus Sans L", "Liberation Sans", "Hiragino Kaku Gothic ProN", "Meiryo", '+(_isWindows?'"Microsoft YaHei", "Microsoft JhengHei",':_isMac?'"PingFang SC",':"")+'"Hiragino Sans GB", "Source Han Sans CN", "Source Han Sans SC", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimSun, "WenQuanYi Zen Hei Sharp", sans-serif';exports.changeFormLang=_changeFormLangData,exports._FONT=_FONT,exports.currentLang=_currentLang,exports.lang=_lang,exports.diffUtil=_differentiation,exports.domainInfo=Util.parseURL(location.href),exports.NAVIGATOR_LANG=navigator.language?navigator.language:navigator.userLanguage;var isIE8=$(".ie8").length>0;exports.isIE8=isIE8,"cn"===_currentLang?(document.body.style.fontSize="14px",isIE8||(document.body.style.fontSize="1.4rem")):(document.body.style.fontSize="13px",isIE8||(document.body.style.fontSize="1.3rem"));var _GLOBAL_EVENT="GLOBALEVENTCHANGE",E=new EventEmitter,windowSize=Util.getWindowSize(),_resizeDebounce=_.debounce(function(e){windowSize=Util.getWindowSize(),E.emit(_GLOBAL_EVENT+"resize",windowSize)},320);$(window).off("resize.global").on("resize.global",_resizeDebounce).off("orientationchange.global").on("orientationchange.global",_resizeDebounce).on("focus.global",function(){E.emit(_GLOBAL_EVENT+"focusPage")}).on("blur.global",function(){E.emit(_GLOBAL_EVENT+"blurPage")}),$(window).on("hashchange",function(e){var oldURL=Util.parseURL(e.originalEvent.oldURL),newURL=Util.parseURL(e.originalEvent.newURL);if(oldURL.file===newURL.file){var _oldHash=oldURL.hash.split("?"),_newHash=newURL.hash.split("?");_oldHash[0]===_newHash[0]&&_oldHash[1]!==_newHash[1]&&location.reload()}}),exports.emitGlobalChange=function(type){E.emit(_GLOBAL_EVENT+type)},exports.addGlobalChangeListener=function(type,cb){E.on(_GLOBAL_EVENT+type,cb)},exports.removeGlobalChangeListener=function(type,cb){E.removeListener(_GLOBAL_EVENT+type,cb)},exports.getWindowSize=function(){return windowSize}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(542)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(544)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(514)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _trim(str){return str.replace(/^\s+|\s+$/gm,"")}function args(arg){return Array.prototype.slice.call(arg)}function objectCheck(){var i;for(i in o)if(o.hasOwnProperty(i))return!0;return!1}function typeIs(name,o){return null===o?"Null"===name:"undefined"==typeof o?"Undefined"===name:Object.prototype.toString.call(o)==="[object "+name+"]"}function isEmpty(o){if("undefined"==typeof o||null===o||typeIs("Array",o)&&0===o.length||typeIs("String",o)&&0===o.length)return!0;if(typeIs("Object",o)){for(var _k in o)if(o.hasOwnProperty(_k))return!1;return!0}return!1}function shallowEqualScalar(objA,objB){if(objA===objB)return!0;if("object"!==("undefined"==typeof objA?"undefined":_typeof(objA))||null===objA||"object"!==("undefined"==typeof objB?"undefined":_typeof(objB))||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var hasOwn=Object.prototype.hasOwnProperty,i=0;i<keysA.length;i++){if(!hasOwn.call(objB,keysA[i]))return!1;var valA=objA[keysA[i]],valB=objB[keysA[i]];if(valA!==valB||"object"===("undefined"==typeof valA?"undefined":_typeof(valA))||"object"===("undefined"==typeof valB?"undefined":_typeof(valB)))return!1}return!0}function getCursorPosition($element){var el=$element.get(0),pos=0;if("selectionStart"in el)pos=el.selectionStart;else if("selection"in document){el.focus();var Sel=document.selection.createRange(),SelLength=document.selection.createRange().text.length;Sel.moveStart("character",-el.value.length),pos=Sel.text.length-SelLength}return pos}function setCursorPosition($element,startP,endP){if($element[0].createTextRange){var range=$element[0].createTextRange();range.moveEnd("character",startP),range.moveStart("character",endP),range.select()}else $element[0].setSelectionRange(startP,endP),$element.focus()}function contains(parentEl,el,container){if(parentEl==el)return!0;if(!el||!el.nodeType||1!=el.nodeType)return!1;if(parentEl.contains)return parentEl.contains(el);if(parentEl.compareDocumentPosition)return!!(16&parentEl.compareDocumentPosition(el));for(var prEl=el.parentNode;prEl&&prEl!=container;){if(prEl==parentEl)return!0;prEl=prEl.parentNode}return!1}function convertToLetter(iCol){var _res="",_alpha=Math.floor(Math.round(10*iCol/27)/10),_remainder=iCol-26*_alpha;return _alpha>0&&(_res=String.fromCharCode(_alpha+64)),_remainder>0&&(_res+=String.fromCharCode(_remainder+64)),_res}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_MGUtil=__webpack_require__(12),_MGUtil2=_interopRequireDefault(_MGUtil),isSupports=function(){var div=document.createElement("div"),vendors=["Khtml","Ms","O","Moz","Webkit"],len=vendors.length;return function(prop){if(prop in div.style)return!0;prop=prop.replace(/^[a-z]/,function(val){return val.toUpperCase()});var i=0;for(i;i<len;i++)if(vendors[len]+prop in div.style)return!0;return!1}}(),transitionEndEvent=function(){var EVENT_NAME_MAP={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"}},endEvents=[];if("undefined"!=typeof window){var testEl=document.createElement("div"),style=testEl.style;"TransitionEvent"in window||delete EVENT_NAME_MAP.transitionend.transition;for(var baseEventName in EVENT_NAME_MAP)if(EVENT_NAME_MAP.hasOwnProperty(baseEventName)){var baseEvents=EVENT_NAME_MAP[baseEventName];for(var styleName in baseEvents)styleName in style&&endEvents.push(baseEvents[styleName])}return 0==endEvents.length?"transitionend":endEvents.join(" ")}}(),cookie=function(){function _removeCookie(name){var pathBits=location.pathname.split("/"),pathCurrent=" path=";document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;";for(var j=0;j<pathBits.length;j++)pathCurrent+=("/"!=pathCurrent.substr(-1)?"/":"")+pathBits[j],document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"+pathCurrent+";"}function _setCookie(name,value,options){var expires=null;return options.expires&&(expires=new Date,options.expires=parseInt(options.expires,0),isNaN(options.expires)||(expires=new Date(expires-0+6048e5*options.expires))),expires&&(expires=expires.toUTCString()),_removeCookie(name),document.cookie=[name,"=",escape(value),expires?"; expires="+expires:"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}function _getCookie(name){var i,len,tempCookie,_cookieList=document.cookie.split(";");for(i=0,len=_cookieList.length;i<len;i++)if(tempCookie=_trim(_cookieList[i]).split("="),tempCookie[0]===name)return unescape(tempCookie[1]);return null}function _clearCookie(opt){var rs=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var i in rs)_removeCookie(rs[i])}function _clearAllCookie(without){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=cookies[i],eqPos=cookie.indexOf("="),name=eqPos>-1?cookie.substr(0,eqPos):cookie,withoutList=[].concat(without);withoutList.indexOf(name)===-1&&_removeCookie(name)}}return{set:_setCookie,get:_getCookie,remove:_removeCookie,clear:_clearCookie,clearAll:_clearAllCookie}}();exports["default"]={inIframe:_MGUtil2["default"].inIFrame,deviceCheck:_MGUtil2["default"].deviceCheck,browserCheck:_MGUtil2["default"].browserCheck,fuzzyDeviceCheck:_MGUtil2["default"].fuzzyDeviceCheck,getImageSize:_MGUtil2["default"].getImageSize,parseURL:_MGUtil2["default"].parseURL,getWindowSize:_MGUtil2["default"].getWindowSize,getNow:_MGUtil2["default"].getNow,rAF:_MGUtil2["default"].rAF,rAF_cancel:_MGUtil2["default"].cAF,args:args,objectCheck:objectCheck,typeIs:typeIs,isEmpty:isEmpty,isSupports:isSupports,transitionEndEvent:transitionEndEvent,shallowEqual:_MGUtil2["default"].shallowEqual,shallowEqualScalar:shallowEqualScalar,getCursorPosition:getCursorPosition,setCursorPosition:setCursorPosition,contains:contains,convertToLetter:convertToLetter,cookie:cookie,cdnizer:_MGUtil2["default"].cdnizerFactory(""),linkify:_MGUtil2["default"].linkify},module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function deviceCheck(){var createElement=function(str){var elem=document.createElement("div");return elem.innerHTML=str,elem.childNodes[0]},getStyle=function(elem,cssRule){var strValue=void 0;return document.defaultView&&document.defaultView.getComputedStyle?strValue=document.defaultView.getComputedStyle(elem,"").getPropertyValue(cssRule):elem.currentStyle&&(cssRule=cssRule.replace(/-(w)/g,function(strm,$1){return $1.toUpperCase()}),strValue=elem.currentStyle[cssRule]),strValue},dStyle='<style type="text/css">@media (max-width: 768px) {#MobileDetect {color: rgb(12, 34, 56)}}</style>',dDiv='<div id="MobileDetect"></div>',tag=!1;if(_MGUADetect2["default"].browser.webview)tag=!0;else if(_MGUADetect2["default"].os.tablet||_MGUADetect2["default"].os.phone)if(inIFrame())tag=!0;else{var style=createElement(dStyle),div=createElement(dDiv);document.head.appendChild(style),document.head.appendChild(div),tag="rgb(12, 34, 56)"===getStyle(div,"color"),style.remove?(style.remove(),div.remove()):(style.parentNode.removeChild(style),div.parentNode.removeChild(div))}return{isMobile:tag}}function browserCheck(){var _browserInfo={version:_MGUADetect2["default"].browser.version};if(_MGUADetect2["default"].browser.ie)_browserInfo.msie=!0;else if(_MGUADetect2["default"].browser.safari)_browserInfo.webkit=!0,_browserInfo.safari=!0;else if(_MGUADetect2["default"].browser.firefox)_browserInfo.mozilla=!0,_browserInfo.firefox=!0;else{if(!_MGUADetect2["default"].browser.chrome)return _MGUADetect2["default"].browser;_browserInfo.webkit=!0,_browserInfo.chrome=!0}return _browserInfo}function fuzzyDeviceCheck(){var topSide=Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight),_mobile=!1;return topSide>800?_mobile=!1:(_MGUADetect2["default"].os.tablet||_MGUADetect2["default"].os.phone)&&(_mobile=!0),_mobile}function inIFrame(){try{return window.self!==window.top}catch(e){return!0}}function rAF(fn){return raf.call(window,fn)}function cAF(){caf.apply(window,arguments)}function parseURL(url){var a;return a=document.createElement("a"),a.href=url,{source:url,protocol:a.protocol.replace(":",""),host:a.hostname,port:a.port,query:a.search,params:function(){for(var s,ret={},seg=a.search.replace(/^\?/,"").split("&"),len=seg.length,i=0;i<len;i++)seg[i]&&(s=seg[i].split("="),ret[s[0]]=s[1]);return ret}(),file:(a.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}}function linkify(str){var link=_lodash2["default"].trim(str||""),linkParseUrl=parseURL(link),currentLink=parseURL(location.href);return linkParseUrl.protocol&&linkParseUrl.host!==currentLink.host||((0,_MGString.isUrl)(link)?link.match(/^(http:\/\/|https:\/\/)/)||(link="http://"+link):link=null),link}function getImageSize(url,nocache){var _img=new Image,$d=_jquery2["default"].Deferred();_img.onload=function(){$d.resolve({width:this.width,height:this.height})},_img.onerror=function(){$d.resolve({width:null,height:null})},_img.src=url;var promise=$d.promise();return promise.abort=function(){$d.reject()},_img.complete,promise}function _getPathAbsolute(base,relative){var stack=base.split("/"),parts=relative.split("/");stack.pop();for(var i=0;i<parts.length;i++)"."!=parts[i]&&(".."==parts[i]?stack.pop():stack.push(parts[i]));return stack.join("/")}function cdnizerFactory(cdnPath){return cdnPath?function(path){var isEncrypt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _getPathAbsolute((isEncrypt?location.protocol:"http:")+"//"+cdnPath+(location.pathname||"/"),path)}:function(path){return path}}function shallowEqual(objA,objB){if(objA===objB)return!0;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var hasOwn=Object.prototype.hasOwnProperty,_i2=0;_i2<keysA.length;_i2++)if(!hasOwn.call(objB,keysA[_i2])||objA[keysA[_i2]]!==objB[keysA[_i2]])return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_MGUADetect=__webpack_require__(13),_MGUADetect2=_interopRequireDefault(_MGUADetect),_MGString=__webpack_require__(14),_time=null;try{_time=window.performance?window.performance.now.bind(window.performance):null}catch(e){}for(var getTime=_time||Date.now||function(){return+new Date},_vendors=["webkit","moz","o","ms"],suffix="AnimationFrame",raf=window["request"+suffix],caf=window["cancel"+suffix]||window["cancelRequest"+suffix],i=0,vLen=_vendors.length;!raf&&i<vLen;i++)raf=window[_vendors[i]+"Request"+suffix],caf=window[_vendors[i]+"Cancel"+suffix]||window[_vendors[i]+"CancelRequest"+suffix];raf&&caf||!function(){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(0===queue.length){var _now=getTime(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var _i=0,len=queue.length;_i<len;_i++)queue[_i].handle===handle&&(queue[_i].cancelled=!0)}}();var getWindowSize=function(){var wWidth=null,wHeight=null;if("number"==typeof window.innerWidth)getWindowSize=function(){return{width:window.innerWidth,height:window.innerHeight}},wWidth=window.innerWidth,wHeight=window.innerHeight;else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight))getWindowSize=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},wWidth=document.documentElement.clientWidth,wHeight=document.documentElement.clientHeight;else if(document.body&&(document.body.clientWidth||document.body.clientHeight))getWindowSize=function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},wWidth=document.body.clientWidth,wHeight=document.body.clientHeight;else{var $window=(0,_jquery2["default"])(document.body);wWidth=$window.width(),wHeight=$window.height(),getWindowSize=function(){var $window=(0,_jquery2["default"])(document.body);return{width:$window.width(),height:$window.height()}}}return{width:wWidth,height:wHeight}};exports["default"]={getNow:getTime,rAF:rAF,cAF:cAF,inIFrame:inIFrame,shallowEqual:shallowEqual,deviceCheck:deviceCheck(),browserCheck:browserCheck(),fuzzyDeviceCheck:fuzzyDeviceCheck(),parseURL:parseURL,getImageSize:getImageSize,getWindowSize:getWindowSize,cdnizerFactory:cdnizerFactory,linkify:linkify},module.exports=exports["default"]},function(module,exports){function _envDetect(ua,platform){var os={},browser={},webkit=ua.match(/Web[kK]it[\/]{0,1}([\d.]+)/),android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),osx=!!ua.match(/\(Macintosh\; Intel /),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/),webos=ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),win=/Win\d{2}|Windows/.test(platform),wp=ua.match(/Windows Phone ([\d.]+)/),touchpad=webos&&ua.match(/TouchPad/),kindle=ua.match(/Kindle\/([\d.]+)/),silk=ua.match(/Silk\/([\d._]+)/),blackberry=ua.match(/(BlackBerry).*Version\/([\d.]+)/),bb10=ua.match(/(BB10).*Version\/([\d.]+)/),chrome=ua.match(/Chrome\/([\d.]+)/)||ua.match(/CriOS\/([\d.]+)/),firefox=ua.match(/Firefox\/([\d.]+)/),firefoxos=ua.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),webview=!chrome&&ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),safari=webview||ua.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);return(browser.webkit=!!webkit)&&(browser.version=webkit[1]),android&&(os.android=!0,os.version=android[2]),iphone&&!ipod&&(os.ios=os.iphone=!0,os.version=iphone[2].replace(/_/g,".")),ipad&&(os.ios=os.ipad=!0,os.version=ipad[2].replace(/_/g,".")),ipod&&(os.ios=os.ipod=!0,os.version=ipod[3]?ipod[3].replace(/_/g,"."):null),wp&&(os.wp=!0,os.version=wp[1]),webos&&(os.webos=!0,os.version=webos[2]),touchpad&&(os.touchpad=!0),blackberry&&(os.blackberry=!0,os.version=blackberry[2]),bb10&&(os.bb10=!0,os.version=bb10[2]),kindle&&(os.kindle=!0,os.version=kindle[1]),silk&&(browser.silk=!0,browser.version=silk[1]),!silk&&os.android&&ua.match(/Kindle Fire/)&&(browser.silk=!0),chrome&&(browser.chrome=!0,browser.version=chrome[1]),firefox&&(browser.firefox=!0,browser.version=firefox[1]),firefoxos&&(os.firefoxos=!0,os.version=firefoxos[1]),ie&&(browser.ie=!0,browser.version=ie[1]),safari&&(osx||os.ios||win)&&(browser.safari=!0,os.ios||(browser.version=safari[1])),webview&&(browser.webview=!0),os.tablet=!!(ipad||android&&!ua.match(/Mobile/)||firefox&&ua.match(/Tablet/)||ie&&!ua.match(/Phone/)&&ua.match(/Touch/)),os.phone=!(os.tablet||!(android||iphone||webos||blackberry||bb10||os.ipod||chrome&&ua.match(/Android/)||chrome&&ua.match(/CriOS\/([\d.]+)/)||firefox&&ua.match(/Mobile/)||ie&&ua.match(/Touch/))),{os:os,browser:browser}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=_envDetect(navigator.userAgent,navigator.platform),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getIdCardInfo(cardNo){var info={isTrue:!1,year:null,month:null,day:null,isMale:!1,isFemale:!1};if(!cardNo||15!=cardNo.length&&18!=cardNo.length)return info.isTrue=!1,info;if(15==cardNo.length){var year=cardNo.substring(6,8),month=cardNo.substring(8,10),day=cardNo.substring(10,12),p=cardNo.substring(14,15),birthday=new Date(year,parseFloat(month)-1,parseFloat(day));return birthday.getYear()!=parseFloat(year)||birthday.getMonth()!=parseFloat(month)-1||birthday.getDate()!=parseFloat(day)?info.isTrue=!1:(info.isTrue=!0,info.year=birthday.getFullYear(),info.month=birthday.getMonth()+1,info.day=birthday.getDate(),p%2==0?(info.isFemale=!0,info.isMale=!1):(info.isFemale=!1,info.isMale=!0)),info}if(18==cardNo.length){var year=cardNo.substring(6,10),month=cardNo.substring(10,12),day=cardNo.substring(12,14),p=cardNo.substring(14,17),birthday=new Date(year,parseFloat(month)-1,parseFloat(day));if(birthday.getFullYear()!=parseFloat(year)||birthday.getMonth()!=parseFloat(month)-1||birthday.getDate()!=parseFloat(day))return info.isTrue=!1,info;var Wi=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],Y=[1,0,10,9,8,7,6,5,4,3,2],sum=0,_cardNo=cardNo.split("");"x"==_cardNo[17].toLowerCase()&&(_cardNo[17]=10);for(var i=0;i<17;i++)sum+=Wi[i]*_cardNo[i];var i=sum%11;return _cardNo[17]!=Y[i]?info.isTrue=!1:(info.isTrue=!0,info.year=birthday.getFullYear(),info.month=birthday.getMonth()+1,info.day=birthday.getDate(),p%2==0?(info.isFemale=!0,info.isMale=!1):(info.isFemale=!1,info.isMale=!0),info)}return info}function isCanvasSupported(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))}var _lodash=__webpack_require__(8),_jquery=(_interopRequireDefault(_lodash),__webpack_require__(9)),_jquery2=_interopRequireDefault(_jquery),_mgstring={},_ORIGINAL_EMAIL_REG=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f] ))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d)|(([a-z]|\d)([a-z]|\d|-|\.|_|~)*([a-z]|\d)))\.)+(([a-z])|(([a-z])([a-z]|\d|-|\.|_|~ )*([a-z])))$/i,_EMAIL_RE=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])([a-z]|\d|-|\.|_|~|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])*([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])))\.)+(([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])([a-z]|\d|-|\.|_|~|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])*([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])))$/i,_EMOJI_RE=/([\u0023\u0030-\u0039]\uFE0F\u20E3)|(\u002A(\uFE0F*)\u20E3)|([\u00A9\u00AE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u261D\u2620-\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2694\u2696\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FD\u2702\u2705\u2708-\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u274C\u274E\u2747\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27B0\u27BF\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]\uFE0F?)|(\uD83C[\uDC04\uDD70\uDD71\uDCCF\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDFFF]\uFE0F?)|(\uD83D[\uDC00-\uDEF6])|(\uD83E[\uDD10-\uDD1e\uDD20-\uDD27\uDD30-\uDD3E\uDD40-\uDD4B\uDD50-\uDD5E\uDD80-\uDD91\uDDC0])/g,_URL_RE=/^((http|https):\/\/)?(\w(\:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i,_CHINESE_RE=/([\u4E00-\u9FA5])/g,_EMPTY_RE=/[\u0000-\u002f\u003a-\u0040\u005b-\u0060\u007b-\u007f\u2010-\u2026\u3000-\u301e\ufe50-\uffff]/g,_NUMBER_RE=/[0-9]+/g,_ALL_NUMBER_RE=/^\d+$/,_CN_SIMPLE_MOBILE_RE=/^(\(?(\+)?86\)?)?(\s*)(?:1\d\d)([\-\_\s])?(\d{4})([\-\_\s])?(\d{4})$/i,_HK_SIMPLE_MOBILE_RE=/^(\(?(\+)?852\)?)?(\s*)([695])\d{7}$/i,_TW_SIMPLE_MOBILE_RE=/^(((\(?(\+)?886\)?)(\s*))|0)9[0-8]\d{1}(\-?)\d{2}(\-?)\d{4}$/i,_QQ_SIMPLE_RE=/^[1-9][0-9]{4,20}$/i,_IP_SIMPLE_RE=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/i;_mgstring.keepStr=function(str,reg){var res="";return str.replace(reg,function($){res+=$}),res},_mgstring.keepNum=function(str){return _mgstring.keepStr(str,_NUMBER_RE)},_mgstring.removeEmpty=function(str){var replaceStr=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return str.replace(_EMPTY_RE,replaceStr)},_mgstring.isEmptyStr=function(str){return!!str.match(_EMPTY_RE)},_mgstring.getLength=function(str,convertChinese){return str=""+str,convertChinese?str.replace(_CHINESE_RE,function($){return"**"}).length:str.length},_mgstring.emojiRemove=function(str){return str.replace(_EMOJI_RE,"")},_mgstring.isEmail=function(str){return _EMAIL_RE.lastIndex=0,_EMAIL_RE.test(str)},_mgstring.isOriginalEmail=function(str){return _ORIGINAL_EMAIL_REG.lastIndex=0,_ORIGINAL_EMAIL_REG.test(str)},_mgstring.isUrl=function(str){return _URL_RE.lastIndex=0,_URL_RE.test(str)},_mgstring.isMobileCN=function(str){return _CN_SIMPLE_MOBILE_RE.lastIndex=0,_CN_SIMPLE_MOBILE_RE.test(str)},_mgstring.isMobileHK=function(str){return _HK_SIMPLE_MOBILE_RE.lastIndex=0,_HK_SIMPLE_MOBILE_RE.test(str)},_mgstring.isMobileTW=function(str){return _TW_SIMPLE_MOBILE_RE.lastIndex=0,_TW_SIMPLE_MOBILE_RE.test(str)},_mgstring.isQQ=function(str){return _QQ_SIMPLE_RE.lastIndex=0,_QQ_SIMPLE_RE.test(str)},_mgstring.isCnIdCard=function(str){var res=getIdCardInfo(""+str);return res&&res.isTrue},_mgstring.isIP=function(str){return _IP_SIMPLE_RE.lastIndex=0,_IP_SIMPLE_RE.test(str)},_mgstring.isNumber=function(str){return!str||(_ALL_NUMBER_RE.lastIndex=0,_ALL_NUMBER_RE.test(str))},_mgstring.generateRegexCheck=function(str){var flags=str.replace(/.*\/([gimy]*)$/,"$1"),pattern=str.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1"),match=str.match(new RegExp("^/(.*?)/([gimy]*)$"));match||(flags="");var _RE=new RegExp(pattern,flags);return function(s){return _RE.test(s)}},_mgstring.strRegCheck=function(regStr,str){var flags=regStr.replace(/.*\/([gimy]*)$/,"$1"),pattern=regStr.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1"),match=regStr.match(new RegExp("^/(.*?)/([gimy]*)$"));match||(flags="");var _RE=new RegExp(pattern,flags);return _RE.test(str)},_mgstring.isPositiveInteger=function(str){var c_num=+str;return!isNaN(c_num)&&(!(c_num<=0)&&c_num===Math.floor(c_num))},_mgstring.isNonnegativeInteger=function(str){var c_num=+str;return!isNaN(c_num)&&(!(c_num<0)&&c_num===Math.floor(c_num))},_mgstring._EMOJI_RE=_EMOJI_RE,_mgstring.emojiFilter=function(str){str.replace(_EMOJI_RE,"")},_mgstring.width=function(str,fSize){var $textWidthField;0===(0,_jquery2["default"])("#cp_tt_textWidth").length&&(0,_jquery2["default"])("body").append('<span id="cp_tt_textWidth" style="visibility: hidden;"></span>'),$textWidthField=(0,_jquery2["default"])("#cp_tt_textWidth");var textWidth=$textWidthField.text(""+str).css({fontSize:fSize+"px",whiteSpace:"nowrap"}).width();return textWidth},_mgstring.getWidth=function(){var $textWidthField;
  if(isCanvasSupported()){var _ctx,canvas=document.createElement("canvas");return canvas.getContext&&(_ctx=canvas.getContext("2d")),function(str,fontStr){_ctx.font=fontStr;var metrics=_ctx.measureText(str);return Math.ceil(metrics.width)}}return 0===(0,_jquery2["default"])("#cp_tt_textWidth").length&&(0,_jquery2["default"])("body").append('<span id="cp_tt_textWidth" style="visibility: hidden;white-space:nowrap;word-break: initial;"></span>'),$textWidthField=(0,_jquery2["default"])("#cp_tt_textWidth"),function(str,fontStr){return $textWidthField.text(""+str).css({font:fontStr}).width()}}(),_mgstring.leftPad=function(source,str,num){var r="";if(source=""+source,str=""+str,!num)return source;var loopNum=num-source.length;if(loopNum<=0)return source;for(;;){if(1===(1&loopNum)&&(r+=str),loopNum>>>=1,0===loopNum)break;str+=str}return r+source};var _UNIT_LIST=null;_mgstring.convertByteTo=function(byte){byte=+byte||0;var r={value:byte,unit:"B"};return r=byte>1024&&byte<1048576?{value:(byte/1024).toFixed(2),unit:"KB"}:{value:(byte/1048576).toFixed(2),unit:"MB"}},_mgstring.fileSizeBeauty=function(bytes){if(null===bytes||void 0===bytes)return"-";for(var unitList=_UNIT_LIST=_UNIT_LIST||["B","KB","MB","GB","TB","PB"],unitCursor=0,_beauty=bytes,_unitLen=unitList.length-1;_beauty>1024&&unitCursor<_unitLen;)unitCursor++,_beauty/=1024;return _beauty=_beauty!==Math.floor(_beauty)?_beauty.toFixed(2):""+_beauty,_beauty+unitList[unitCursor]},_mgstring.fileNameBeauty=function(fileName){var len=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,fileNameInfo=(""+fileName).split("."),suffix="",name=void 0;if(fileNameInfo.length>1&&(suffix=fileNameInfo.pop()),name=fileNameInfo.join("."),name.length>len){var _splitPosition=(len-3)/2;return name.substring(0,_splitPosition)+"..."+name.substring(name.length-_splitPosition,name.length-1)+"."+suffix}return fileName},module.exports=_mgstring},function(module,exports,__webpack_require__){module.exports=__webpack_require__(16)(1)},function(module,exports){module.exports=appLang},function(module,exports){function _left_pad(source,str,num){var r="";if(source=""+source,str=""+str,!num)return source;var loopNum=num-source.length;if(loopNum<=0)return source;for(;;){if(1===(1&loopNum)&&(r+=str),loopNum>>>=1,0===loopNum)break;str+=str}return r+source}function getNumberSymbol(lang){return SUPPORT_INTL?POINT===1.1.toLocaleString(lang).substring(1,2)?_COMMON_SYMBOL:_EUR_SYMBOL:COMMA_TYPE_LIST.indexOf(lang)===-1?_COMMON_SYMBOL:_EUR_SYMBOL}function matchSymbol(str){return str.match(/[\.,]/g)||[]}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},langMapping={fr:"fr-FR",de:"de-DE",ja:"ja-JA",cn:"zh-CN",tw:"zh-CN",en:"en-US",ru:"ru-Latn",it:"it"},currencyTypeMapping={fr:"EUR",de:"EUR",ja:"JPY",cn:"CNY",tw:"TWD",en:"USD",ru:"RUB",it:"EUR"},currencyPositionMapping={fr:-1,de:-1,ja:1,cn:1,tw:1,en:1,ru:-1,it:-1},currencySymbolMapping={EUR:["€","€"],JPY:["¥","JP¥"],TWD:["NT$","NT$"],CNY:["￥","CNY"],RUB:["₽","RUB"],USD:["$","$"]},NAVIGATOR_LANG=navigator.language?navigator.language:navigator.userLanguage,SUPPORT_INTL=!("object"!==("undefined"==typeof Intl?"undefined":_typeof(Intl))||!Intl||"function"!=typeof Intl.NumberFormat),COMMA_TYPE_LIST=["fr","fr-FR","fr-BE","fr-CA","fr-CH","fr-LU","it","it-CH","ru","ru-Latn","ru-MI","de","de-DE","de-CH","de-AT","de-LU","de-LI"],POINT=".",COMMA=",",_COMMON_SYMBOL={decimal:POINT,group:COMMA},_EUR_SYMBOL={decimal:COMMA,group:POINT},_lang=langMapping[NAVIGATOR_LANG],_RAW_lang=NAVIGATOR_LANG,_properties=_extends({decimal:".",group:","},getNumberSymbol(_lang),{currency:currencyTypeMapping[_lang]||"USD"});exports["default"]={preferCulture:function(lang){_RAW_lang=lang,_lang=langMapping[lang]?langMapping[lang]:lang,_properties=_extends({},_properties,getNumberSymbol(lang),{currency:currencyTypeMapping[lang]||"USD"})},getProperties:function(){return _extends({},_properties,{isPrefix:currencyPositionMapping[_RAW_lang]>0})},localeNumberFormatter:function(number,minimumFractionDigits,maximumFractionDigits){var withGroup=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],_isFloat=(""+number).indexOf(".")>-1,_num=parseFloat(number,10);if(_isFloat||(_num=Math.round(_num)),isNaN(_num))return number;if(!isFinite(number))return""+number;var _res=_num,_strNum=""+(_num||0);if(/e\+/.test(_strNum)){var _strNum$split=_strNum.split("e+"),_strNum$split2=_slicedToArray(_strNum$split,2),_pre=_strNum$split2[0],_len=_strNum$split2[1],_preDecimalIdx=_pre.indexOf("."),_prefix="";if(+_pre<0&&(_prefix="-"),_preDecimalIdx>-1){var _num2=_pre.length-1-_preDecimalIdx;_strNum=_prefix+_num2.replace(".","")+_left_pad("",0,_len-_num2)}}else if(/e-/.test(_strNum)){var _strNum$split3=_strNum.split("e-"),_strNum$split4=_slicedToArray(_strNum$split3,2),_pre2=_strNum$split4[0],_len2=_strNum$split4[1],_prefix2="";+_pre2<0&&(_prefix2="-"),_strNum=_prefix2+"0."+_left_pad("",0,_len2-1)+_pre2.replace(".","")}_res="";var _strNum$split5=_strNum.split("."),_strNum$split6=_slicedToArray(_strNum$split5,2),_strNum$split6$=_strNum$split6[0],integer=void 0===_strNum$split6$?"":_strNum$split6$,_strNum$split6$2=_strNum$split6[1],decimal=void 0===_strNum$split6$2?"":_strNum$split6$2;if(decimal){var testDecimal=parseFloat("0."+decimal);testDecimal<=1e-9?decimal="":testDecimal>=.999999999&&(integer=""+Math.round(+integer+1),decimal="")}for(var _integerLength=integer.length;_integerLength>3;)_res=_properties.group+integer.slice(-3)+_res,integer=integer.slice(0,_integerLength-3),_integerLength=integer.length;return integer&&(_res=integer+_res),maximumFractionDigits&&!isNaN(+maximumFractionDigits)&&(decimal=(decimal||"").slice(0,+maximumFractionDigits)),minimumFractionDigits&&!isNaN(+minimumFractionDigits)&&+minimumFractionDigits>decimal.length&&(decimal+=_left_pad("",0,+minimumFractionDigits-decimal.length)),0!==maximumFractionDigits&&0!==minimumFractionDigits||(decimal=""),_res+=decimal?_properties.decimal+decimal:"",_res.replace(new RegExp("\\"+_properties.group,"g"),withGroup?" ":"")},localeCurrencyFormatter:function(number,minimumFractionDigits,maximumFractionDigits,currency){currency||(currency=_properties.currency);var _num=+number;if(isNaN(_num))return number;if(!isFinite(_num))return""+_num;if(SUPPORT_INTL){var _ext={currency:currency,style:"currency"};_.isNumber(minimumFractionDigits)&&(_ext.minimumFractionDigits=minimumFractionDigits),_.isNumber(maximumFractionDigits)&&(_ext.maximumFractionDigits=maximumFractionDigits),_.isEmpty(_ext)&&(_ext=void 0);var _numberFormatter=new Intl.NumberFormat(_lang,_ext);return _numberFormatter.format(_num).replace(new RegExp("\\"+_properties.group,"g")," ")}var _prefix="",_suffix="";if(currency){var _p=currencyTypeMapping[_RAW_lang]!==currency?1:0;currencyPositionMapping[_RAW_lang]>0?_prefix=currencySymbolMapping[currency][_p]:_suffix=" "+currencySymbolMapping[currency][_p]}return _prefix+this.localeNumberFormatter(number,minimumFractionDigits,maximumFractionDigits)+_suffix},localeStringToNumber:function(str){str=""+str;var _isFloat=str.indexOf(".")>-1,_decimalLen=_isFloat?str.split(".")[1].length:0,_num=0;if(COMMA_TYPE_LIST.indexOf(_lang)>-1||_properties.decimal===COMMA)if(matchSymbol(str).length>1){var _numStr=str.replace(/\s/g,"").replace(new RegExp("\\"+_properties.group,"g"),"").replace(new RegExp("\\"+_properties.decimal,"g"),POINT);_num=+_numStr}else{var _numStr2=str.replace(/\s/g,"").replace(/[\.,]/g,POINT);_num=+_numStr2}else _num=+str.replace(/\s|,/g,"");if(isNaN(_num)||!isFinite(_num))return NaN;var _fixer=_isFloat?Math.pow(10,_decimalLen):1;return _num=Math.round(_num*_fixer)/_fixer}},module.exports=exports["default"]},,,,,,,,,function(module,exports,__webpack_require__){var keyMirror=__webpack_require__(27);module.exports={ActionTypes:keyMirror({SWITCH_LANGUAGE:null,CHANGE_LOGIN_STATUS:null,CHANGE_LOGIN_ACTIVE:null,CHANGE_LOGIN_DATA:null,BLUR_LOGIN_DATA:null,HANDLE_REGISTER:null,HANDLE_ACCEPT_INVITATION:null,HANDLE_APPLY_TO_JOIN:null,HANDLE_LOGIN:null,HANDLE_LOGIN_WHEN_NEED_SESSION:null,HANDLE_RESET_PASSWORD:null,HANDLE_CONFIRM_NEW_PASSWORD:null,GET_WECHAT_LOGIN_QR:null,GET_WECHAT_LOGIN_STATE:null,SELECT_WECHAT_LOGIN:null,LOGOUT:null})}},function(module,exports){var keyMirror=function(obj){var key,ret={};for(key in obj)obj.hasOwnProperty(key)&&(ret[key]=key);return ret};module.exports=keyMirror},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_LoginConstants=__webpack_require__(26),_AppConstants=__webpack_require__(31),LoginAction={SWITCH_LANGUAGE:function(lanId,lanName){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.SWITCH_LANGUAGE,data:{lanId:lanId,lanName:lanName}},_AppConstants.PayloadCategory.LOGIN)},CHANGE_LOGIN_STATUS:function(status){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.CHANGE_LOGIN_STATUS,status:status},_AppConstants.PayloadCategory.LOGIN)},CHANGE_LOGIN_ACTIVE:function(name){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.CHANGE_LOGIN_ACTIVE,name:name},_AppConstants.PayloadCategory.LOGIN)},CHANGE_LOGIN_DATA:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.CHANGE_LOGIN_DATA,name:name,value:value},_AppConstants.PayloadCategory.LOGIN)},BLUR_LOGIN_DATA:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.BLUR_LOGIN_DATA,name:name,value:value},_AppConstants.PayloadCategory.LOGIN)},HANDLE_REGISTER:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.HANDLE_REGISTER},_AppConstants.PayloadCategory.LOGIN)},HANDLE_ACCEPT_INVITATION:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.HANDLE_ACCEPT_INVITATION},_AppConstants.PayloadCategory.LOGIN)},HANDLE_APPLY_TO_JOIN:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.HANDLE_APPLY_TO_JOIN},_AppConstants.PayloadCategory.LOGIN)},HANDLE_LOGIN:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.HANDLE_LOGIN},_AppConstants.PayloadCategory.LOGIN)},HANDLE_LOGIN_WHEN_NEED_SESSION:function(data){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.HANDLE_LOGIN_WHEN_NEED_SESSION,data:data},_AppConstants.PayloadCategory.LOGIN)},HANDLE_RESET_PASSWORD:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.HANDLE_RESET_PASSWORD},_AppConstants.PayloadCategory.LOGIN)},HANDLE_CONFIRM_NEW_PASSWORD:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.HANDLE_CONFIRM_NEW_PASSWORD},_AppConstants.PayloadCategory.LOGIN)},LOGOUT:function(isKeep){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.LOGOUT,isKeep:isKeep},_AppConstants.PayloadCategory.LOGIN)},GET_WECHAT_LOGIN_QR:function(){_AppDispatcher2["default"].handleViewAction({type:_LoginConstants.ActionTypes.GET_WECHAT_LOGIN_QR},_AppConstants.PayloadCategory.LOGIN)},GET_WECHAT_LOGIN_STATE:function(callback){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.GET_WECHAT_LOGIN_STATE,callback:callback},_AppConstants.PayloadCategory.LOGIN)},SELECT_WECHAT_LOGIN:function(id){_AppDispatcher2["default"].handleServerAction({type:_LoginConstants.ActionTypes.SELECT_WECHAT_LOGIN,id:id},_AppConstants.PayloadCategory.LOGIN)}};exports["default"]=LoginAction,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _Dispatcher=__webpack_require__(30),_Dispatcher2=_interopRequireDefault(_Dispatcher),_lodash=__webpack_require__(8),_AppConstants=__webpack_require__(31),_AppConstants2=_interopRequireDefault(_AppConstants),PayloadSources=_AppConstants2["default"].PayloadSources,PayloadCategory=_AppConstants2["default"].PayloadCategory,AppDispatcher=(0,_lodash.assign)(new _Dispatcher2["default"],{handleServerAction:function(action,category){var payload={source:PayloadSources.SERVER_ACTION,action:action,category:category||PayloadCategory.ALL};this.dispatch(payload)},handleViewAction:function(action,category){var payload={source:PayloadSources.VIEW_ACTION,action:action,category:category||PayloadCategory.ALL};this.dispatch(payload)}});exports["default"]=AppDispatcher,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(513)},function(module,exports,__webpack_require__){var keyMirror=__webpack_require__(27);module.exports={PayloadSources:keyMirror({SERVER_ACTION:null,VIEW_ACTION:null}),ActionTypes:keyMirror({CHANGE_GDC_REGION:null,CHANGE_ACCOUNT_FROM_GDC:null,CHECK_SPACE:null,GET_USER_INFO:null}),PayloadCategory:keyMirror({ALL:null,LOGIN:null,SETTINGS:null,GLOBAL:null,CONTACT:null,FORM:null,TICKET:null,MAIL:null,SMS:null,CUSTOM_FIELDS:null,ADV:null})}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _checkAccountProcess(res,callback){if(res)if(0===res.r)callback&&callback();else{if(res.r==-11){if([4,5,20].indexOf(status)===-1)return;valid.account="valid"}else res.r==-12?valid.account="invited":res.r==-13?valid.account="unValid":res.r==-14?valid.password="error":res.r==-15||(res.r==-19?valid.account="isPending":res.r==-22&&(valid.account="clientBanned"));LoginStore.emitChange("state",{isBtnLoading:!1,valid:_lodash2["default"].assign({},valid)})}}function validRegisterAccount(account,callback){_AppLoginWebAPIUtils2["default"].registerCheckAccountHandle(account).done(function(res){[4,20].indexOf(status)!==-1&&(res&&res.r===-20?(_AppAction2["default"].CHECK_ACCOUNT_FROM_GDC(res.e),_AppLoginWebAPIUtils2["default"].checkAccountRegion(account).then(function(_res){return _checkAccountProcess(_res,callback)})):_checkAccountProcess(res,callback))})}function loginPageJump(){var gdc=_AppStore2["default"].getGdcRegion(),_href=_MGUtil2["default"].parseURL(location.href),page=_href.params.d?decodeURIComponent(_href.params.d):"",hash=_href.hash;page?location.href=(gdc?gdc:"")+page+(hash?"#"+hash:""):location.href=(gdc?gdc:"")+"contact.php"}function loginFinishProcess(res){_checkAccountProcess(res,function(){_MGUtil2["default"].cookie.set("a",dataInfo.account,{expires:365,path:"/"}),1===dataInfo.autoLogin&&_MGUtil2["default"].cookie.set("t",res.t||"",{expires:365,path:"/"}),_MGUtil2["default"].cookie.set("n",res.n||"",{expires:365,path:"/"}),_MGUtil2["default"].cookie.set("ap",res.avt||"",{expires:365,path:"/"}),_MGUtil2["default"].cookie.set("lang",res.lang||_LanguageUtil2["default"].LanguageObj[_config.currentLang].id,{expires:365,path:"/"}),loginPageJump()})}function registerFinishProcess(res){_checkAccountProcess(res,function(){_MGUtil2["default"].cookie.set("lang",res.lang,{expires:365,path:"/"}),_AppStore2["default"].getGdcRegion()&&20!==status?location.href=_AppStore2["default"].getGdcRegion()+"login.php?s=6":(status=6,LoginStore.emitChange("state",{isBtnLoading:!1,status:status}))})}function resetPasswordFinishProcess(res){0==res.r?(_MGUtil2["default"].cookie.set("lang",res._usLangId,{expires:365,path:"/",domain:_DOMAIN}),status=9,LoginStore.emitChange("state",{isBtnLoading:!1,status:status})):(res.r==-13&&(valid.account="unValid"),LoginStore.emitChange("state",{isBtnLoading:!1,valid:_lodash2["default"].assign({},valid)}))}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_config=__webpack_require__(7),_LanguageUtil=__webpack_require__(33),_LanguageUtil2=_interopRequireDefault(_LanguageUtil),_AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_EventEmitter=__webpack_require__(10),_EventEmitter2=_interopRequireDefault(_EventEmitter),_LoginConstants=__webpack_require__(26),_AppConstants=__webpack_require__(31),_MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),_MGCache=__webpack_require__(34),_MGCache2=_interopRequireDefault(_MGCache),_LoginUtil=__webpack_require__(35),_LoginUtil2=_interopRequireDefault(_LoginUtil),_AppAction=__webpack_require__(37),_AppAction2=_interopRequireDefault(_AppAction),_AppStore=__webpack_require__(38),_AppStore2=_interopRequireDefault(_AppStore),_AppLoginWebAPIUtils=__webpack_require__(98),_AppLoginWebAPIUtils2=_interopRequireDefault(_AppLoginWebAPIUtils),CHANGE_EVENT="change",_DOMAIN="mikecrm.com",status=1,active="account",dataInfo={autoLogin:1},valid={},weChatLoginInfo={},LoginStore=_lodash2["default"].assign({},_EventEmitter2["default"].prototype,{emitChange:function(name){if(arguments.length>1)switch(arguments.length){case 2:this.emit(CHANGE_EVENT+name,arguments[1]);break;case 3:this.emit(CHANGE_EVENT+name,arguments[1],arguments[2]);break;default:var len=arguments.length,args=new Array(len);args[0]=CHANGE_EVENT+name;for(var i=1;i<len;i++)args[i-1]=arguments[i];this.emit.apply(this,args)}else this.emit(CHANGE_EVENT+name)},addChangeListener:function(name,callback){this.on(CHANGE_EVENT+name,callback)},removeChangeListener:function(name,callback){this.removeListener(CHANGE_EVENT+name,callback)}});LoginStore.dispatchToken=_AppDispatcher2["default"].register(function(payload){var category=payload.category,action=payload.action,LEGAL_CATEGORIES=[_AppConstants.PayloadCategory.LOGIN],_isLegalCategory=!1;_isLegalCategory=_lodash2["default"].isArray(category)?_lodash2["default"].intersection(LEGAL_CATEGORIES,category).length>1:LEGAL_CATEGORIES.indexOf(category)>-1,_LoginConstants.ActionTypes[action.type]&&_isLegalCategory&&!function(){switch(action.type){case _LoginConstants.ActionTypes.CHANGE_LOGIN_STATUS:var newStatus=action.status;switch(newStatus){case 2:active="password",dataInfo.account=_MGUtil2["default"].cookie.get("a"),dataInfo.username=_MGUtil2["default"].cookie.get("n"),dataInfo.avatar=_MGUtil2["default"].cookie.get("ap");break;case 5:active="password",dataInfo.token=window.purl.params.t;break;case 20:active="account",dataInfo.applyToken=window.purl.params.t;break;case 10:active="newPassword",dataInfo.rpToken=window.rpToken,dataInfo.account=window.rpAccount;break;case 1:case 4:case 19:case 8:default:active="account"}2===status&&2!==newStatus&&(dataInfo={autoLogin:1}),valid={},status=newStatus,LoginStore.emitChange("state",{isBtnLoading:!1,active:active,status:status,valid:_lodash2["default"].assign({},valid),data:_lodash2["default"].assign({},dataInfo)});break;case _LoginConstants.ActionTypes.SWITCH_LANGUAGE:var _action$data=action.data,lanId=_action$data.lanId,lanName=_action$data.lanName;_AppLoginWebAPIUtils2["default"].setLanguageHandle(lanId).done(function(res){0===res.r&&(_MGUtil2["default"].cookie.set("lang",lanId,{path:"/"}),window.setTimeout(function(){function reload(){var params=_MGUtil2["default"].parseURL(location.href).params;params.s&&1!==+params.s?params.t?location.href="login.php?s="+params.s+"&t="+params.t:location.href="login.php?s="+params.s:location.href="login.php"}var _s=document.createElement("script");_s.src="js/common-"+lanName+".js",_s.onreadystatechange=function(){"complete"==this.readyState&&reload()},_s.onload=reload,_s.onerror=reload,document.getElementsByTagName("head")[0].appendChild(_s)},500))});break;case _LoginConstants.ActionTypes.CHANGE_LOGIN_ACTIVE:active=action.name,LoginStore.emitChange("state",{active:active});break;case _LoginConstants.ActionTypes.CHANGE_LOGIN_DATA:dataInfo[action.name]=action.value,valid[action.name]&&delete valid[action.name],LoginStore.emitChange("state",{isBtnLoading:!1,data:_lodash2["default"].assign({},dataInfo),valid:_lodash2["default"].assign({},valid)});break;case _LoginConstants.ActionTypes.BLUR_LOGIN_DATA:active=null,LoginStore.emitChange("state",{active:active});var blurName=action.name;if("account"===blurName&&dataInfo[blurName]&&[4,20].indexOf(status)>-1){var accountValid=_LoginUtil2["default"].validateLoginData(["account"],dataInfo).account;accountValid?(valid[blurName]=accountValid,LoginStore.emitChange("state",{valid:_lodash2["default"].assign({},valid)})):validRegisterAccount(dataInfo[blurName])}break;case _LoginConstants.ActionTypes.HANDLE_LOGIN:var loginKeyArray=["account","password","autoLogin"];18===status&&loginKeyArray.push("ttprb"),valid=_LoginUtil2["default"].validateLoginData(loginKeyArray,dataInfo),_lodash2["default"].isEmpty(valid)&&!function(){var loginData=_LoginUtil2["default"].convertLoginDataInfo(dataInfo,loginKeyArray,!0);_AppLoginWebAPIUtils2["default"].loginHandle(loginData).done(function(res){res&&res.r==-20?"v1"===res.e?(_AppAction2["default"].CHECK_ACCOUNT_FROM_GDC(res.e),_AppLoginWebAPIUtils2["default"].loginV1(loginData).then(function(res){if(res.flag)location.href=_AppStore2["default"].getGdcRegion()+"listContact.php";else{var errorCode=""+res.errorCode;if(errorCode)switch(errorCode){case"111":valid.account="valid";break;case"222":valid.account="clientBanned";break;default:valid.password="error"}else valid.password="error";LoginStore.emitChange("state",{isBtnLoading:!1,valid:_lodash2["default"].assign({},valid)})}})):(_AppAction2["default"].CHECK_ACCOUNT_FROM_GDC(res.e),_AppLoginWebAPIUtils2["default"].loginWithRegionHandle(loginData).then(loginFinishProcess)):loginFinishProcess(res)})}(),LoginStore.emitChange("state",{isBtnLoading:_lodash2["default"].isEmpty(valid),valid:_lodash2["default"].assign({},valid)});break;case _LoginConstants.ActionTypes.HANDLE_LOGIN_WHEN_NEED_SESSION:_AppLoginWebAPIUtils2["default"].loginHandle(_LoginUtil2["default"].convertLoginDataInfo(action.data,["account","password"],!0)).done(function(res){_MGUtil2["default"].cookie.set("a",action.data.account,{expires:365,path:"/"}),_MGUtil2["default"].cookie.set("n",res.n||"",{expires:365,path:"/"}),_MGUtil2["default"].cookie.set("ap",res.avt||"",{expires:365,path:"/"}),_MGUtil2["default"].cookie.set("lang",res.lang||_LanguageUtil2["default"].LanguageObj[_config.currentLang].id,{expires:365,path:"/"}),LoginStore.emitChange("loginWhenNeedSessionFinish",res)});break;case _LoginConstants.ActionTypes.HANDLE_REGISTER:var registerKeyArray=["account","password","company","username","mobile"];19===status&&registerKeyArray.push("ttprb"),valid=_LoginUtil2["default"].validateLoginData(registerKeyArray,dataInfo),_lodash2["default"].isEmpty(valid)&&validRegisterAccount(dataInfo.account,function(){var registerData=_LoginUtil2["default"].convertLoginDataInfo(dataInfo,registerKeyArray);_AppLoginWebAPIUtils2["default"].registerHandle(registerData).done(function(res){res&&registerFinishProcess(res)})}),LoginStore.emitChange("state",{valid:_lodash2["default"].assign({},valid),isBtnLoading:_lodash2["default"].isEmpty(valid)});break;case _LoginConstants.ActionTypes.HANDLE_ACCEPT_INVITATION:var acceptKeyArray=["token","password","username","mobile"];if(valid=_LoginUtil2["default"].validateLoginData(acceptKeyArray,dataInfo),_lodash2["default"].isEmpty(valid)){var acceptData=_LoginUtil2["default"].convertLoginDataInfo(dataInfo,acceptKeyArray);_AppLoginWebAPIUtils2["default"].inviteRegisterHandle(acceptData).done(function(res){res&&registerFinishProcess(res)})}LoginStore.emitChange("state",{valid:_lodash2["default"].assign({},valid),isBtnLoading:_lodash2["default"].isEmpty(valid)});break;case _LoginConstants.ActionTypes.HANDLE_APPLY_TO_JOIN:var applyKeyArray=["applyToken","account","password","username","mobile"];if(valid=_LoginUtil2["default"].validateLoginData(applyKeyArray,dataInfo),_lodash2["default"].isEmpty(valid)){var applyData=_LoginUtil2["default"].convertLoginDataInfo(dataInfo,applyKeyArray);_AppLoginWebAPIUtils2["default"].applyToJoinHandle(applyData).done(function(res){res&&registerFinishProcess(res)})}LoginStore.emitChange("state",{valid:_lodash2["default"].assign({},valid),isBtnLoading:_lodash2["default"].isEmpty(valid)});break;case _LoginConstants.ActionTypes.HANDLE_RESET_PASSWORD:var resetKeyArray=["account"];valid=_LoginUtil2["default"].validateLoginData(resetKeyArray,dataInfo),_lodash2["default"].isEmpty(valid)&&!function(){var resetData=_LoginUtil2["default"].convertLoginDataInfo(dataInfo,resetKeyArray);_AppLoginWebAPIUtils2["default"].forgotPasswordHandle(resetData).done(function(res){res&&(res.r==-20?"v1"===res.e?location.href="http://v1.mikecrm.com/login.php":(_AppAction2["default"].CHECK_ACCOUNT_FROM_GDC(res.e),_AppLoginWebAPIUtils2["default"].forgotPasswordWithRegionHandle(resetData).then(resetPasswordFinishProcess)):resetPasswordFinishProcess(res))})}(),LoginStore.emitChange("state",{valid:_lodash2["default"].assign({},valid),isBtnLoading:_lodash2["default"].isEmpty(valid)});break;case _LoginConstants.ActionTypes.HANDLE_CONFIRM_NEW_PASSWORD:var confirmKeyArray=["rpToken","newPassword","newPasswordAgain"];if(valid=_LoginUtil2["default"].validateLoginData(confirmKeyArray,dataInfo),_lodash2["default"].isEmpty(valid)){var _resetData=_LoginUtil2["default"].convertLoginDataInfo(dataInfo,confirmKeyArray);_AppLoginWebAPIUtils2["default"].resetPasswordHandle(_resetData).done(function(res){res&&(0==res.r?(status=1,active="password",delete dataInfo.newPassword,delete dataInfo.newPasswordAgain,LoginStore.emitChange("state",{isBtnLoading:!1,status:status,active:active,data:_lodash2["default"].assign({},dataInfo)})):LoginStore.emitChange("state",{isBtnLoading:!1}))})}LoginStore.emitChange("state",{valid:_lodash2["default"].assign({},valid),isBtnLoading:_lodash2["default"].isEmpty(valid)});break;case _LoginConstants.ActionTypes.LOGOUT:_MGCache2["default"].clear(),_AppLoginWebAPIUtils2["default"].logoutHandle().always(function(){action.isKeep||("/login.php"===location.pathname?location.reload():location.href="login.php")});break;case _LoginConstants.ActionTypes.GET_WECHAT_LOGIN_QR:_AppLoginWebAPIUtils2["default"].getWeChatQr().done(function(res){0===res.r&&(weChatLoginInfo=_lodash2["default"].assign({},{uid:res.uid,qrPath:res.qrPath}),LoginStore.emitChange("gotWeChatQrSucceed",weChatLoginInfo))});break;case _LoginConstants.ActionTypes.GET_WECHAT_LOGIN_STATE:var wcUid=weChatLoginInfo.uid;wcUid&&_AppLoginWebAPIUtils2["default"].getWeChatLoginState(wcUid).done(function(res){if(0===res.r)if(res._ACT)switch(LoginStore.emitChange("weChatLoginSucceed"),res._ACT){case"V1":_AppAction2["default"].CHECK_ACCOUNT_FROM_GDC("v1"),_AppLoginWebAPIUtils2["default"].loginV1({a:res.account,p1:res.pass}).then(function(){location.href=_AppStore2["default"].getGdcRegion()+"listContact.php"});break;case"LOGIN":loginPageJump();break;case"REG":dataInfo.ttprb=res.d.ttprb,LoginStore.emitChange("weChatLoginStateChange",res);break;case"REDIRECT":location.href=location.protocol+"//"+res.d.sld+".mikecrm.com/login.php?ttpl="+encodeURIComponent(res.d.ttpl);break;case"SELECT":LoginStore.emitChange("weChatLoginStateChange",res)}else action.callback&&action.callback()});break;case _LoginConstants.ActionTypes.SELECT_WECHAT_LOGIN:_AppLoginWebAPIUtils2["default"].wxLoginSelect(action.id,weChatLoginInfo.uid).done(function(res){if(0===res.r)switch(res._ACT){case"REDIRECT":location.href=location.protocol+"//"+res.d.sld+".mikecrm.com/login.php?ttpl="+encodeURIComponent(res.d.ttpl);break;case"LOGIN":default:loginPageJump()}})}}()}),exports["default"]=LoginStore,module.exports=exports["default"]},function(module,exports){module.exports={LanguageObj:{cn:{id:1,lan:"简体中文"},tw:{id:2,lan:"繁體中文"},en:{id:3,lan:"English"},es:{id:4,lan:"Español"},fr:{id:6,lan:"Français"},de:{id:7,lan:"Deutsch"},it:{id:8,lan:"Italiano"},ar:{id:5,lan:"العربية"},ja:{id:9,lan:"日本語"},ko:{id:10,lan:"한국의"},ru:{id:11,lan:"Pусский"}}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(539)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _saltGetter(){var _res,list=["gg",1,"K",4,"!",8,"jY",7,"Q",5,"9",6,"3",2,"#",3];return list.forEach(function(v,i){"number"==typeof v&&(_res||(_res=[]),_res[v-1]=list[i-1])}),_res.join("")}var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_md=__webpack_require__(36),_md2=_interopRequireDefault(_md),_MGString=__webpack_require__(14),_MGString2=_interopRequireDefault(_MGString),_config=__webpack_require__(7),DataMapping={account:"a",password:"p",newPassword:"p",company:"c",username:"u",mobile:"m",autoLogin:"al",token:"it",ttprb:"ttprb",applyToken:"tmit",rpToken:"t"},ERROR_MESSAGES={account:{require:{eMsg:_config.lang.errLoEmailNullMsg},max:{limitVal:127,eMsg:_config.lang.errLoEmailTooLongMsg},isEmail:{eMsg:_config.lang.errLoEmailValidFailMsg},valid:{eMsg:_config.lang.errLoEmailSignedMsg,eTip:{"class":"l_toLogin",text:_config.lang.errLoTipsTryLogin}},unValid:{eMsg:_config.lang.errLoEmailUnSignedMsg},invited:{eMsg:_config.lang.errLoEmailInvitedMsg},isPending:{eMsg:_config.lang.errLoEmailIsPendingMsg},clientBanned:{eMsg:_config.lang.errLoClientBannedMsg},downloadUnMatch:{eMsg:_config.lang.errLoDownloadUnMatchMsg},cantBuy:{eMsg:_config.lang.errLoCantBuyMsg}},password:{require:{eMsg:_config.lang.errLoPasswordNullMsg},max:{limitVal:32,eMsg:_config.lang.errLoPasswordTooLongMsg},error:{eMsg:_config.lang.errLoPasswordMsg,eTip:{"class":"l_forgetPassword",text:_config.lang.errLoTipsForgotPwd}}},company:{require:{eMsg:_config.lang.errLoOrganizationNullMsg},max:{limitVal:127,eMsg:_config.lang.errLoOrganizationTooLongMsg}},username:{require:{eMsg:_config.lang.errLoUsernameNullMsg},max:{limitVal:127,eMsg:_config.lang.errLoUsernameTooLongMsg}},mobile:{require:{eMsg:_config.lang.errLoMobileNullMsg},max:{limitVal:127,eMsg:_config.lang.errLoMobileTooLongMsg}},VerficationCODE:{require:{eMsg:_config.lang.errLoVerificationCodeNullMsg},error:{eMsg:_config.lang.errLoVerificationCodeMsg}},mobileVerficationCODE:{require:{eMsg:_config.lang.errLoMobileVerificationCodeNullMsg},error:{eMsg:_config.lang.errLoMobileVerificationCodeMsg}},newPassword:{require:{eMsg:_config.lang.errLoPasswordNullMsg},max:{limitVal:32,eMsg:_config.lang.errLoPasswordTooLongMsg}},newPasswordAgain:{require:{eMsg:_config.lang.errLoNewPasswordNullMsg},max:{limitVal:32,eMsg:_config.lang.errLoPasswordTooLongMsg},equalTo:{needEqualTo:"newPassword",eMsg:_config.lang.errLoPasswordNotEqualMaMsg}}},LOGIN_FIELD_INFO={account:{icon:String.fromCharCode(58895),placeholder:_config.lang.loEmail},password:{type:"password",icon:String.fromCharCode(58896),placeholder:_config.lang.loPassword},company:{icon:String.fromCharCode(59076),placeholder:_config.lang.loOrganization},username:{icon:String.fromCharCode(59079),placeholder:_config.lang.loUsername},mobile:{icon:String.fromCharCode(59074),placeholder:_config.lang.loMobile},newPassword:{type:"password",icon:String.fromCharCode(58896),placeholder:_config.lang.loNewPassword},newPasswordAgain:{type:"password",icon:String.fromCharCode(58896),placeholder:_config.lang.loNewPasswordAgain}},ERROR_INVITEREGISTER={"-5":{title:_config.lang.errLoIROrgUnexitTitle,
  dis:_config.lang.errLoIROrgUnexitDis,todo:_config.lang.errLoIROrgUnexitTodo},"-6":{title:_config.lang.errLoIRUserUnexitTitle,dis:_config.lang.errLoIRUserUnexitDis,todo:_config.lang.errLoIRUserUnexitTodo},"-53":{title:_config.lang.errLoIRParamMissTitle,dis:_config.lang.errLoIRParamMissDis,todo:_config.lang.errLoIRParamMissTodo},"-16":{title:_config.lang.errLoIRTokenValidTitle,dis:_config.lang.errLoIRTokenValidDis,todo:_config.lang.errLoIRTokenValidTodo},"-17":{title:_config.lang.errLoIRTokenExpireTitle,dis:_config.lang.errLoIRTokenExpireDis,todo:_config.lang.errLoIRTokenExpireTodo},"-10":{title:_config.lang.errLoIRAmazingErrTitle,dis:_config.lang.errLoIRAmazingErrDis,todo:_config.lang.errLoIRAmazingErrTodo}},ERROR_RESET_PASSWORD={"-5":{title:_config.lang.errLoIROrgUnexitTitle,dis:_config.lang.errLoRPOrgUnexitDis,todo:_config.lang.errLoRPOrgUnexitTodo},"-53":{title:_config.lang.errLoIRParamMissTitle,dis:_config.lang.errLoRPParamMissDis,todo:_config.lang.errLoRPParamMissTodo},"-16":{title:_config.lang.errLoIRTokenValidTitle,dis:_config.lang.errLoRPParamMissDis,todo:_config.lang.errLoRPParamMissTodo},"-17":{title:_config.lang.errLoIRTokenExpireTitle,dis:_config.lang.errLoRPTokenExpireDis,todo:_config.lang.errLoRPTokenExpireTodo},"-10":{title:_config.lang.errLoIRAmazingErrTitle,dis:_config.lang.errLoRPAmazingErrDis,todo:_config.lang.errLoRPAmazingErrTodo}};module.exports={validateLoginData:function(keyArray,data){var validObj={};return _lodash2["default"].forEach(keyArray,function(name){var value=data[name],validInfo=ERROR_MESSAGES[name];validInfo&&!_lodash2["default"].isEmpty(validInfo)&&(validInfo.require&&!value?validObj[name]="require":value&&(validInfo.max&&value.length>validInfo.max.limitVal?validObj[name]="max":validInfo.isEmail&&!_MGString2["default"].isEmail(_lodash2["default"].trim(value))?validObj[name]="isEmail":validInfo.equalTo&&value!==data[validInfo.equalTo.needEqualTo]&&(validObj[name]="equalTo")))}),validObj},convertLoginDataInfo:function(data,keyArray,isLoginV2){var _res={},EMPTY="",REGEX_NBSP=new RegExp("&nbsp;","g"),REGEX_CARRIAGE=new RegExp("&#13;?","g"),REGEX_ZWS=new RegExp("&#8203;?","g"),REGEX_LINE_SEPARATOR=new RegExp("\u2028","g"),REGEX_PARAGRAPH_SEPARATOR=new RegExp("\u2029","g");return _lodash2["default"].forEach(data,function(val,key){keyArray.indexOf(key)>-1&&DataMapping[key]&&("password"==key||"newPassword"==key?isLoginV2?(_res.p1=val?(0,_md2["default"])(val):"",_res.p2=val?(0,_md2["default"])(val+_saltGetter()):""):_res.p=val?(0,_md2["default"])(val+_saltGetter()):"":("account"===key&&(val=_lodash2["default"].trim((val||"").replace(REGEX_NBSP,EMPTY).replace(REGEX_LINE_SEPARATOR,EMPTY).replace(REGEX_PARAGRAPH_SEPARATOR,EMPTY).replace(REGEX_CARRIAGE,EMPTY).replace(REGEX_ZWS,EMPTY).replace(" ",EMPTY))),_res[DataMapping[key]]=val))}),_res},ERROR_MESSAGES:ERROR_MESSAGES,LOGIN_FIELD_INFO:LOGIN_FIELD_INFO,ERROR_INVITEREGISTER:ERROR_INVITEREGISTER,ERROR_RESET_PASSWORD:ERROR_RESET_PASSWORD}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(515)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_AppConstants=__webpack_require__(31),AppAction={CHANGE_GDC_REGION:function(id){_AppDispatcher2["default"].dispatch({action:{type:_AppConstants.ActionTypes.CHANGE_GDC_REGION,data:id}})},CHECK_ACCOUNT_FROM_GDC:function(region){_AppDispatcher2["default"].dispatch({action:{type:_AppConstants.ActionTypes.CHANGE_ACCOUNT_FROM_GDC,region:region}})},CHECK_SPACE:function(){_AppDispatcher2["default"].dispatch({action:{type:_AppConstants.ActionTypes.CHECK_SPACE}})},GET_ACCOUNT_MENU_DATA:function(){_AppDispatcher2["default"].dispatch({action:{type:_AppConstants.ActionTypes.GET_ACCOUNT_MENU_DATA}})}};exports["default"]=AppAction,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function convertLocationSelectorRawInfo(raw){var _res={};return _lodash2["default"].forEach(raw,function(val,key){SelectRawMapping[key]&&(_res[SelectRawMapping[key]]=val)}),_res}function _updateHandleMessenger(name,info){var messengerFrame=(0,_jquery2["default"])("#"+name),link=_GlobalUtil2["default"].HOST_URL(info.regionId)+"gdcMessenger.php";if(0===messengerFrame.length){(0,_jquery2["default"])("body").append('<iframe name="'+name+'" style="display: none" id="'+name+'" src="'+link+'"></iframe>'),messengerFrame=(0,_jquery2["default"])("#"+name);try{messengerFrame.attr("data-loaded",0)}catch(e){console.log("error?")}window.addEventListener?window.addEventListener("message",function(e){if(e.data){var _d=JSON.parse(e.data);postMessageCallback[_d.name]&&postMessageCallback[_d.name](_d.data)}}):window.onmessage=function(e){if(e.data){var _d=JSON.parse(e.data);postMessageCallback[_d.name]&&postMessageCallback[_d.name](e.data)}}}else if(messengerFrame.attr("src")!==link)try{messengerFrame.attr("data-loaded",0),messengerFrame.attr("src",link)}catch(e){_MGDebugger2["default"].log("error?")}return messengerFrame.off("load").on("load",function(){messengerFrame.attr("data-loaded",1)}),_CURRENT_GDC_REGION!==info.id?window.frames[name]:null}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_EventEmitter=__webpack_require__(10),_EventEmitter2=_interopRequireDefault(_EventEmitter),_MGDebugger=__webpack_require__(39),_MGDebugger2=_interopRequireDefault(_MGDebugger),_AppConstants=__webpack_require__(31),_MGString=__webpack_require__(14),_MGString2=_interopRequireDefault(_MGString),_GlobalUtil=__webpack_require__(40),_GlobalUtil2=_interopRequireDefault(_GlobalUtil),_AppBaseWebAPIUtils=__webpack_require__(50),_AppBaseWebAPIUtils2=_interopRequireDefault(_AppBaseWebAPIUtils),_CURRENT_GDC_REGION=(__webpack_require__(11),window._REGION),gdcRegionId=_CURRENT_GDC_REGION,messenger=null,_rMessenger=null,postMessageCallback={},SelectRawMapping={a:"alias",dst:"needDST",i:"value",t:"label",tz:"timezone"},CHANGE_EVENT="change",AppStore=(0,_lodash.assign)({},_EventEmitter2["default"].prototype,{emitChange:function(name){if(arguments.length>1)switch(arguments.length){case 2:this.emit(CHANGE_EVENT+name,arguments[1]);break;case 3:this.emit(CHANGE_EVENT+name,arguments[1],arguments[2]);break;default:var len=arguments.length,args=new Array(len);args[0]=CHANGE_EVENT+name;for(var i=1;i<len;i++)args[i-1]=arguments[i];this.emit.apply(this,args)}else this.emit(CHANGE_EVENT+name)},addChangeListener:function(name,callback){this.on(CHANGE_EVENT+name,callback)},removeChangeListener:function(name,callback){this.removeListener(CHANGE_EVENT+name,callback)},bindPostMessageCallback:function(name,callback){postMessageCallback[name]=callback},getGdcRegion:function(){if(gdcRegionId!==_CURRENT_GDC_REGION){if(0===gdcRegionId)return _GlobalUtil2["default"].HOST_URL("v1");var servers=[].concat(_GlobalUtil2["default"].MIKE_SERVER,_GlobalUtil2["default"].MIKE_SERVER_PRIVATE),_gdcInfo=_lodash2["default"].find(servers,{id:gdcRegionId});return _GlobalUtil2["default"].HOST_URL(_gdcInfo.regionId)}return""},getGdc:function(){return gdcRegionId},getMessenger:function(){return messenger},getRegionMessenger:function(){return _rMessenger},getAllCountry:function(){_AppBaseWebAPIUtils2["default"].getAllCountry().done(function(res){0===res.r&&callback&&callback(_lodash2["default"].map(res.d||[],function(val){return convertLocationSelectorRawInfo(val)}))})},getLocationChosenResult:function(content,callback,mgl){content=_lodash2["default"].trim(""+content).toLowerCase(),_MGString2["default"].getLength(content.trim(),!0)<=1?(_AppBaseWebAPIUtils2["default"].abortLocation(),callback&&callback([],!0)):_AppBaseWebAPIUtils2["default"].getLocation({mgl:mgl||3,t:content}).done(function(res){0===res.r&&callback&&callback(_lodash2["default"].map(res.d||[],function(val){return convertLocationSelectorRawInfo(val)}))})},getQuickSearch:function(val,callback){_AppBaseWebAPIUtils2["default"].abortQuickSearch(),_AppBaseWebAPIUtils2["default"].getQuickSearch(val).done(function(res){callback&&0===res.r&&callback(_GlobalUtil2["default"].convertQuickSearch(res,val))})},closeUserGuide:function(n,callback){_AppBaseWebAPIUtils2["default"].closeUserGuide(n).done(function(res){0===res.r&&(res.d?window.uFlgUg0=res.d:_GlobalUtil2["default"].setUserGuideFlag(n,[4,6,7,8].indexOf(n)===-1),callback&&callback())})}});AppStore.dispatchToken=_AppDispatcher2["default"].register(function(payload){var action=payload.action;switch(action.type){case _AppConstants.ActionTypes.CHANGE_GDC_REGION:var id=action.data,_gdcIndex=_lodash2["default"].findIndex(_GlobalUtil2["default"].MIKE_SERVER,{id:id});_gdcIndex!==-1&&(gdcRegionId=id,_MGDebugger2["default"].log(gdcRegionId),_CURRENT_GDC_REGION!==gdcRegionId&&(messenger={name:"regionFrame",frame:_updateHandleMessenger("regionFrame",_GlobalUtil2["default"].MIKE_SERVER[_gdcIndex])}));break;case _AppConstants.ActionTypes.CHANGE_ACCOUNT_FROM_GDC:var _regionInfo=_lodash2["default"].find(_GlobalUtil2["default"].MIKE_SERVER,{regionId:action.region});_regionInfo?gdcRegionId=_regionInfo.id:"v1"===action.region&&(_regionInfo={id:0,sId:"v1",regionId:"v1"},gdcRegionId=0),_rMessenger={name:"checkFrame",frame:_updateHandleMessenger("checkFrame",_regionInfo),url:_GlobalUtil2["default"].HOST_URL(action.region)};break;case _AppConstants.ActionTypes.CHECK_SPACE:_AppBaseWebAPIUtils2["default"].checkSpace().done(function(res){0===res.r&&(_GlobalUtil2["default"].setUserGuideFlag(7,res.d?0:1),AppStore.emitChange("spaceChange",!res.d))});break;case _AppConstants.ActionTypes.GET_ACCOUNT_MENU_DATA:_AppBaseWebAPIUtils2["default"].getAccountMenuData().done(function(res){0===res.r&&AppStore.emitChange("menuDataChange",{curType:res.c,balance:res.b,mailQuota:res.mb,smsQuota:res.sb})})}}),exports["default"]=AppStore,module.exports=exports["default"]},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var isPrd,_arguments=arguments;window.mkErrorLog=[];var emptyFunc=function(){},MGDebugger={log:emptyFunc,warn:emptyFunc,info:emptyFunc,error:function(){window.mkErrorLog.push(_arguments)}};if(isPrd=!0,!isPrd&&window.console)try{MGDebugger={log:console.log.bind(window.console),warn:console.warn.bind(window.console),info:console.info.bind(window.console),error:console.error.bind(window.console)}}catch(_){MGDebugger.log=console.log}exports["default"]=MGDebugger,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function HOST_URL(region){return location.protocol+"//"+region+".mikecrm.com/"}function convertQuickSearch(res,pattern){pattern=_MGString2["default"].removeEmpty(pattern);var contactInfo=res.d.ct,groupInfo=res.d.ctg,formInfo=res.d.fr,_convertContacts=[],_convertGroups=[],_convertForm=[],count=0;if(contactInfo&&!function(){var contactData=_lodash2["default"].omit(contactInfo,"ctn");_lodash2["default"].forEach(contactInfo.ctn,function(name,id){var data={name:name,id:+id};_lodash2["default"].forEach(contactData,function(info,typeId){var type="TG"===typeId?"tag":FormBuilderUtil.COMPONENT_TYPE_MAPPING[typeId];"name"!==type&&("company"===type||"tag"===type?_lodash2["default"].forEach(info,function(_d){+id===_d[0]&&(data[type]=_d[1])}):type&&info[id]&&(data[type]=info[id].filter(function(_e){return _MGString2["default"].removeEmpty(_e).indexOf(pattern)>=0})[0]))}),count++,_convertContacts.push(data)})}(),groupInfo&&_lodash2["default"].forEach(groupInfo,function(info){count++,_convertGroups.push(_lodash2["default"].zipObject(["id","type","name","num","isTop"],info))}),formInfo){var formData=_lodash2["default"].omit(formInfo,"fgrn");_lodash2["default"].forEach(formData,function(info){count++,_convertForm.push({id:info[0],name:info[1],group:info[2]&&formInfo.fgrn?formInfo.fgrn[info[2]]:null,state:info[3]})})}return{length:count,data:{contact:_convertContacts,group:_convertGroups,form:_convertForm}}}function convertBeforePayInfo(res){var exRaw=res,prList=[];_lodash2["default"].forEach(exRaw.p.l,function(prInfo){var _prItem=_lodash2["default"].zipObject(["prId","prNo","prName","prPriceCn","prPriceEn","exInfo"],prInfo);_prItem.prPrice={1:_prItem.prPriceCn,2:_prItem.prPriceEn},prList.push(_prItem)});var voucher={};exRaw.v&&_lodash2["default"].forEach(exRaw.v,function(voucherList,curType){voucher[curType]=[],_lodash2["default"].forEach(voucherList||[],function(voucherInfo){voucher[curType].push(_lodash2["default"].zipObject(["voucherId","voucherToken","voucherMoney","voucherExpiry"],voucherInfo))})});var prExt={};return exRaw.ext&&_lodash2["default"].forEach(exRaw.ext,function(extVal,extName){PRODUCT_EXT_INFO_MAPPING[extName]&&(prExt[PRODUCT_EXT_INFO_MAPPING[extName]]=extVal)}),{defaultCurrent:exRaw.c,balance:exRaw.b,voucher:voucher,prGrName:exRaw.p.mt,prList:prList,prExt:prExt}}function convertConfirmBuyInfo(res){var _res={};return _lodash2["default"].forEach(res,function(val,key){FORM_CONFIRM_BUY_RAW_MAPPING[key]&&val&&(_res[FORM_CONFIRM_BUY_RAW_MAPPING[key]]=val)}),_res}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_config=__webpack_require__(7),_MGString=__webpack_require__(14),_MGString2=_interopRequireDefault(_MGString),_FormBuilderUtil=__webpack_require__(41),FormBuilderUtil=_interopRequireWildcard(_FormBuilderUtil),MIKE_SERVER=[{id:1,sId:"cn",regionId:"cn",location:_config.lang.gServerLocationArray[0],country:_config.lang.gServerCountryArray[0],left:"250",top:"76",flag:"images/nationalFlag/1.gif"},{id:4,sId:"hk",regionId:"hk",location:_config.lang.gServerLocationArray[3],country:_config.lang.gServerCountryArray[3],left:"250",top:"94",flag:"images/nationalFlag/3222.gif"},{id:3,sId:"sv",regionId:"sv",location:_config.lang.gServerLocationArray[2],country:_config.lang.gServerCountryArray[2],left:"44",top:"60",flag:"images/nationalFlag/3442.gif"},{id:5,sId:"va",regionId:"va",location:_config.lang.gServerLocationArray[4],country:_config.lang.gServerCountryArray[4],left:"94",top:"72",flag:"images/nationalFlag/3442.gif"},{id:8,sId:"de",regionId:"de",location:_config.lang.gServerLocationArray[6],country:_config.lang.gServerCountryArray[6],left:"154",top:"67",flag:"images/nationalFlag/3313.gif"},{id:9,sId:"au",regionId:"au",location:_config.lang.gServerLocationArray[7],country:_config.lang.gServerCountryArray[7],left:"282",top:"141",flag:"images/nationalFlag/3258.gif"},{id:2,sId:"sg",regionId:"sg",location:_config.lang.gServerLocationArray[1],country:_config.lang.gServerCountryArray[1],left:"240",top:"111",flag:"images/nationalFlag/3410.gif"},{id:6,sId:"ja",regionId:"jp",location:_config.lang.gServerLocationArray[5],country:_config.lang.gServerCountryArray[5],left:"270",top:"73",flag:"images/nationalFlag/3333.gif"}],MIKE_SERVER_PRIVATE=[{id:12,sId:"zf",regionId:"zf"}],HEADER_PAGES=[{name:"contact",icon:String.fromCharCode(58898),title:_config.lang.gHeaderContact,href:"contact.php"},{name:"form",icon:String.fromCharCode(58899),title:_config.lang.gHeaderForm,href:"form.php"},{name:"mail",icon:String.fromCharCode(58900),title:_config.lang.gHeaderMail,href:"mail.php"},{name:"sms",icon:String.fromCharCode(58901),title:_config.lang.gHeaderMsg,href:"sms.php"}],HEADER_QUICK_SEARCH_TABS={contact:{icon:String.fromCharCode(58898),title:_config.lang.gQSContact},group:{icon:String.fromCharCode(58957),title:_config.lang.gQSGroup},form:{icon:String.fromCharCode(58899),title:_config.lang.gQSForm}},HEADER_SETTINGS=[{name:"systemSettings",icon:String.fromCharCode(58947),title:_config.lang.gHeaderOperateArray[0],href:"settings.php"},{name:"wallet",icon:String.fromCharCode(58916),title:_config.lang.sTypeWallet,href:"settings.php#/wallet"},{name:"mailQuota",title:_config.lang.mMailQuota},{name:"smsQuota",title:_config.lang.smsQuota},{name:"enhancementPack",icon:String.fromCharCode(58915),title:_config.lang.sTypeEnhancementPack,href:"settings.php#/enhancementPack"},{name:"favorable",icon:String.fromCharCode(58927),title:_config.lang.gHeaderFavorable,target:"_blank",href:"https://cn.mikecrm.com/m9rmVju"},{name:"weChat",icon:String.fromCharCode(59094),title:_config.lang.gHeaderWeChat},{name:"contactUs",icon:String.fromCharCode(58924),title:_config.lang.gHeaderOperateArray[1]},{name:"faq",icon:String.fromCharCode(58926),title:_config.lang.gHeaderOperateArray[3],target:"_blank",href:"http://wiki."+(window.sld||"cn")+".mikecrm.com/faq"},{name:"wiki",icon:String.fromCharCode(58925),title:_config.lang.gHeaderOperateArray[2],target:"_blank",href:"http://wiki."+(window.sld||"cn")+".mikecrm.com"}],COLOR_PICKER_COLORS=[{id:1,color:"#E74C3C"},{id:2,color:"#E67E22"},{id:3,color:"#F1C40F"},{id:4,color:"#2ECC71"},{id:5,color:"#1ABC9C"},{id:6,color:"#3498DB"},{id:7,color:"#9B59B6"},{id:8,color:"#3E3D32"},{id:9,color:"#95A5A6"},{id:10,color:"#ECF0F1"},{id:11,color:"#C0392B"},{id:12,color:"#D35400"},{id:13,color:"#F39C12"},{id:14,color:"#27AE60"},{id:15,color:"#16A085"},{id:16,color:"#2980B9"},{id:17,color:"#8E44AD"},{id:18,color:"#2C3E50"},{id:19,color:"#7F8C8D"},{id:20,color:"#BDC3C7"}],MagicWidth=function(){function MagicWidth(_ref){var constraint=_ref.constraint,widthDelta=_ref.widthDelta,weight=_ref.weight,customConstraint=_ref.customConstraint,staticInfo=_ref.staticInfo;_classCallCheck(this,MagicWidth),this.constraint=constraint,this.widthDelta=widthDelta,this.weight=weight,this.staticInfo=staticInfo||[],this.customConstraint=customConstraint}return _createClass(MagicWidth,[{key:"setWidthDelta",value:function(val){_lodash2["default"].isNumber(val)&&(this.widthDelta=val)}},{key:"getConstraint",value:function(type,key){return this.customConstraint&&_lodash2["default"].isFunction(this.customConstraint)&&(key=this.customConstraint(key)),this.constraint[type][key]}},{key:"constraintWidth",value:function(key,value){var res=Math.floor(value);return this.getConstraint("max",key)&&(res=Math.min(res,this.getConstraint("max",key))),this.getConstraint("min",key)&&(res=Math.max(res,this.getConstraint("min",key))),isNaN(res)?0:res}},{key:"getListWidth",value:function(keyList,widthInfo,ignoreList){var _this=this;if(!keyList||0===keyList.length)return{};var _wrapperWidth=(0,_config.getWindowSize)().width-(this.widthDelta||0),widthRemain=_wrapperWidth,_legalWidthInfo=_lodash2["default"].map(keyList,function(key){return(0,_lodash.assign)({key:key},widthInfo[key])}),_originalWidthAll=_lodash2["default"].reduce(_lodash2["default"].map(_legalWidthInfo,function(row){return row&&row.total&&row.num?row.total/row.num:0}),function(a,b){return a+b}),sdRows=[],_preData={},widthRes={};_lodash2["default"].forEach(_legalWidthInfo,function(info){var _pre=0===info.num||void 0===info.num?0:info.total/info.num,key=info.key,_valueLen=(info.valueList||[]).length,_tSd=0;_valueLen>0&&(_tSd=_lodash2["default"].reduce(_lodash2["default"].map(info.valueList,function(item){return Math.pow(item-_pre,2)}),function(a,b){return a+b})/_valueLen*(1+_this.weight.indexOf(isNaN(+key)?"question":key)/100)),sdRows.push({name:key,sd:_tSd}),_preData[key]={original:_pre,precent:_pre/_originalWidthAll,max:info.max}}),_lodash2["default"].forEach(_preData,function(info,key){widthRes[key]=_this.constraintWidth(key,info.precent*_wrapperWidth),widthRemain-=widthRes[key]});var _old=0,_averageRemain=0,status="start";sdRows=sdRows.sort(function(a,b){return a.sd-b.sd}),widthRemain=(widthRemain>0?1:-1)*Math.floor(Math.abs(widthRemain));for(var _averageCount=0;0!==widthRemain&&"end"!==status;)switch(_old=0,status){case"start":status=widthRemain>0?"enough":widthRemain<0?"extrusion":"end";break;case"enough":var _hasOverstep=!1;_lodash2["default"].forEach(widthRes,function(info,key){var preDataWidth=(_preData[key].max||0)+6;if(info<preDataWidth){var oldWidth=info,newWidth=Math.min(preDataWidth,_this.getConstraint("max",key));preDataWidth>_this.getConstraint("max",key)&&(_hasOverstep=!0),widthRemain+=oldWidth-newWidth,widthRes[key]=newWidth}}),status=widthRemain<0?"extrusion":widthRemain>0?_hasOverstep?"over":"average":"end";break;case"over":_lodash2["default"].forEach(sdRows,function(val){var key=val.name;if(widthRemain>0){var preDataWidth=(_preData[key].max||0)+6;if(widthRes[key]&&widthRes[key]<preDataWidth){var oldWidth=widthRes[key];oldWidth-preDataWidth+widthRemain<0?(widthRes[key]=oldWidth+widthRemain,widthRemain=0):(widthRes[key]=preDataWidth,widthRemain+=oldWidth-widthRes[key])}}}),status=widthRemain>0?"average":"end";break;case"extrusion":_lodash2["default"].forEach(widthRes,function(info,key){var preDataWidth=(_preData[key].max||0)+6,minWidth=isNaN(+key)?10:40;if(1.414*preDataWidth<info){var oldWidth=widthRes[key],remainWidth=(info-preDataWidth)*(1/1.414);oldWidth-remainWidth<minWidth?(widthRes[key]=minWidth,widthRemain+=oldWidth-minWidth):(widthRemain+=remainWidth,widthRes[key]=oldWidth-remainWidth)}}),status=widthRemain>0?"over":widthRemain<0?"strip":"end";break;case"strip":this.weight.reverse().forEach(function(key){if("question"===key)_lodash2["default"].forEach(widthRes,function(val,_key){if(!isNaN(+_key)&&widthRemain<0){var preDataWidth=(_preData[_key].max||0)+6;if(widthRes[_key]>preDataWidth){var oldWidth=widthRes[_key];widthRes[_key]=Math.max(Math.min(preDataWidth,_this.getConstraint("max",key)),30),widthRes[_key]<widthRemain+oldWidth?(widthRes[_key]=widthRemain+oldWidth,widthRemain=0):widthRemain+=oldWidth-widthRes[_key]}}});else if(widthRes.hasOwnProperty(key)&&widthRemain<0){var preDataWidth=(_preData[key].max||0)+6;if(widthRes[key]>preDataWidth){var oldWidth=widthRes[key];widthRes[key]=Math.max(Math.min(preDataWidth,_this.getConstraint("max",key)),10),widthRes[key]<widthRemain+oldWidth?(widthRes[key]=widthRemain+oldWidth,widthRemain=0):widthRemain+=oldWidth-widthRes[key]}}}),status=widthRemain<0?"average":"end";break;case"average":_averageRemain=(widthRemain>0?1:-1)*Math.floor(Math.abs(widthRemain)/keyList.length),_averageCount++;for(i in widthRes)if(widthRes.hasOwnProperty(i))if(_averageRemain>0&&this.staticInfo.indexOf(i)>-1){var oldWidth=widthRes[i],newWidth=oldWidth+_averageRemain;newWidth>this.getConstraint("max",i)?(newWidth=this.getConstraint("max",i),widthRes[i]=newWidth,widthRemain-=newWidth-oldWidth):(widthRes[i]+=_averageRemain,widthRemain-=_averageRemain)}else widthRes[i]+=_averageRemain,widthRemain-=_averageRemain;status=widthRemain>40&&_averageCount<10?"average":widthRemain>0?"putMore":widthRemain<0?"getNeed":"end";break;case"putMore":widthRes[keyList[keyList.length-1]]+=widthRemain,widthRemain=0,status="end";break;case"getNeed":widthRes[sdRows[sdRows.length-1].name]+=widthRemain,widthRemain=0,status="end"}var _pWidth={};return _lodash2["default"].forEach(widthRes,function(w,k){_pWidth[k]=Math.floor(w)}),_pWidth}}]),MagicWidth}(),MERCHANT_PUBLIC_INFO=[{type:"input",name:"pubName",title:_config.lang.ApplyInFormPayPublicNameTitle,describe:_config.lang.ApplyInFormPayPublicNameDescribe,isRequired:!0,width:"100%"},{type:"input",name:"pubTel",title:_config.lang.ApplyInFormPayPublicTelTitle,describe:_config.lang.ApplyInFormPayPublicTelDescribe,isRequired:!0,width:"100%"},{type:"textarea",name:"pubNote",title:_config.lang.ApplyInFormPayPublicNoteTitle,describe:_config.lang.ApplyInFormPayPublicNoteDescribe,width:"100%"}],MERCHANT_PUBLIC_INFO_MAPPING={pubName:"pbn",pubTel:"pbt",pubNote:"pbnt"},IN_FORM_PAY_FORM=[{type:"separator",name:"applyInfo",title:_config.lang.ApplyInFormPayApplyInfoTitle,width:"100%"},{type:"input",name:"name",title:_config.lang.ApplyInFormPayNameTitle,describe:_config.lang.ApplyInFormPayNameDescribe,isRequired:!0,width:"50%"},{type:"input",name:"mobile",title:_config.lang.ApplyInFormPayMobileTitle,describe:_config.lang.ApplyInFormPayMobileDescribe,isRequired:!0,width:"50%"},{isClear:!0,type:"input",name:"email",title:_config.lang.ApplyInFormPayEmailTitle,isRequired:!0,isDisabled:!0,width:"50%"},{type:"input",name:"organization",title:_config.lang.ApplyInFormPayOrganizationTitle,isRequired:!0,width:"50%"},{isClear:!0,type:"picAttachment",name:"IDPF",title:_config.lang.ApplyInFormPayIDPictureFront,isRequired:!0,width:"50%"},{type:"picAttachment",name:"IDPB",title:_config.lang.ApplyInFormPayIDPictureBackend,isRequired:!0,width:"50%"},{isClear:!0,type:"separator",name:"accountInfo",title:_config.lang.ApplyInFormPayAccountInfoTitle,width:"100%"},{type:"radio",name:"bankAccountType",title:_config.lang.ApplyInFormBankTypeTitle,isRequired:!0,width:"100%",optionsLayout:2,data:[{id:2,title:_config.lang.ApplyInFormBankTypeArray[0]},{id:1,title:_config.lang.ApplyInFormBankTypeArray[1]}]},{type:"input",name:"bankName",title:_config.lang.ApplyInFormBankNameTitle,describe:_config.lang.ApplyInFormBankNameDescribe,isDangerousDes:!0,isRequired:!0,width:"100%"},{type:"input",name:"bankAccountName",title:_config.lang.ApplyInFormBankAccountNameTitle,describe:_config.lang.ApplyInFormBankAccountNameDescribe,isRequired:!0,width:"50%"},{type:"input",name:"bankAccountNo",title:_config.lang.ApplyInFormBankAccountNoTitle,describe:_config.lang.ApplyInFormBankAccountNoDescribe,isRequired:!0,width:"50%"},{isClear:!0,type:"separator",name:"bankTips",title:_config.lang.ApplyInFormPayBankTipsTitle,describe:_config.lang.ApplyInFormPayBankTipsDescribe,width:"100%"},{type:"radio",name:"settleType",title:_config.lang.ApplyInFormPaySettleTypeTitle,describe:_config.lang.ApplyInFormPaySettleTypeDescribe,isRequired:!0,width:"100%",data:[{id:1,title:_config.lang.ApplyInFormPaySettleTypeArray[0]},{id:2,title:_config.lang.ApplyInFormPaySettleTypeArray[1]}]},{dependOn:"settleType",dependValue:function(data,dependentField){return 1===data[dependentField]},type:"input",name:"aliName",title:_config.lang.ApplyInFormPayAliNameTitle,describe:_config.lang.ApplyInFormPayAliNameDescribe,isRequired:!0,width:"50%"},{dependOn:"settleType",dependValue:function(data,dependentField){return 1===data[dependentField]},type:"input",name:"aliAccount",title:_config.lang.ApplyInFormPayAliAccountTitle,describe:_config.lang.ApplyInFormPayAliAccountDescribe,placeholder:_config.lang.ApplyInFormPayAliAccountPlaceholder,isRequired:!0,width:"50%"},{isClear:!0,type:"radio",name:"monthAmount",title:_config.lang.ApplyInFormMonthAmountTitle,isRequired:!0,width:"100%",data:[{id:1,title:_config.lang.ApplyInFormMonthAmountArray[0]},{id:2,title:_config.lang.ApplyInFormMonthAmountArray[1]},{id:3,title:_config.lang.ApplyInFormMonthAmountArray[2]},{id:4,title:_config.lang.ApplyInFormMonthAmountArray[3]},{id:5,title:_config.lang.ApplyInFormMonthAmountArray[4]}]},{type:"textarea",name:"businessDescribe",title:_config.lang.ApplyInFormBusinessDescribeTitle,describe:_config.lang.ApplyInFormBusinessDescribeDescribe,isRequired:!0,width:"100%"},{type:"separator",name:"pubTips",title:_config.lang.ApplyInFormPayPublicTipsTitle,describe:_config.lang.ApplyInFormPayPublicTipsDescribe,width:"100%"},{type:"input",name:"pubName",title:_config.lang.ApplyInFormPayPublicNameTitle,describe:_config.lang.ApplyInFormPayPublicNameDescribe,isRequired:!0,width:"100%"},{type:"input",name:"pubTel",title:_config.lang.ApplyInFormPayPublicTelTitle,describe:_config.lang.ApplyInFormPayPublicTelDescribe,isRequired:!0,width:"100%"},{type:"textarea",name:"pubNote",title:_config.lang.ApplyInFormPayPublicNoteTitle,describe:_config.lang.ApplyInFormPayPublicNoteDescribe,width:"100%"}],IN_FORM_PAY_FORM_MAPPING={name:"n",mobile:"m",organization:"o",IDPF:"IDPF",IDPB:"IDPB",settleType:"st",aliAccount:"aa",aliName:"an",bankName:"bn",bankAccountType:"bat",bankAccountName:"ban",bankAccountNo:"bano",monthAmount:"ma",businessDescribe:"r",pubName:"pbn",pubTel:"pbt",pubNote:"pbnt"},SUPPORT_PAYMENT_METHOD=[{id:1,bgPosition:"0 -65px",smallBgPosition:"-144px -46px",name:_config.lang.gSupportPayMode[0]},{id:2,bgPosition:"0 -105px",smallBgPosition:"-124px -46px",name:_config.lang.gSupportPayMode[1]}],PRODUCT_GROUP_INFO={1:{prGrName:"fesf",products:[1,2],finishedTips:_config.lang.gBuyFeedbackFilterSucceed,bgColor:"#DF5B16",bgPosition:"-120px -186px",bgSmallPosition:"-210px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/structural-filter",anniversary4Tips:"结构化筛选，全表单终身"},2:{prGrName:"smsa",products:[3,4,5,6,7,8],bgColor:"#5599DD",finishedTips:_config.lang.smsApplySucceed,bgPosition:"-420px -186px",bgSmallPosition:"-450px -246px",anniversary4Tips:"短信群发/触发，一年"},3:{prGrName:"smsq",hasQuantity:!0,products:[9,10,11,12],finishedTips:_config.lang.smsBuyQuotaSucceed,bgColor:"#5599DD",bgPosition:"-420px -186px",bgSmallPosition:"-450px -246px"},4:{prGrName:"emq",hasQuantity:!0,products:[13,14,15,16,17,18,19],finishedTips:_config.lang.mqBuySucceed,bgColor:"#5599DD",bgPosition:"-360px -186px",bgSmallPosition:"-420px -246px"},5:{prGrName:"flgf",products:[20,93],bgPosition:"-540px -126px",bgSmallPosition:"-570px -246px",anniversary4Tips:"表单去LOGO，全表单终身"},6:{prGrName:"rchg",products:[21],bgSmallPosition:"-360px -246px"},7:{prGrName:"rchg-of",products:[22],bgSmallPosition:"-360px -246px"},8:{prGrName:"frkc",products:[23,24],finishedTips:_config.lang.fbBuyRankSucceed,bgColor:"#3E6398",bgPosition:"-300px -126px",bgSmallPosition:"-330px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/rank-calculation",anniversary4Tips:"排序名次计算，全表单终身"},9:{prGrName:"emdtr",products:[25,26],finishedTips:"",bgColor:"#5599DD",bgPosition:"-360px -186px",bgSmallPosition:"-420px -246px"},10:{prGrName:"ematt",products:[27,28,29],finishedTips:"",bgColor:"#5599DD",bgPosition:"-360px -186px",bgSmallPosition:"-420px -246px"},11:{prGrName:"fls",products:[30,31],bgColor:"#4A75AB",bgPosition:"-180px -126px",bgSmallPosition:"-90px -246px"},12:{prGrName:"fsc",products:[32,33],bgColor:"#308C82",bgPosition:"-120px -126px",bgSmallPosition:"-60px -246px"},13:{prGrName:"fvt",products:[34,35],bgColor:"#4D5D89",bgPosition:"-240px -126px",bgSmallPosition:"-120px -246px"},14:{prGrName:"fcalc",products:[36,37],bgColor:"#92635D",bgPosition:"0 -186px",bgSmallPosition:"-150px -246px"},15:{prGrName:"fcrs",products:[38,39],bgColor:"#755EA9",bgPosition:"-60px -186px",bgSmallPosition:"-180px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/slideshow",anniversary4Tips:"表单组件：图片轮播，全表单终身"},16:{prGrName:"fsdn",products:[40,41,42,43]},17:{prGrName:"fbil",products:[44,45],bgColor:"#3E6194",bgPosition:"-180px -186px",bgSmallPosition:"-240px -246px"},18:{prGrName:"ccm",products:[46,47,49,50,51]},19:{prGrName:"spn",products:[53,54,55,56],hasQuantity:!0,bgColor:"#5C6E8A",bgPosition:"-480px -186px",bgSmallPosition:"-510px -246px"},20:{prGrName:"spr",products:[57,58,59,60],hasQuantity:!0,bgColor:"#5C6E8A",bgPosition:"-480px -186px",bgSmallPosition:"-510px -246px"},21:{prGrName:"spe",products:[61,62,63,64],hasQuantity:!0,bgColor:"#5C6E8A",bgPosition:"-480px -186px",bgSmallPosition:"-510px -246px",anniversary4Tips:"系统空间，3000M"},22:{prGrName:"edt",products:[65,66],bgColor:"#377B78",
  bgPosition:"-480px -126px",bgSmallPosition:"-540px -246px",anniversary4Tips:"加密数据传输，全表单终身"},23:{prGrName:"fcrl",products:[67],bgColor:"#4B89D7",bgPosition:"-420px -126px",bgSmallPosition:"-480px -246px",anniversary4Tips:"品牌Logo展示，全表单终身"},24:{prGrName:"fcdn",products:[68,69,70,71,72],bgColor:"#404C70",bgPosition:"-540px -126px",bgSmallPosition:"-600px -246px",anniversary4Tips:"表单访问加速，一年"},25:{prGrName:"dlsp",products:[73,74,75],bgColor:"#4C9D51",bgPosition:"-600px -126px",bgSmallPosition:"-630px -246px",anniversary4Tips:"全局极速下载，一年"},26:{prGrName:"fwvp",products:[76,77],bgColor:"#E85F42",bgPosition:"-660px -126px",bgSmallPosition:"-660px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/video-play",anniversary4Tips:"表单组件：视频播放，全表单终身"},27:{prGrName:"fcpt",products:[78,79],bgColor:"#2F6690",bgPosition:"-540px -186px",bgSmallPosition:"-690px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/captcha",anniversary4Tips:"表单验证码，全表单终身"},28:{prGrName:"ietk",products:[80],bgColor:"#4A5159",bgPosition:"-600px -186px",bgSmallPosition:"-720px -246px",anniversary4Tips:"图片编辑工具包，终身"},29:{prGrName:"fadd",products:[81,82],bgColor:"#4C5C86",bgPosition:"-660px -186px",bgSmallPosition:"-750px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/notice-attachment",anniversary4Tips:"表单反馈通知附件下载，终身"},30:{prGrName:"frte",products:[83,84,85],bgColor:"#309088",bgPosition:"de"===_config.currentLang?"-840px -126px":"-780px -126px",imgSmallPosition:"de"===_config.currentLang?"-960px -246px":"-840px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/rtf",anniversary4Tips:"富文本编辑插件(表单)，全表单终身"},31:{prGrName:"erte",products:[86,87,88],bgColor:"#309088",bgPosition:"de"===_config.currentLang?"-840px -186px":"-720px -186px",imgSmallPosition:"de"===_config.currentLang?"-990px -246px":"-870px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/rtf",anniversary4Tips:"富文本编辑插件(邮件)，全邮件终身"},32:{prGrName:"ftkv",products:[89,90],bgColor:"#5A6292",bgPosition:"-720px -126px",bgSmallPosition:"-780px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/ticket",anniversary4Tips:"验票，全表单终身"},33:{prGrName:"fcki",products:[91,92],bgColor:"#673636",bgPosition:"-780px -186px",bgSmallPosition:"-900px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/checkin",anniversary4Tips:"签到，全表单终身"},34:{prGrName:"ctcf_tsl",products:[94],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#1"},35:{prGrName:"ctcf_tml",products:[95],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#2"},36:{prGrName:"ctcf_n",products:[96],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#6"},37:{prGrName:"ctcf_r",products:[97],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#7"},38:{prGrName:"ctcf_c",products:[98],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#8"},39:{prGrName:"ctcf_ss",products:[99],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#3"},40:{prGrName:"ctcf_sm",products:[100],bgColor:"#733F28",bgPosition:"-780px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#4"},41:{prGrName:"ctcf_l",products:[101],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#9"},42:{prGrName:"ctcf_dt",products:[102],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#5"},43:{prGrName:"ctcf_ct",products:[103],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px"},44:{prGrName:"ctcf_cnid",products:[104],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#ID"},45:{prGrName:"ctcf_cnvrn",products:[105],bgColor:"#733F28",bgPosition:"-900px -186px",bgSmallPosition:"-1050px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#car"},47:{prGrName:"flto",products:[107,108],bgColor:"#394464",bgPosition:"-900px -126px",bgSmallPosition:"-1020px -246px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/lottery"}},PRODUCT_EXT_INFO_MAPPING={ds:"days"},CURRENCY_SUPPORT=[{id:1,title:_config.lang.gCurrencyTiteWithSymbolArray[0]},{id:2,title:_config.lang.gCurrencyTiteWithSymbolArray[1]}],RECHARGE_DEFAULT_VALUE=[{id:1,value:100},{id:2,value:200},{id:3,value:500},{id:4,value:1e3},{id:8,value:5e3},{id:5,value:1e4},{id:6,value:2e4},{id:7,value:5e4}],FORM_CONFIRM_BUY_RAW_MAPPING={_DMWT:"token",_ORDP:"orderNo",rData_host:"aliHost",rData_qr:"aliQrCode",rData_jump:"aliJumpTo",rWx_prepayId:"weChatPrePayId",rWx_qrCode:"weChatQrCode",rWx_qrPath:"weChatQrPath"};exports["default"]={HOST_URL:HOST_URL,MIKE_SERVER:MIKE_SERVER,MIKE_SERVER_PRIVATE:MIKE_SERVER_PRIVATE,HEADER_PAGES:HEADER_PAGES,HEADER_QUICK_SEARCH_TABS:HEADER_QUICK_SEARCH_TABS,HEADER_SETTINGS:HEADER_SETTINGS,COLOR_PICKER_COLORS:COLOR_PICKER_COLORS,convertQuickSearch:convertQuickSearch,MERCHANT_PUBLIC_INFO:MERCHANT_PUBLIC_INFO,IN_FORM_PAY_FORM:IN_FORM_PAY_FORM,convertInFormPayForm:function(data){var _data={};return _lodash2["default"].forEach(data,function(val,key){IN_FORM_PAY_FORM_MAPPING[key]&&val&&(_data[IN_FORM_PAY_FORM_MAPPING[key]]=val)}),_data},convertMerchantForm:function(data,preData){var _data={};return _lodash2["default"].forEach(data,function(val,key){MERCHANT_PUBLIC_INFO_MAPPING[key]&&val&&val!==preData[key]&&(_data[MERCHANT_PUBLIC_INFO_MAPPING[key]]=val)}),_data},CURRENCY_SUPPORT:CURRENCY_SUPPORT,RECHARGE_DEFAULT_VALUE:RECHARGE_DEFAULT_VALUE,SUPPORT_PAYMENT_METHOD:SUPPORT_PAYMENT_METHOD,PRODUCT_GROUP_INFO:PRODUCT_GROUP_INFO,getProductGroupInfoByPrId:function(prId){var _res={};return _lodash2["default"].forEach(PRODUCT_GROUP_INFO,function(prGrInfo){_lodash2["default"].indexOf(prGrInfo.products,prId)!==-1&&(_res=prGrInfo)}),_res},convertBeforePayInfo:convertBeforePayInfo,convertConfirmBuyInfo:convertConfirmBuyInfo,beautyValue:function(v){if(v+=""){var REG_YEAR_MONTH=/^(\d{4}?)-(\d{1,2}?)-$/g,REG_MONTH_DAY=/^-(\d{1,2}?)-(\d{1,2}?)/g,REG_DAY=/^--(\d{1,2}?)/g,REG_MONTH=/^-(\d{1,2}?)-$/g,REG_YEAR=/^(\d{4}?)--$/g;if(v.match(REG_YEAR_MONTH))return v.replace(/-$/g,"");if(v.match(REG_MONTH_DAY))return v.replace(/^-/g,"");if(v.match(REG_YEAR))return v.replace("--","");if(v.match(REG_MONTH))return _config.lang.gMonth[+v.replace(/-/g,"")-1];if(v.match(REG_DAY))return v.replace("--","")}return v},magicWidth:function(opts){return new MagicWidth(opts)},getUserGuideFlag:function(n){if(window.uFlgUg0){var MAX_LENGTH=9,userFlagBinary=window.uFlgUg0.toString(2),userFlagFull=_MGString2["default"].leftPad(userFlagBinary,"0",MAX_LENGTH);return+userFlagFull.charAt(MAX_LENGTH-n-1)}return 0},setUserGuideFlag:function(n,val){var MAX_LENGTH=9,userFlagBinary="";window.uFlgUg0&&(userFlagBinary=window.uFlgUg0.toString(2));var userFlagFull=_MGString2["default"].leftPad(userFlagBinary,"0",MAX_LENGTH);userFlagFull=userFlagFull.split(""),userFlagFull[MAX_LENGTH-n-1]=val?1:0,window.uFlgUg0=parseInt(userFlagFull.join(""),2)}},module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function formHeaderLayoutGenerator(){var _FORM_HEADER_LAYOUT={};return _lodash2["default"].forEach(_FORM_HEADER_LAYOUT_ID_MAPPING,function(idList,type){_FORM_HEADER_LAYOUT[type]=idList.map(function(layoutId){var layoutInfo=_LAYOUT_TYPE_INFO[layoutId-1];return{id:layoutId,title:layoutInfo[0],bgPosition:layoutInfo[1]}})}),_FORM_HEADER_LAYOUT}function formBodyLayoutToString(layoutObj){var layoutStr="";return layoutObj.forEach(function(info){"normal"===info.type?layoutStr+="-":"squeezeBox"===info.type&&(layoutStr+="<"+info.layout.join("~")+">")}),layoutStr}function getComponentProps(){return _FormMetaInfoMappingUtil.propsMapping}function convertComponentContent(type,content){var r={};return function(){switch(type){case"tabular":content.questions&&(r.ql=[],_lodash2["default"].forEach(content.questions,function(info){r.ql.push([info.id,info.value])})),content.options&&(r.l=[],r.df=[],_lodash2["default"].forEach(content.options,function(info){info.isDefaultValue&&r.df.push(info.id),r.l.push([info.id,info.value])}),_lodash2["default"].isEmpty(r.df)&&delete r.df),content.tipText&&(r.ch=content.tipText);break;case"rank":r={l:[]},_lodash2["default"].forEach(content,function(info){r.l.push([info.id,info.value])});break;case"radio":case"checkbox":case"dropDown":r={l:[],df:[]},_lodash2["default"].forEach(content.options,function(info){info.isDefaultValue&&r.df.push(info.id),r.l.push([info.id,info.value])}),content.isAddOtherOption&&r.l.push([0,null]);break;case"picRadio":case"picCheckbox":r={l:[],df:[],opt:[]},_lodash2["default"].forEach(content.options,function(info){info.isDefaultValue&&r.df.push(info.id);var _tempData=[info.id,info.value],_img=info.image,_saveImageInfo=null;if(_img)if(_saveImageInfo={},_img.e&&_img.u)_saveImageInfo.u=_img.u,_saveImageInfo.e=_img.e,_saveImageInfo.w=_img.width,_saveImageInfo.h=_img.height,_img.isOpt&&r.opt.push(info.id);else if(_img.isLink){var _convertedLink=null;if(_lodash2["default"].startsWith(_img.linkUri,"./images/formTemplate/")){var defaultArray=_img.linkUri.split("/");_convertedLink="_"+defaultArray[defaultArray.length-1]}else _convertedLink=_img.linkUri;_saveImageInfo.ul=_convertedLink,_saveImageInfo.w=_img.width,_saveImageInfo.h=_img.height}_tempData.push(_saveImageInfo),r.l.push(_tempData)}),content.isAddOtherOption&&r.l.push([0,null]);break;case"commodity":r={l:[],l2p:{},opt:[]},_lodash2["default"].forEach(content.commodities,function(info){var _describe=info.describe;_describe&&_lodash2["default"].isArray(_describe)&&(_describe=_describe.join("\n"));var _tempData=[info.id,info.name,_describe],_img=info.image,_price=+info.price,_saveImageInfo={l:info.isJumpTo?info.jumpTo||"":null};if(isNaN(_price)&&(_price=0),r.l2p[info.id]=Math.round(100*_price)/100,_img)if(_img.e&&_img.u)_saveImageInfo.u=_img.u,_saveImageInfo.e=_img.e,_img.isOpt&&r.opt.push(info.id);else if(_img.isLink){var _convertedLink=null;if(_lodash2["default"].startsWith(_img.linkUri,"./images/formTemplate/")){var defaultArray=_img.linkUri.split("/");_convertedLink="_"+defaultArray[defaultArray.length-1]}else _convertedLink=_img.linkUri;_saveImageInfo.ul=_convertedLink}_tempData.push(_saveImageInfo),r.l.push(_tempData)});break;case"multiLevel":r={l:[],df:[]};var _getChildren=function(obj,pId){return _lodash2["default"].filter(obj,function(info){return _lodash2["default"].isArray(pId)?pId.indexOf(info.pId)>-1:pId===info.pId})},_processSendContent=function _processSendContent(content,pId){var _list=_getChildren(content,pId),_pIdList=[];_lodash2["default"].forEach(_list,function(info){info.defaultValue&&r.df.push(info.id),r.l.push([info.id,info.pId,info.type,info.content,info.inputRequired]),_pIdList.indexOf(info.id)===-1&&_pIdList.push(info.id)}),_pIdList.length>0&&_processSendContent(content,_pIdList)};_processSendContent(content,null);break;case"staticPic":r={p:[]},_lodash2["default"].forEach(content,function(info){if(info){var _imageInfo={},_imageAlign=info.picAlign||2;if(info.isLink){var img=null;if(_lodash2["default"].startsWith(info.linkUri,"./images/formTemplate/")){var defaultArray=info.linkUri.split("/");img="_"+defaultArray[defaultArray.length-1]}else img=info.linkUri;_imageInfo.ul=img,_imageInfo.w=info.width,_imageInfo.h=info.height}else _imageInfo.u=info.u,_imageInfo.e=info.e,_imageInfo.w=info.width,_imageInfo.h=info.height;_imageInfo.l=info.isJumpTo?info.jumpTo||"":null,r.p.push([_imageInfo,_imageAlign])}else r.p.push(null)});break;case"picCarousel":r={p:[]},_lodash2["default"].forEach(content,function(info){if(info){var _imageInfo={id:info.id};if(info.isLink){var img=null;if(_lodash2["default"].startsWith(info.linkUri,"./images/formTemplate/")){var defaultArray=info.linkUri.split("/");img="_"+defaultArray[defaultArray.length-1]}else img=info.linkUri;_imageInfo.ul=img,_imageInfo.w=info.width,_imageInfo.h=info.height}else _imageInfo.u=info.u,_imageInfo.e=info.e,_imageInfo.w=info.width,_imageInfo.h=info.height;_imageInfo.l=info.isJumpTo?info.jumpTo||"":null,_imageInfo.n=info.name||null,r.p.push(_imageInfo)}else r.p.push(null)});break;case"title":case"gender":r={l:[],df:[],lo:[]},_lodash2["default"].forEach(content,function(info){info.isDefaultValue&&r.df.push(info.id);var _d=[info.id,info.value];r.lo.push(_d),info.isDisable||r.l.push(info.id)});break;case"company":case"department":case"position":r={l:[],df:[]},_lodash2["default"].forEach(content.options,function(info){info.isDefaultValue&&r.df.push(info.cpId),r.l.push([info.cpId,info.value])}),content.isAddOtherOption&&r.l.push([0,null]);break;default:r=content}}(),r}function convertCtcfComponentContent(ctcfType,content){var r={};return function(){switch(ctcfType){case 6:case 7:r={l:[],df:[]},_lodash2["default"].forEach(content,function(info){info.isDefaultValue&&r.df.push(info.id),r.l.push([info.id,info.value,info.isDisable?0:1])});break;case 8:r={l:[],df:[]};var _getChildren=function(obj,pId){return _lodash2["default"].filter(obj,function(info){return _lodash2["default"].isArray(pId)?pId.indexOf(info.pId)>-1:pId===info.pId})},_processSendContent=function _processSendContent(content,pId){var _list=_getChildren(content,pId),_pIdList=[];_lodash2["default"].forEach(_list,function(info){info.defaultValue&&r.df.push(info.id),r.l.push([info.id,info.pId,info.type,info.content]),_pIdList.indexOf(info.id)===-1&&_pIdList.push(info.id)}),_pIdList.length>0&&_processSendContent(content,_pIdList)};_processSendContent(content,null)}}(),r}function convertComponentPropsInfo(type,info){var r={};return _lodash2["default"].forEach(info,function(data,_propType){var propsType=_FormMetaInfoMappingUtil.propsMapping[_propType];propsType&&(["llb","llt","allb","allt","lb","lt","dll","tp","rn","rwh","t","cpt","lc"].indexOf(propsType)>-1&&(data?(data=Number(data),isNaN(data)&&(data=null)):data=null),"lg"===propsType&&(data=_lodash2["default"].map(data,function(info){return[+info.type,info.locationId]})),"lc"===propsType&&(r.ilc=0===+data?0:1),"mbn"===propsType&&(r.oq=data),"oql"===propsType&&!function(){var _d={};data&&!_lodash2["default"].isEmpty(data)&&(_lodash2["default"].forEach(data,function(info,id){_lodash2["default"].isArray(info)?_d[id]=info[1]:_d[id]=+info}),data=_d)}(),["dtc","dtft","fdt"].indexOf(propsType)>-1&&data&&_lodash2["default"].isArray(data)&&!_lodash2["default"].isEmpty(data)&&(data=data.join("\n")),"dtcst"===propsType&&(data=(0,_MGDraftRawConvert.convertTextStyle)(data)),void 0!==data&&(r[propsType]=data))}),r}function convertComponent(type,component,fullComponetInfo){var convertMapping={title:"t",title_style:"ts",subtitle:"d",subtitle_style:"ds",isRequired:"ir",isAddToCtNote:"iac",isAddToCtAttach:"iac",content:"c",type:"tp"},r={},props={};r.c={};var ignoreProps=["cpId","allText","statId","allQuestionText","queId"],_isCustomField=component.isCustomField||(fullComponetInfo?fullComponetInfo.isCustomField:null);if(_isCustomField){ignoreProps.push("type","cpType");var customField=_CustomFields2["default"].getCustomField(_CustomFields2["default"].getCustomFieldId(type));r.i=customField.id;var pureComponent=(component.isCustomField,component.cpType,_objectWithoutProperties(component,["isCustomField","cpType"]));switch(customField.type){case 6:case 7:case 8:"options"in component&&(r.c=convertCtcfComponentContent(customField.type,component.options),ignoreProps.push("options"))}_lodash2["default"].forEach(pureComponent,function(data,key){if(ignoreProps.indexOf(key)===-1){var convertKey=convertMapping[key];if(convertKey){var _data=data;"t"===convertKey||"d"===convertKey?(_lodash2["default"].isArray(data)&&(_data=data.join("\n")),r.c[convertKey]=_data):"ts"===convertKey||"ds"===convertKey?r.c[convertKey]=(0,_MGDraftRawConvert.convertTextStyle)(_data):r[convertKey]=_data}else props[key]=data}})}else{switch(type){case"input":case"textarea":null!=component.isOnlySingle&&(0===+component.isOnlySingle?component.type="textarea":component.type="input",ignoreProps.push("isOnlySingle"));break;case"tabular":r.c=convertComponentContent(type,component),"questions"in component&&(component.queId&&(r.c.qmx=component.queId),component.allQuestionText&&(r.c.qtl=component.allQuestionText),ignoreProps.push("questions")),"options"in component&&(component.cpId&&(r.c.mx=component.cpId),component.allText&&(r.c.tl=component.allText),ignoreProps.push("options"));break;case"rank":"options"in component&&(r.c=convertComponentContent(type,component.options),component.cpId&&(r.c.mx=component.cpId,r.c.mx=component.cpId),component.allText&&(r.c.tl=component.allText),ignoreProps.push("options"));break;case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"company":case"department":case"position":"options"in component&&(r.c=convertComponentContent(type,component),component.cpId&&(r.c.mx=component.cpId),component.allText&&(r.c.tl=component.allText),component.pureAllText&&(r.c.ptl=component.pureAllText),ignoreProps.push("options"));break;case"commodity":"commodities"in component&&(r.c=convertComponentContent(type,component),component.cpId&&(r.c.mx=component.cpId),ignoreProps.push("commodities"));break;case"multiLevel":"options"in component&&(r.c=convertComponentContent(type,component.options),component.cpId&&(r.c.mx=component.cpId),component.allText&&(r.c.tl=component.allText),ignoreProps.push("options"));break;case"staticPic":"pictures"in component&&(r.c=convertComponentContent(type,component.pictures),ignoreProps.push("pictures"));break;case"picCarousel":"carouselPictures"in component&&(r.c=convertComponentContent(type,component.carouselPictures),component.cpId&&(r.c.mx=component.cpId),ignoreProps.push("carouselPictures"));break;case"title":case"gender":"options"in component&&(r.c=convertComponentContent(type,component.options),ignoreProps.push("options"))}_lodash2["default"].forEach(component,function(data,key){if(ignoreProps.indexOf(key)===-1){var convertKey=convertMapping[key];if(convertKey)if("type"===key)r[convertKey]=_FormMetaInfoMappingUtil.COMPONENT_METAID_MAPPING[data];else{var _data=data;"t"===convertKey||"d"===convertKey?(_lodash2["default"].isArray(data)&&(_data=data.join("\n")),r.c[convertKey]=_data):"ts"===convertKey||"ds"===convertKey?r.c[convertKey]=(0,_MGDraftRawConvert.convertTextStyle)(_data):r[convertKey]=_data}else props[key]=data}})}if(_lodash2["default"].isEmpty(r.c)&&delete r.c,!_lodash2["default"].isEmpty(props)){_MGDebugger2["default"].log("need save props.",props,type,component);var convertProps=convertComponentPropsInfo(type,props);_lodash2["default"].isEmpty(convertProps)||(r.p=convertProps)}return r}function convertDefaultImage(imgRaw){var _res=null;if(imgRaw)if("_"===imgRaw.charAt(0)){var _img=imgRaw.substring(1);_img="./images/formTemplate/"+_img,_res=_img}else _res=imgRaw;return _res}function convertRawComponentContent(type,content,_UGC){var r={};if(!content)return{};var _cpId=null,_fixedAllText=null,_ret4=function(){switch(type){case"tabular":var options=content.l?[]:null,questions=content.ql?[]:null;_lodash2["default"].forEach(content.l,function(info,id){options.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(info[0])>-1},_lodash2["default"].zipObject(["id","value"],info)))}),_lodash2["default"].forEach(content.ql,function(info,id){questions.push(_lodash2["default"].zipObject(["id","value"],info))});var _res={questions:questions,allQuestionText:content.qtl,queId:content.qmx,sIdMapping:content.ql2s&&questions[0]?content.ql2s[questions[0].id]:{},ql2sMapping:content.ql2s?content.ql2s:{}};return content.l&&(_cpId=content.mx,_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),_res=_lodash2["default"].assign({options:options,allText:content.tl,cpId:_cpId},_res)),content.ch&&(_res=_lodash2["default"].assign({tipText:content.ch},_res)),{v:_res};case"rank":return r=[],_lodash2["default"].forEach(content.l,function(info,id){r.push(_lodash2["default"].zipObject(["id","value"],info))}),_cpId=content.mx,_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),{v:{options:r,allText:content.tl,cpId:_cpId}};case"radio":case"checkbox":case"dropDown":return r=[],_lodash2["default"].forEach(content.l,function(info,id){0!==info[0]&&r.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(info[0])>-1},_lodash2["default"].zipObject(["id","value"],info)))}),_MGDebugger2["default"].log(r),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),content.l2s?(_fixedAllText=_lodash2["default"].assign({},content.tl),_lodash2["default"].forEach(r,function(opt){content.l2s[opt.id]||delete _fixedAllText[opt.id]})):_fixedAllText=content.l2s,_MGDebugger2["default"].log(_fixedAllText),{v:{options:r,allText:_fixedAllText,cpId:_cpId,sIdMapping:content.l2s}};case"company":case"department":case"position":return r=[],_lodash2["default"].forEach(content.l,function(info,id){if(0!==info[0]){_MGDebugger2["default"].log(info);var _id=null;_lodash2["default"].forEach(content.ptl,function(val,id){val===_lodash2["default"].trim(info[1])&&(_id=id)}),r.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(info[0])>-1,id:+_id},_lodash2["default"].zipObject(["cpId","value"],info)))}}),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),{v:{options:r,allText:content.tl,pureAllText:content.ptl,cpId:_cpId,sIdMapping:content.l2s}};case"picRadio":case"picCheckbox":return r=[],_lodash2["default"].forEach(content.l,function(info,id){if(0!==info[0]){var _tempRes={id:info[0],value:info[1],isDefaultValue:(content.df||[]).indexOf(info[0])>-1},_imageInfo=info[2];_imageInfo&&!_lodash2["default"].isEmpty(_imageInfo)&&_lodash2["default"].isPlainObject(_imageInfo)&&(_imageInfo.u&&_imageInfo.e?(_tempRes.image={},_tempRes.image.isOpt=(content.opt||[]).indexOf(info[0])>-1,_tempRes.image.imageUri=_UGC+(_tempRes.image.isOpt?"opt_":"")+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.imageFullUri=_UGC+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.u=_imageInfo.u,_tempRes.image.e=_imageInfo.e,_tempRes.image.width=_imageInfo.w,_tempRes.image.height=_imageInfo.h):_imageInfo.ul&&(_tempRes.image={},_tempRes.image.isLink=!0,_tempRes.image.linkUri=convertDefaultImage(_imageInfo.ul),_tempRes.image.width=_imageInfo.w,_tempRes.image.height=_imageInfo.h)),r.push(_tempRes)}}),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),content.l2s?(_fixedAllText=_lodash2["default"].assign({},content.tl),_lodash2["default"].forEach(r,function(opt){content.l2s[opt.id]||delete _fixedAllText[opt.id]})):_fixedAllText=content.l2s,_MGDebugger2["default"].log(_fixedAllText),{v:{options:r,allText:_fixedAllText,cpId:_cpId,sIdMapping:content.l2s}};case"commodity":return r=[],_lodash2["default"].forEach(content.l,function(info,id){var _describe=info[2];_lodash2["default"].isArray(_describe)||(_describe=(""+(_describe||"")).split("\n"));var _tempRes={id:info[0],name:info[1],describe:_describe,price:(content.l2p?content.l2p[info[0]]:0)||0},_imageInfo=info[3];_imageInfo&&!_lodash2["default"].isEmpty(_imageInfo)&&_lodash2["default"].isPlainObject(_imageInfo)&&(_imageInfo.u&&_imageInfo.e?(_tempRes.image={},_tempRes.image.isOpt=(content.opt||[]).indexOf(info[0])>-1,_tempRes.image.imageUri=_UGC+(_tempRes.image.isOpt?"opt_":"")+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.imageFullUri=_UGC+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.u=_imageInfo.u,_tempRes.image.e=_imageInfo.e):_imageInfo.ul&&(_tempRes.image={},_tempRes.image.isLink=!0,_tempRes.image.linkUri=convertDefaultImage(_imageInfo.ul)),_tempRes.isJumpTo=!!_imageInfo.l,_tempRes.jumpTo=_imageInfo.l||null),r.push(_tempRes)}),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),{v:{commodities:r,cpId:_cpId,sIdMapping:content.l2s}};case"multiLevel":return content?(r=[],_lodash2["default"].forEach(content.l,function(info,id){r.push(_lodash2["default"].assign({defaultValue:(content.df||[]).indexOf(info[0])>-1},_lodash2["default"].zipObject(["id","pId","type","content","inputRequired"],info)))}),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),{v:{options:r,allText:content.tl,cpId:_cpId,sIdMapping:content.l2s}}):{v:void 0};case"staticPic":return r=[],content&&content.p&&_lodash2["default"].forEach(content.p,function(info){if(info&&_lodash2["default"].isArray(info)){var _imageInfo=info[0],_imageAlign=info[1]||2,_tempRes={picAlign:_imageAlign};_imageInfo&&!_lodash2["default"].isEmpty(_imageInfo)&&_lodash2["default"].isPlainObject(_imageInfo)&&(_tempRes.isJumpTo=!!_imageInfo.l,_tempRes.jumpTo=_imageInfo.l||null,_imageInfo.u&&_imageInfo.e?(_tempRes.u=_imageInfo.u,_tempRes.e=_imageInfo.e,_tempRes.imageUri=_UGC+_imageInfo.u+"."+_imageInfo.e,_tempRes.width=_imageInfo.w,_tempRes.height=_imageInfo.h):_imageInfo.ul?(_tempRes.isLink=!0,_tempRes.linkUri=convertDefaultImage(_imageInfo.ul),_tempRes.width=_imageInfo.w,_tempRes.height=_imageInfo.h):_tempRes.imageUri=null),r.push(_tempRes)}else r.push(null)}),{v:{pictures:r}};case"picCarousel":return r=[],content&&content.p&&_lodash2["default"].forEach(content.p,function(info){if(info&&!_lodash2["default"].isEmpty(info)&&_lodash2["default"].isPlainObject(info)){var _tempRes={id:info.id,isJumpTo:!!info.l,jumpTo:info.l||null,name:info.n||null};info.u&&info.e?(_tempRes.u=info.u,_tempRes.e=info.e,_tempRes.imageUri=_UGC+info.u+"."+info.e,_tempRes.width=info.w,_tempRes.height=info.h):info.ul?(_tempRes.isLink=!0,_tempRes.linkUri=convertDefaultImage(info.ul),_tempRes.width=info.w,_tempRes.height=info.h):_tempRes.imageUri=null,r.push(_tempRes)}else r.push(null)}),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),{v:{carouselPictures:r,cpId:_cpId}};case"title":case"gender":return r=[],_lodash2["default"].forEach(content.lo,function(info,id){r.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(info[0])>-1,isDisable:(content.l||[]).indexOf(info[0])===-1},_lodash2["default"].zipObject(["id","value"],info)))}),{v:{options:r}}}}();return"object"===("undefined"==typeof _ret4?"undefined":_typeof(_ret4))?_ret4.v:r}function convertRawCtcfComponentContent(type,content,_UGC){var r={};if(!content)return{};var _cpId=null;switch(type){case 6:case 7:return r=[],_lodash2["default"].forEach(content.l,function(info,id){r.push({isDefaultValue:(content.df||[]).indexOf(info[0])>-1,isDisable:!info[2],id:info[0],value:info[1]})}),{options:r,sIdMapping:content.l2s};case 8:if(!content)return;return r=[],_lodash2["default"].forEach(content.l,function(info,id){r.push(_lodash2["default"].assign({defaultValue:(content.df||[]).indexOf(info[0])>-1},_lodash2["default"].zipObject(["id","pId","type","content"],info)))}),_cpId=content.mx,_cpId||(_cpId=1e4),_cpId<1e4&&(_cpId=1e4+_cpId,_isFixData=!0),{options:r,sIdMapping:content.l2s}}return r}function convertRawComponentPropsInfo(_t,info){var r={};return info?(_lodash2["default"].forEach(info,function(data,type){var propsType=_FormMetaInfoMappingUtil.invert_propsMapping[type];propsType&&("localityRange"===propsType&&(data=data.map(function(info){return{type:""+info[0],locationId:info[1]}})),"tabularType"===propsType&&(data=""+data),"limitCountry"===propsType&&(data=""+data),"picDescribe"!==propsType&&"describeFoldText"!==propsType&&"foldContent"!==propsType||data&&!_lodash2["default"].isEmpty(data)&&_lodash2["default"].isString(data)&&(data=data.split("\n")),"picDescribe_style"===propsType&&(data=(0,_MGDraftRawConvert.convertRawTextStyle)(data||null)),null!==data&&void 0!==data&&(r[propsType]=data))}),r):{}}function convertRawComponent(raw,_ref){var _UGC=_ref._UGC,OQ=_ref.OQ,info=_lodash2["default"].zipObject(["sId","type","isRequired","content","props","isAddToCtNote"],raw),itemType=_FormMetaInfoMappingUtil.METAID_COMPONENT_MAPPING[info.type];switch(info.title=(info.content||{}).t||"",info.subtitle=(info.content||{}).d||"",info.title_style=(0,_MGDraftRawConvert.convertRawTextStyle)((info.content||{}).ts||null),info.subtitle_style=(0,_MGDraftRawConvert.convertRawTextStyle)((info.content||{}).ds||null),info.content=_lodash2["default"].omit(info.content||{},"t","d","ts","ds"),info.type=itemType,info.sId=+info.sId,info.title?info.title=info.title.split("\n"):info.title=[],info.subtitle?info.subtitle=info.subtitle.split("\n"):info.subtitle=[],itemType){case"textarea":info.isOnlySingle="0",info.type="input";break;case"input":info.isOnlySingle="1";break;case"attachment":case"picAttachment":info.isAddToCtAttach=info.isAddToCtNote,delete info.isAddToCtNote}return info=_lodash2["default"].assign(info,convertRawComponentPropsInfo(itemType,info.props),convertRawComponentContent(itemType,info.content,_UGC)),(info.setOptionLimitNum||info.setMaxBuyNum)&&!function(){var _newOptionLimitInfo={},_newMaxBuyNum={},_optionsQuota=null;OQ&&OQ.SO&&OQ.SO[info.sId]&&(_optionsQuota=OQ.SO[info.sId]),"commodity"===itemType&&OQ&&OQ.SL&&OQ.SL[info.sId]&&(_optionsQuota=OQ.SL[info.sId]),info.setOptionLimitNum&&info.sIdMapping&&(_lodash2["default"].forEach(info.setOptionLimitNum,function(q,cpId){var sId=void 0,id=void 0;"company"===itemType||"department"===itemType||"position"===itemType?(sId=info.sIdMapping[cpId],id=(_lodash2["default"].find(info.options,{cpId:+cpId})||{}).id):(sId=info.sIdMapping[cpId],id=cpId),"commodity"===itemType&&_optionsQuota&&_optionsQuota[sId]&&3===_optionsQuota[sId].length&&_lodash2["default"].isNumber(_optionsQuota[sId][2])&&_optionsQuota[sId][2]>=0&&(_newMaxBuyNum[id]=_optionsQuota[sId][2]),(id||0===+id)&&_optionsQuota&&_optionsQuota[sId]?_newOptionLimitInfo[id]=_optionsQuota[sId].slice(0,2):(id||0===+id)&&(0===q?_newOptionLimitInfo[id]=[0,0]:_newOptionLimitInfo[id]=[0,q||null])}),info.setOptionLimitNum=_newOptionLimitInfo,_lodash2["default"].isEmpty(_newMaxBuyNum)||(info.setMaxBuyNum=_newMaxBuyNum))}(),delete info.props,delete info.content,info}function convertRawCtcfComponent(raw,_ref2){var _UGC=_ref2._UGC,info=_lodash2["default"].zipObject(["sId","cpId","cpType","isRequired","content","props"],raw);return info.title=(info.content||{}).t||"",info.subtitle=(info.content||{}).d||"",info.title_style=(0,_MGDraftRawConvert.convertRawTextStyle)((info.content||{}).ts||null),info.subtitle_style=(0,_MGDraftRawConvert.convertRawTextStyle)((info.content||{}).ds||null),info.content=_lodash2["default"].omit(info.content||{},"t","d","ts","ds"),info.type=_CustomFields2["default"].setCustomFieldTag(info.cpId),info.sId="ctcf#"+info.sId,info.isCustomField=!0,info.title?info.title=info.title.split("\n"):info.title=[],info.subtitle?info.subtitle=info.subtitle.split("\n"):info.subtitle=[],info=_lodash2["default"].assign(info,convertRawComponentPropsInfo(info.cpType,info.props),convertRawCtcfComponentContent(info.cpType,info.content,_UGC)),delete info.cpId,delete info.props,delete info.content,info}function convertFormBodySaveInfo(info){var r={},saveMapping={formWidth:"w",components:"cp",customFieldComponents:"cp_ctcf",order:"cpo",layout:"cpl",id:"i"};return _lodash2["default"].forEach(info,function(data,key){var _convertKey=saveMapping[key];if(_convertKey&&null!==data&&void 0!==data){var tempData={};tempData="order"===key?data.map(function(tempId){return _lodash2["default"].isNumber(tempId)||_lodash2["default"].startsWith(tempId,"ctcf#")?""+tempId:"["+tempId+"]";
}).join(";"):data,r[_convertKey]=tempData}}),r}function convertFormEditRawInfo(raw,_UGC){var _r={feedbackNum:raw.fs_n,defaultTemplate:raw.df,name:raw.n,formLink:raw.l,formToken:raw.k,formStatus:raw.s,formWidth:raw.w};if(raw.tpat&&raw.tpat[1]&&(_r.wcAccount=_lodash2["default"].zipObject(["nickName","photoUrl"],raw.tpat[1])),raw.nmwc&&(_r.wcPusher_newSubmit=raw.nmwc?1:0),raw.h){var headerRaw=raw.h;_r.header=(0,_FormConvertUtil.convertHeader)(headerRaw,_UGC)}if(raw.t){var tailRaw=raw.t;_r.submitInfo=(0,_FormConvertUtil.convertTail)(tailRaw,_UGC)}if(raw.st){var styleRaw=raw.st;_r.style=_lodash2["default"].assign({width:raw.w},(0,_FormConvertUtil.convertStyle)(styleRaw,_UGC))}if(raw.se&&!function(){var settingsRaw=raw.se;_r.paging={isShowAllPageNum:settingsRaw.tpw,isShowCurrentPageNum:settingsRaw.cpn,isBanReturn:settingsRaw.nb},_r.cart={cartSymbol:settingsRaw.cps,payMode:settingsRaw.pmo,cartSymbolDefined:settingsRaw.sc};var _groupMapping={};_lodash2["default"].forEach(raw.mpCtg||{},function(grInfo,grId){_groupMapping[grId]=_lodash2["default"].assign({},_GroupUtil2["default"].convertListRawInfo(grInfo),{id:grId})});var _convertSettings=(0,_FormConvertUtil.convertSettings)(settingsRaw,_UGC,raw.mpEm,raw.mpSms,(0,_MailUtil.RAW_VAR_INFO_MAPPING)()),_groupsFull=[],_groups=[];_lodash2["default"].forEach(_convertSettings.groups||[],function(grId){_groupMapping[grId]&&(_groups.push(grId),_groupsFull.push(_groupMapping[grId]))}),_lodash2["default"].isEmpty(_groups)&&(_groups=null);var _tags=[];_lodash2["default"].forEach(_convertSettings.tags,function(v){(raw.mpCtt||{}).hasOwnProperty(v)&&_tags.push({id:v,title:(raw.mpCtt||{})[v]})}),_r.settings=_lodash2["default"].assign({},_convertSettings,{groupMapping:_groupMapping,groupsFull:_groupsFull,groups:_groups,tags:_tags})}(),raw.ext){var extendRaw=raw.ext;_r.extend=(0,_FormConvertUtil.convertExtend)(extendRaw,_UGC,raw.mpEm,raw.mpSms,(0,_MailUtil.RAW_VAR_INFO_MAPPING)())}var _components={};return raw.cp&&raw.cp.forEach(function(componentRaw){var info=convertRawComponent(componentRaw,{_UGC:_UGC,OQ:raw.oq});_components[info.sId]=info}),raw.cp_ctcf&&raw.cp_ctcf.forEach(function(componentRaw){var info=convertRawCtcfComponent(componentRaw,{_UGC:_UGC});_components[info.sId]=info}),_r.body={layout:raw.cpl||"",order:raw.cpo||"",components:_components},_r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FORM_MESSAGE_CONTENT_TYPE=exports.FORM_FILL_NOTE_TYPE=exports.FORM_FILL_AUTH_TYPE=exports.FORM_FILL_OVERTIME_HANDLE_SELECT=exports.FORM_AFTER_SUBMIT_BUTTON_LINK=exports.FORM_AFTER_SUBMIT_RANDOM_FORMAT=exports.FORM_OPACITY_ARRAY=exports.FORM_AFTER_SUBMIT_SHOW_TIPS_CONTENT=exports.FORM_AFTER_SUBMIT_PAGES_FIELD=exports.FORM_SYSTEM_STYLE_TYPE=exports.FORM_FILLING_PROGRESS_TYPE=exports.FORM_QUESTION_NO_TYPE=exports.FORM_LANGUAGE=exports.FORM_WIDTH=exports.FORM_SUBMIT_BTN_ALIGN=exports.FORM_SUBMIT_BTN_WIDTH_STYLE=exports.FORM_BACKGROUND_SET_VERTICAL=exports.FORM_BACKGROUND_SET_HORIZONTAL=exports.FORM_LOGO_BORDER_STYLE=exports.FORM_LOGO_DISPLAY_TYPE=exports.FIELD_INFO_MAPPING=exports.FORM_CONTACT_COMPONENT=exports.FORM_HEADER_RAW_MAPPING=exports.CATEGORY_FIELD_MAPPING=exports.FORM_HEADER_LAYOUT_MAPPING=exports.FORM_HEADER_LAYOUT=exports.COMPONENT_TYPE_MAPPING=exports.FORM_STEPS_SPECIALIST=exports.FORM_STEPS_SIMPLE=exports.FORM_EXTENSION=exports.formBodyLayoutStringToObject=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.formBodyLayoutToString=formBodyLayoutToString,exports.getComponentProps=getComponentProps,exports.convertComponent=convertComponent,exports.convertRawComponentContent=convertRawComponentContent,exports.convertRawCtcfComponentContent=convertRawCtcfComponentContent,exports.convertRawComponentPropsInfo=convertRawComponentPropsInfo,exports.convertRawComponent=convertRawComponent,exports.convertRawCtcfComponent=convertRawCtcfComponent,exports.convertFormBodySaveInfo=convertFormBodySaveInfo,exports.convertFormEditRawInfo=convertFormEditRawInfo;var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_MGDebugger=__webpack_require__(39),_MGDebugger2=_interopRequireDefault(_MGDebugger),_config=__webpack_require__(7),_GroupUtil=(_interopRequireDefault(_config),__webpack_require__(42)),_GroupUtil2=_interopRequireDefault(_GroupUtil),_FormMetaInfoMappingUtil=__webpack_require__(43),_FormConvertUtil=__webpack_require__(44),_MailUtil=__webpack_require__(45),_MGDraftRawConvert=__webpack_require__(46),_CustomFields=__webpack_require__(48),_CustomFields2=_interopRequireDefault(_CustomFields),FORM_EXTENSION=[{id:1,name:"logic",isShowInList:!0,title:_config.lang.fBExpansionArray[0],describeGen:_config.lang.fBExpansionDescribeGenLogic,describe:_config.lang.fBExpansionDescribeLogic,tips:_config.lang.fBExtensionTipsLogic,backgroundColor:"#E86623",imgPosition:"0 -126px",imgMiddlePosition:"-210px -246px",imgSmallPosition:"0 -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/form-logic"},{id:2,name:"ifp",isShowInList:!0,title:_config.lang.fBExpansionArray[1],describe:_config.lang.fBExpansionDescribeInFormPay,tips:_config.lang.fBExtensionTipsInFormPay({strongClass:{className:"ex_iPayment"}}),backgroundColor:"#78B123",imgPosition:"-60px -126px",imgSmallPosition:"-16px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/form-pay"},{id:21,prGrId:24,name:"cdn",isDisable:"cn"!==window.sld,isShownInFormPublish:!0,title:_config.lang.fBExpansionArray[20],describe:_config.lang.fBExpansionDescribeCDN,tips:_config.lang.fBExtensionTipsCDN,backgroundColor:"#404C70",imgPosition:"-540px -126px",imgSmallPosition:"",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/cdn"},{id:19,prGrId:22,name:"edt",isShownInFormPublish:!0,title:_config.lang.fBExpansionArray[18],describe:_config.lang.fBExpansionDescribeEDT,tips:_config.lang.fBExtensionTipsEDT,backgroundColor:"#377B78",imgPosition:"-480px -126px",imgSmallPosition:"",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/https-encrypted"},{id:3,name:"fsf",title:_config.lang.fBExpansionArray[2],describe:_config.lang.fBExpansionDescribeESF,tips:_config.lang.fBExtensionTipsESF,backgroundColor:"#DF5B16",imgPosition:"-120px -186px",imgSmallPosition:"-112px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/structural-filter"},{id:10,name:"fcrs",title:_config.lang.fBExpansionArray[9],describe:_config.lang.fBExpansionDescribeCRS,tips:_config.lang.fBExpansionTipsCRS,backgroundColor:"#755EA9",imgPosition:"-60px -186px",imgSmallPosition:"-95px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/slideshow"},{id:15,name:"rkc",title:_config.lang.fBExpansionArray[14],describe:_config.lang.fBExpansionDescribeRKC,tips:_config.lang.fBExtensionTipsRKC,backgroundColor:"#3E6398",imgPosition:"-300px -126px",imgSmallPosition:"-144px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/rank-calculation"},{id:23,prGrId:27,name:"fwvp",title:_config.lang.fBExpansionArray[29],describe:_config.lang.fBExpansionDescribeWVP,tips:_config.lang.fBExpansionTipsWVP,backgroundColor:"#E85F42",imgPosition:"-660px -126px",imgMiddlePosition:"-660px -246px",imgSmallPosition:"-96px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/video-play"},{id:24,prGrId:27,name:"fcpt",title:_config.lang.fBExpansionArray[21],describe:_config.lang.fBExpansionDescribeCaptcha,tips:_config.lang.fBExtensionTipsCaptcha,backgroundColor:"#2F6690",imgPosition:"-540px -186px",imgMiddlePosition:"-690px -246px",imgSmallPosition:"-112px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/captcha"},{id:20,name:"crl",title:_config.lang.fBExpansionArray[19],describe:_config.lang.fBExpansionDescribeCRL,tips:_config.lang.fBExtensionTipsCRL,backgroundColor:"#4B89D7",imgPosition:"-420px -126px",imgSmallPosition:"",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/brand-logo"},{id:26,name:"add",title:_config.lang.fBExpansionArray[22],describe:_config.lang.fBExpansionDescribeAttachDownload,tips:_config.lang.fBExpansionTipsAttachDownload,backgroundColor:"#4C5C86",imgPosition:"-660px -186px",imgSmallPosition:"-112px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/notice-attachment"},{id:27,name:"frte",title:_config.lang.fBExpansionArray[23],describe:_config.lang.fBExpansionDescribeFormRichText,tips:_config.lang.fBExpansionTipsFormRichText,backgroundColor:"#309088",imgPosition:"de"===_config.currentLang?"-840px -126px":"-780px -126px",imgSmallPosition:"-224px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/rtf"},{id:30,prGrId:32,name:"ftkv",isShowInList:!0,title:_config.lang.fBExpansionArray[26],describe:_config.lang.fBExpansionDescribeTicketValidation,tips:_config.lang.fBExpansionTipsMailTicketValidation,backgroundColor:"#5A6292",imgPosition:"-720px -126px",imgMiddlePosition:"-780px -246px",imgSmallPosition:"-192px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/ticket"},{id:31,prGrId:33,name:"fcki",isShowInList:!0,title:_config.lang.fBExpansionArray[27],describe:_config.lang.fBExpansionDescribeCheckIn,tips:_config.lang.fBExpansionTipsCheckIn,backgroundColor:"#673636",imgPosition:"-780px -186px",imgMiddlePosition:"-900px -246px",imgSmallPosition:"-208px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/checkin"},{id:33,prGrId:47,name:"flto",isShowInList:!0,title:_config.lang.fBExpansionArray[28],describe:_config.lang.fBExpansionDescribeLotto,tips:_config.lang.fBExpansionTipsLotto,backgroundColor:"#394464",imgPosition:"-900px -126px",imgMiddlePosition:"-1020px -246px",imgSmallPosition:"-224px -276px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/lottery"},{id:5,name:"nologo",isDisable:!0,title:_config.lang.fBExpansionArray[4],describe:""}],FORM_STEPS_SIMPLE=[{id:8,type:"edit",title:_config.lang.fBSteps[7]},{id:9,type:"publish",title:_config.lang.fBSteps[6]}],FORM_STEPS_SPECIALIST=[{id:1,type:"header",title:_config.lang.fBSteps[0]},{id:2,type:"content",title:_config.lang.fBSteps[1]},{id:3,isExpansion:!0,type:"logic",title:_config.lang.fBSteps[2]},{id:4,type:"appearance",title:_config.lang.fBSteps[3]},{id:5,type:"afterSubmit",title:_config.lang.fBSteps[4]},{id:6,type:"globalSettings",title:_config.lang.fBSteps[5]},{id:10,isExpansion:!0,type:"fcki",title:_config.lang.fBSteps[8]},{id:7,type:"publish",title:_config.lang.fBSteps[6]}],_LAYOUT_TYPE_INFO=[[_config.lang.FHL_T_1,"0 0"],[_config.lang.FHL_T_2,"0 -44px"],[_config.lang.FHL_T_3,"0 -88px"],[_config.lang.FHL_TD_1,"-138px 0"],[_config.lang.FHL_TD_2,"-256px 0"],[_config.lang.FHL_TD_3,"-374px 0"],[_config.lang.FHL_TD_4,"-138px -52px"],[_config.lang.FHL_TD_5,"-256px -52px"],[_config.lang.FHL_TD_6,"-374px -52px"],[_config.lang.FHL_TD_7,"-138px -104px"],[_config.lang.FHL_TD_8,"-256px -104px"],[_config.lang.FHL_TD_9,"-374px -104px"],[_config.lang.FHL_TL_1,"-138px -156px"],[_config.lang.FHL_TL_2,"-256px -156px"],[_config.lang.FHL_TL_3,"-374px -156px"],[_config.lang.FHL_TL_4,"-138px -260px"],[_config.lang.FHL_TL_5,"-256px -260px"],[_config.lang.FHL_TL_6,"-374px -260px"],[_config.lang.FHL_TL_7,"-138px -208px"],[_config.lang.FHL_TL_8,"-256px -208px"],[_config.lang.FHL_TL_9,"-374px -208px"],[_config.lang.FHL_TDL_1,"-138px -156px"],[_config.lang.FHL_TDL_2,"-492px 0"],[_config.lang.FHL_TDL_3,"-492px -52px"],[_config.lang.FHL_TDL_4,"-610px 0"],[_config.lang.FHL_TDL_5,"-256px -156px"],[_config.lang.FHL_TDL_6,"-610px -52px"],[_config.lang.FHL_TDL_7,"-728px 0"],[_config.lang.FHL_TDL_8,"-728px -52px"],[_config.lang.FHL_TDL_9,"-374px -156px"],[_config.lang.FHL_TDL_10,"-138px -208px"],[_config.lang.FHL_TDL_11,"-492px -104px"],[_config.lang.FHL_TDL_12,"-492px -156px"],[_config.lang.FHL_TDL_13,"-610px -104px"],[_config.lang.FHL_TDL_14,"-256px -208px"],[_config.lang.FHL_TDL_15,"-610px -156px"],[_config.lang.FHL_TDL_16,"-728px -104px"],[_config.lang.FHL_TDL_17,"-728px -156px"],[_config.lang.FHL_TDL_18,"-374px -208px"],[_config.lang.FHL_TDL_19,"-138px -260px"],[_config.lang.FHL_TDL_20,"-610px -208px"],[_config.lang.FHL_TDL_21,"-728px -208px"],[_config.lang.FHL_TDL_22,"-492px -208px"],[_config.lang.FHL_TDL_23,"-256px -260px"],[_config.lang.FHL_TDL_24,"-728px -260px"],[_config.lang.FHL_TDL_25,"-492px -260px"],[_config.lang.FHL_TDL_26,"-610px -260px"],[_config.lang.FHL_TDL_27,"-374px -260px"],[_config.lang.FHL_TDL_28,"-138px -156px"],[_config.lang.FHL_TDL_29,"-964px 0"],[_config.lang.FHL_TDL_30,"-1082px 0"],[_config.lang.FHL_TDL_31,"-846px -52px"],[_config.lang.FHL_TDL_32,"-964px -52px"],[_config.lang.FHL_TDL_33,"-1082px -52px"],[_config.lang.FHL_TDL_34,"-492px -52px"],[_config.lang.FHL_TDL_35,"-964px -104px"],[_config.lang.FHL_TDL_36,"-1082px -104px"],[_config.lang.FHL_TDL_37,"-846px -156px"],[_config.lang.FHL_TDL_38,"-964px -156px"],[_config.lang.FHL_TDL_39,"-1082px -156px"],[_config.lang.FHL_TDL_40,"-846px -208px"],[_config.lang.FHL_TDL_41,"-964px -208px"],[_config.lang.FHL_TDL_42,"-1082px -208px"],[_config.lang.FHL_TDL_43,"-846px -260px"],[_config.lang.FHL_TDL_44,"-964px -260px"],[_config.lang.FHL_TDL_45,"-1082px -260px"],[_config.lang.FHL_D_1,"0 0"],[_config.lang.FHL_D_2,"0 -44px"],[_config.lang.FHL_D_3,"0 -88px"],[_config.lang.FHL_L_1,"0 0"],[_config.lang.FHL_L_2,"0 -44px"],[_config.lang.FHL_L_3,"0 -88px"],[_config.lang.FHL_DL_1,"-138px -156px"],[_config.lang.FHL_DL_2,"-256px -156px"],[_config.lang.FHL_DL_3,"-374px -156px"],[_config.lang.FHL_DL_4,"-138px -260px"],[_config.lang.FHL_DL_5,"-256px -260px"],[_config.lang.FHL_DL_6,"-374px -260px"],[_config.lang.FHL_DL_7,"-138px -208px"],[_config.lang.FHL_DL_8,"-256px -208px"],[_config.lang.FHL_DL_9,"-374px -208px"]],_FORM_HEADER_LAYOUT_ID_MAPPING={T:[1,2,3],TD:[4,5,6,7,8,9,10,11,12],TL:[13,14,15,16,17,18,19,20,21],TDL:[22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],D:[67,68,69],L:[70,71,72],DL:[73,74,75,76,77,78,79,80,81]},FORM_HEADER_LAYOUT=formHeaderLayoutGenerator(),FORM_HEADER_RAW_MAPPING={id:"i",headline:"t",isTRich:"tr",description:"d",isDRich:"dr",layout:"ly",isSetLayout:"lys",logoHeight:"lh",logoWidth:"lw",logoDisplay:"ld",logoBorder:"lb",bgLayout:"bgl",tmpUid:"u",extName:"e",rotate:"a",x:"x",y:"y",width:"w",height:"h",exportWidth:"sw",exportHeight:"sh"},CATEGORY_FIELD_MAPPING={BASIC:{name:_config.lang.fBComponentsTypeBasic,components:[{type:"input"},{type:"radio"},{type:"dropDown"},{type:"multiLevel"},{type:"dateTime_date"},{type:"number"},{type:"attachment"},{type:"rate"},{type:"tabular"},{type:"rank"},{type:"currency"},{type:"city"},{type:"commodity"}]},PICTURE:{name:_config.lang.fBComponentsTypePic,components:[{type:"picRadio"},{type:"picAttachment"},{type:"staticPic"},{type:"picCarousel"}]},ASSIST:{name:_config.lang.fBComponentsTypeAssist,components:[{type:"staticText"},{type:"separator"},{type:"paging"},{type:"staticMap"},{type:"staticVideo"}]},EXTEND:{type:"extend",name:_config.lang.fBTypeExtend,components:[{type:"fcki"},{type:"ftkv"},{type:"fcpt"},{type:"more"}]},CONTACT:{name:_config.lang.fBComponentsTypeContact,components:[{type:"name"},{type:"mobile"},{type:"email"},{type:"company"},{type:"department"},{type:"position"},{type:"avatar"},{type:"title"},{type:"gender"},{type:"birthDate"},{type:"location"},{type:"address"},{type:"website"},{type:"tel"},{type:"fax"}]},IM:{components:[{type:"IM"},{type:"wechat"},{type:"qq"},{type:"skype"},{type:"messenger"},{type:"whatsApp"},{type:"telegram"},{type:"line"},{type:"viber"}]},SNS:{components:[{type:"SNS"},{type:"weibo"},{type:"linkedIn"},{type:"twitter"},{type:"facebook"},{type:"instagram"},{type:"mkGooglePlus"}]}},FORM_CONTACT_COMPONENT=["name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","messenger","whatsApp","telegram","line","viber","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],FIELD_INFO_MAPPING={submitAt:{fbIcon:String.fromCharCode(59222)},fckiStatus:{fbIcon:String.fromCharCode(59148)},ftkvStatus:{fbIcon:String.fromCharCode(59281)},input:{name:_config.lang.fBComponentText,icon:String.fromCharCode(59137),fbIcon:String.fromCharCode(59223)},textarea:{fbIcon:String.fromCharCode(59223)},radio:{name:_config.lang.fBComponentSelect,icon:String.fromCharCode(59138),fbIcon:String.fromCharCode(59219)},checkbox:{fbIcon:String.fromCharCode(59217)},dropDown:{name:_config.lang.fBComponentDropDown,icon:String.fromCharCode(59139),fbIcon:String.fromCharCode(59218)},multiLevel:{name:_config.lang.fBComponentMultiLevel,icon:String.fromCharCode(59140),fbIcon:String.fromCharCode(59226)},dateTime_date:{name:_config.lang.fBComponentDatetime,icon:String.fromCharCode(59141)},number:{name:_config.lang.fBComponentNumber,icon:String.fromCharCode(59142),fbIcon:String.fromCharCode(59224)},attachment:{name:_config.lang.fBComponentAttachment,icon:String.fromCharCode(59143)},rate:{name:_config.lang.fBComponentRate,icon:String.fromCharCode(59144)},tabular:{name:_config.lang.fBComponentTabular,icon:String.fromCharCode(59145)},rank:{name:_config.lang.fBComponentRank,icon:String.fromCharCode(59146)},currency:{name:_config.lang.fBComponentCurrency,icon:String.fromCharCode(59147),fbIcon:String.fromCharCode(59225)},city:{name:_config.lang.fBComponentCity,icon:String.fromCharCode(59148)},commodity:{name:_config.lang.fBComponentCommodity,icon:String.fromCharCode(59149)},picRadio:{name:_config.lang.fBComponentPicSelect,icon:String.fromCharCode(59150),fbIcon:String.fromCharCode(59219)},picCheckbox:{fbIcon:String.fromCharCode(59217)},picAttachment:{name:_config.lang.fBComponentPicAttachment,icon:String.fromCharCode(59151)},staticPic:{name:_config.lang.fBComponentStaticPic,icon:String.fromCharCode(59153)},picCarousel:{prGrId:15,name:_config.lang.fBComponentPicCarousel,icon:String.fromCharCode(59161)},staticText:{name:_config.lang.fBComponentStaticText,icon:String.fromCharCode(59154)},separator:{name:_config.lang.fBComponentSeparator,icon:String.fromCharCode(59155)},paging:{name:_config.lang.fBComponentPaging,icon:String.fromCharCode(59156)},authCode:{name:_config.lang.fBComponentAuthCode,icon:String.fromCharCode(59157)},staticMap:{name:_config.lang.fBComponentStaticMap,icon:String.fromCharCode(59158)},staticVideo:{prGrId:26,name:_config.lang.fBComponentStaticVideo,icon:String.fromCharCode(59159)},name:{category:"CONTACT",name:_config.lang.fBComponentName,icon:String.fromCharCode(59073)},avatar:{category:"CONTACT",name:_config.lang.fBComponentAvatar,icon:String.fromCharCode(59078)},email:{category:"CONTACT",name:_config.lang.fBComponentEmail,icon:String.fromCharCode(59075)},company:{category:"CONTACT",name:_config.lang.fBComponentCompany,icon:String.fromCharCode(59076)},department:{category:"CONTACT",name:_config.lang.fBComponentDepartment,icon:String.fromCharCode(59072)},position:{category:"CONTACT",name:_config.lang.fBComponentPosition,icon:String.fromCharCode(59077)},mobile:{category:"CONTACT",name:_config.lang.fBComponentMobile,icon:String.fromCharCode(59074)},website:{category:"CONTACT",name:_config.lang.fBComponentWebsite,icon:String.fromCharCode(59086)},title:{category:"CONTACT",name:_config.lang.fBComponentTitle,icon:String.fromCharCode(59079)},gender:{category:"CONTACT",name:_config.lang.fBComponentGender,icon:String.fromCharCode(59080)},birthDate:{category:"CONTACT",name:_config.lang.fBComponentBirthDate,icon:String.fromCharCode(59081)},location:{category:"CONTACT",name:_config.lang.fBComponentLocation,icon:String.fromCharCode(59082)},address:{category:"CONTACT",name:_config.lang.fBComponentAddress,icon:String.fromCharCode(59083)},tel:{category:"CONTACT",name:_config.lang.fBComponentTelephone,icon:String.fromCharCode(59087)},fax:{category:"CONTACT",name:_config.lang.fBComponentFax,icon:String.fromCharCode(59089)},remark:{category:"CONTACT",name:_config.lang.fBComponentRemark,icon:String.fromCharCode(59079)},IM:{category:"IM",name:_config.lang.fBComponentCategoryIMInfo,icon:String.fromCharCode(59093)},wechat:{category:"IM",name:_config.lang.fBComponentWechat,icon:String.fromCharCode(59094)},qq:{category:"IM",name:_config.lang.fBComponentQQ,icon:String.fromCharCode(59095)},skype:{category:"IM",name:_config.lang.fBComponentSkype,icon:String.fromCharCode(59096)},whatsApp:{category:"IM",name:_config.lang.fBComponentWhatsApp,icon:String.fromCharCode(59097)},messenger:{category:"IM",name:_config.lang.fBComponentMessenger,icon:String.fromCharCode(59099)},viber:{category:"IM",name:_config.lang.fBComponentViber,icon:String.fromCharCode(59098)},line:{category:"IM",name:_config.lang.fBComponentLine,icon:String.fromCharCode(59100)},telegram:{category:"IM",name:_config.lang.fBComponentTelegram,icon:String.fromCharCode(59101)},SNS:{category:"SNS",name:_config.lang.fBComponentCategorySNS,icon:String.fromCharCode(59121)},weibo:{category:"SNS",name:_config.lang.fBComponentWeibo,icon:String.fromCharCode(59123)},linkedIn:{category:"SNS",name:_config.lang.fBComponentLinkedIn,icon:String.fromCharCode(59124)},twitter:{category:"SNS",name:_config.lang.fBComponentTwitter,icon:String.fromCharCode(59122)},facebook:{category:"SNS",name:_config.lang.fBComponentFacebook,icon:String.fromCharCode(59125)},instagram:{category:"SNS",name:_config.lang.fBComponentInstagram,icon:String.fromCharCode(59126)},mkGooglePlus:{category:"SNS",name:_config.lang.fBComponentGooglePlus,icon:String.fromCharCode(59127)}},FORM_LOGO_DISPLAY_TYPE=[{id:1,value:_config.lang.fBLogoSetDisplayArray[0],backgroundPosition:"0 0"},{id:2,value:_config.lang.fBLogoSetDisplayArray[1],backgroundPosition:"-46px 0"},{id:3,value:_config.lang.fBLogoSetDisplayArray[2],backgroundPosition:"-92px 0"}],FORM_LOGO_BORDER_STYLE=[{id:1,value:_config.lang.fBLogoSetBorderArray[0]},{id:2,value:_config.lang.fBLogoSetBorderArray[1]},{id:3,value:_config.lang.fBLogoSetBorderArray[2]},{id:4,value:_config.lang.fBLogoSetBorderArray[3]},{id:5,value:_config.lang.fBLogoSetBorderArray[4]}],FORM_BACKGROUND_SET_HORIZONTAL=[{id:5,value:_config.lang.fBBgSetHorizontalArray[0]},{id:6,value:_config.lang.fBBgSetHorizontalArray[1]},{id:7,value:_config.lang.fBBgSetHorizontalArray[2]},{id:4,value:_config.lang.fBBgSetHorizontalArray[3]},{id:3,value:_config.lang.fBBgSetHorizontalArray[4]}],FORM_BACKGROUND_SET_VERTICAL=[{id:8,value:_config.lang.fBBgSetVerticalArray[0]},{id:6,value:_config.lang.fBBgSetVerticalArray[1]},{id:9,value:_config.lang.fBBgSetVerticalArray[2]},{id:4,value:_config.lang.fBBgSetVerticalArray[3]},{id:3,value:_config.lang.fBBgSetVerticalArray[4]}],FORM_SUBMIT_BTN_WIDTH_STYLE=[{id:0,title:_config.lang.fBFormBtnWidthAdaptive},{id:1,title:_config.lang.fBFormBtnWidthByForm}],FORM_SUBMIT_BTN_ALIGN=[{id:1,value:_config.lang.fBLayoutLeft},{id:2,value:_config.lang.fBLayoutCenter},{id:3,value:_config.lang.fBLayoutRight}],FORM_WIDTH=[{id:1,value:"600"},{id:2,value:"700"},{id:3,value:"800"},{id:4,value:"900"},{id:5,value:"1000"}],FORM_LANGUAGE=[{id:12,title:_config.lang.fBFLFollowVisitor},{id:1,title:_config.lang.cn},{id:2,title:_config.lang.tw},{id:3,title:_config.lang.en},{id:6,title:_config.lang.fr},{id:7,title:_config.lang.de},{id:8,title:_config.lang.it},{id:9,title:_config.lang.ja},{id:11,title:_config.lang.ru}],FORM_QUESTION_NO_TYPE=[{id:1,title:"1. 2. 3."},{id:10,title:"Q1. Q2. Q3."},{id:2,title:"1) 2) 3)"},{id:3,title:"(1) (2) (3)"},{id:4,title:"[1] [2] [3]"},{id:5,title:"-1- -2- -3-"},{id:6,title:"一、 二、 三、"},{id:7,title:"（一） （二） （三）"},{id:8,title:"I. II. III."},{id:9,title:"i. ii. iii."}];"cn"!==_config.currentLang&&FORM_QUESTION_NO_TYPE.splice(5,2);var FORM_FILLING_PROGRESS_TYPE=[{id:1,title:_config.lang.fBSPByQuestion},{id:2,title:_config.lang.fBSPByPage}],FORM_SYSTEM_STYLE_TYPE=[{id:1,title:_config.lang.fBTemplateTheme},{id:2,title:_config.lang.fBTemplatePureColor}],FORM_OPACITY_ARRAY=[{id:1,title:_config.lang.fBFormBgNoOpacity},{id:2,title:"90%"},{id:3,title:"80%"},{id:4,title:"70%"},{id:5,title:"60%"},{id:6,title:"50%"},{id:7,title:"40%"},{id:8,title:"30%"},{id:9,title:"20%"},{id:10,title:"10%"},{id:11,title:_config.lang.fBFormBgAllOpacity}],FORM_AFTER_SUBMIT_PAGES_FIELD=[{id:1,title:_config.lang.fBAfterSubmitShowTips,backgroundPosition:"0 -70px"},{id:2,title:_config.lang.fBAfterSubmitJump,backgroundPosition:"-100px -70px",wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/form-submitted#jump"}],FORM_AFTER_SUBMIT_SHOW_TIPS_CONTENT=[{name:"asIsShowImage",title:_config.lang.fBASShowImage,defaultValue:1},{name:"asIsShowText",title:_config.lang.fBASShowText,defaultValue:1},{name:"asIsShowRandomCode",title:_config.lang.fBASShowRandomCode},{name:"asIsShowButton",title:_config.lang.fBASShowButton,defaultValue:1},{name:"asIsShowFeedbackResult",title:_config.lang.fBASShowFeedbackResult,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/submit-share"},{name:"isTicketValidation",title:_config.lang.fBTicketValidationCheckbox,prGrId:32,extId:30,extName:"ftkv"}],FORM_AFTER_SUBMIT_RANDOM_FORMAT=[{id:1,title:_config.lang.fBASRandomFormatArray[0]},{id:2,title:_config.lang.fBASRandomFormatArray[1]},{id:3,title:_config.lang.fBASRandomFormatArray[2]},{id:4,title:_config.lang.fBASRandomFormatArray[3]},{id:5,title:_config.lang.fBASRandomFormatArray[4]},{id:6,title:_config.lang.fBASRandomFormatArray[5]}],FORM_AFTER_SUBMIT_BUTTON_LINK=[{id:1,title:_config.lang.fBASButtonLinkDefault},{id:2,title:_config.lang.fBASButtonLinkCustomDefined}],FORM_FILL_OVERTIME_HANDLE_SELECT=[{id:1,title:_config.lang.fBFLOverTimeHandleArray[0]},{id:2,title:_config.lang.fBFLOverTimeHandleArray[1]},{id:3,title:_config.lang.fBFLOverTimeHandleArray[2]}],FORM_FILL_AUTH_TYPE=[{id:1,name:"authWeChat",title:_config.lang.cWechat},{id:2,name:"authQQ",title:_config.lang.cQQ},{id:3,name:"authAliPay",title:_config.lang.cAlipay},{id:4,name:"authFacebook",title:_config.lang.cFacebook},{id:5,name:"authTwitter",title:_config.lang.cTwitter},{id:6,name:"authGoogle",title:_config.lang.cGoogle}],FORM_FILL_NOTE_TYPE=[{id:1,title:_config.lang.fBNByMail}],FORM_MESSAGE_CONTENT_TYPE=[{id:1,title:_config.lang.fBNMsgContentTypeArray[0]},{id:2,title:_config.lang.fBNMsgContentTypeArray[1]}];exports.formBodyLayoutStringToObject=_FormConvertUtil.convertLayoutString;var _isFixData=!1;exports.FORM_EXTENSION=FORM_EXTENSION,exports.FORM_STEPS_SIMPLE=FORM_STEPS_SIMPLE,exports.FORM_STEPS_SPECIALIST=FORM_STEPS_SPECIALIST,exports.COMPONENT_TYPE_MAPPING=_FormMetaInfoMappingUtil.METAID_COMPONENT_MAPPING,exports.FORM_HEADER_LAYOUT=FORM_HEADER_LAYOUT,exports.FORM_HEADER_LAYOUT_MAPPING=_FormMetaInfoMappingUtil.FORM_HEADER_LAYOUT_MAPPING,exports.CATEGORY_FIELD_MAPPING=CATEGORY_FIELD_MAPPING,exports.FORM_HEADER_RAW_MAPPING=FORM_HEADER_RAW_MAPPING,exports.FORM_CONTACT_COMPONENT=FORM_CONTACT_COMPONENT,exports.FIELD_INFO_MAPPING=FIELD_INFO_MAPPING,exports.FORM_LOGO_DISPLAY_TYPE=FORM_LOGO_DISPLAY_TYPE,exports.FORM_LOGO_BORDER_STYLE=FORM_LOGO_BORDER_STYLE,exports.FORM_BACKGROUND_SET_HORIZONTAL=FORM_BACKGROUND_SET_HORIZONTAL,exports.FORM_BACKGROUND_SET_VERTICAL=FORM_BACKGROUND_SET_VERTICAL,exports.FORM_SUBMIT_BTN_WIDTH_STYLE=FORM_SUBMIT_BTN_WIDTH_STYLE,exports.FORM_SUBMIT_BTN_ALIGN=FORM_SUBMIT_BTN_ALIGN,exports.FORM_WIDTH=FORM_WIDTH,exports.FORM_LANGUAGE=FORM_LANGUAGE,exports.FORM_QUESTION_NO_TYPE=FORM_QUESTION_NO_TYPE,exports.FORM_FILLING_PROGRESS_TYPE=FORM_FILLING_PROGRESS_TYPE,exports.FORM_SYSTEM_STYLE_TYPE=FORM_SYSTEM_STYLE_TYPE,exports.FORM_AFTER_SUBMIT_PAGES_FIELD=FORM_AFTER_SUBMIT_PAGES_FIELD,exports.FORM_AFTER_SUBMIT_SHOW_TIPS_CONTENT=FORM_AFTER_SUBMIT_SHOW_TIPS_CONTENT,exports.FORM_OPACITY_ARRAY=FORM_OPACITY_ARRAY,exports.FORM_AFTER_SUBMIT_RANDOM_FORMAT=FORM_AFTER_SUBMIT_RANDOM_FORMAT,exports.FORM_AFTER_SUBMIT_BUTTON_LINK=FORM_AFTER_SUBMIT_BUTTON_LINK,exports.FORM_FILL_OVERTIME_HANDLE_SELECT=FORM_FILL_OVERTIME_HANDLE_SELECT,exports.FORM_FILL_AUTH_TYPE=FORM_FILL_AUTH_TYPE,exports.FORM_FILL_NOTE_TYPE=FORM_FILL_NOTE_TYPE,exports.FORM_MESSAGE_CONTENT_TYPE=FORM_MESSAGE_CONTENT_TYPE},function(module,exports,__webpack_require__){(function($){var _=__webpack_require__(8),config=(_.assign,__webpack_require__(7)),$lang=config.lang,DataMapping={nameRaw:"n",name:"n",type:"t",isTop:"it",id:"i"},RawMapping=_.invert(DataMapping),GROUP_TYPE=[{id:2,name:"customer",title:$lang.grTypeArray[1],color:"#F1764D",icon:String.fromCharCode(59041),topIcon:String.fromCharCode(59042),backgroundPosition:"0 -84px"},{id:3,name:"partner",title:$lang.grTypeArray[2],color:"#B08FFE",icon:String.fromCharCode(59043),topIcon:String.fromCharCode(59044),backgroundPosition:"-80px -84px"},{id:4,name:"colleague",title:$lang.grTypeArray[3],color:"#5BCEDB",icon:String.fromCharCode(59045),topIcon:String.fromCharCode(59046),backgroundPosition:"-160px -84px"},{id:1,name:"general",title:$lang.grTypeArray[0],color:"#B1C1CF",icon:String.fromCharCode(59049),topIcon:String.fromCharCode(59050),backgroundPosition:"-320px -84px"}],ERROR_MESSAGES={name:{require:{eMsg:$lang.grErrNameNullMsg},max:{limitVal:255,eMsg:$lang.grErrNameTooLongMsg}}};module.exports={convertRawInfo:function(raw){var _res={};return _.forEach(raw,function(val,key){RawMapping[key]&&(_res[RawMapping[key]]=val)}),_res},convertDataInfo:function(data){var _res={};return _.forEach(data,function(val,key){DataMapping[key]&&(_res[DataMapping[key]]=val)}),_res},convertListRawInfo:function(raw){var _res;return _res=_.zipObject(["type","name","num","isTop"],raw)},convertGroupWithCtsDistributionListRawInfo:function(raw){var _res;return _res=_.zipObject(["type","name","isTop"],raw)},validateData:function(d){var validInfo,eCount=0,validObj={};return $.each(d,function(n,v){validInfo=ERROR_MESSAGES[n],validInfo&&(validInfo.require&&""==v?(eCount++,validObj[n]="require"):validInfo.max&&v.length>validInfo.max.limitVal&&(eCount++,validObj[n]="max"))}),0!=eCount&&validObj},ERROR_MESSAGES:ERROR_MESSAGES,GROUP_TYPE:GROUP_TYPE}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FIELD_INFO_MAPPING=exports.invert_propsMapping=exports.propsMapping=exports.FORM_COMPONENTS_NAME_DETAILS=exports.DT_CONTACT_MAPPING=exports.METAID_COMPONENT_MAPPING=exports.COMPONENT_METAID_MAPPING=exports.FORM_HEADER_LAYOUT_MAPPING=exports.FORM_CKI_OPEN_COMPONENT_LIST=exports.FORM_CKI_COMPONENT_LIST=exports.FORM_CAN_JUMP_COMPONENT_LIST=exports.FORM_STATISTICS_COMPONENT_LIST=exports.FORM_CONTACT_INFO_COMPONENT_LIST=exports.FORM_LOGIC_COMPONENT_LIST=exports.FORM_FILLING_COMPONENT_LIST=void 0;var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),COMPONENT_METAID_MAPPING=(exports.FORM_FILLING_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","picRadio","picCheckbox","picAttachment","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],exports.FORM_LOGIC_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","picRadio","picCheckbox","picAttachment","staticPic","picCarousel","staticText","separator","authCode","staticMap","staticVideo","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],exports.FORM_CONTACT_INFO_COMPONENT_LIST=["name","mobile","email","company","department","position","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],
  exports.FORM_STATISTICS_COMPONENT_LIST=["radio","checkbox","dropDown","multiLevel","picRadio","picCheckbox","rate","number","currency","tabular","rank","gender","title","company","department","position"],exports.FORM_CAN_JUMP_COMPONENT_LIST=["radio","dropDown","picRadio","gender","title","company","department","position"],exports.FORM_CKI_COMPONENT_LIST=["name","mobile","email","tel","fax","company","wechat","qq","skype","messenger","whatsApp","line","viber","telegram","input"],exports.FORM_CKI_OPEN_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","rate","tabular","rank","currency","city","commodity","picRadio","picCheckbox","name","mobile","email","company","department","position","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],exports.FORM_HEADER_LAYOUT_MAPPING=["NNN","LNN","CNN","RNN","LLN","LCN","LRN","CLN","CCN","CRN","RLN","RCN","RRN","LNL","CNL","RNL","LNC","CNC","RNC","LNR","CNR","RNR","LLL","CLL","RLL","LCL","CCL","RCL","LRL","CRL","RRL","LLR","CLR","RLR","LCR","CCR","RCR","LRR","CRR","RRR","LLC","LCC","LRC","CLC","CCC","CRC","RLC","RCC","RRC","LLLY","LCLY","LRLY","CLLY","CCLY","CRLY","RLLY","RCLY","RRLY","LLRY","LCRY","LRRY","CLRY","CCRY","CRRY","RLRY","RCRY","RRRY","NLN","NCN","NRN","NNL","NNC","NNR","NLL","NCL","NRL","NLC","NCC","NRC","NLR","NCR","NRR"],exports.COMPONENT_METAID_MAPPING={input:6,textarea:7,radio:1,checkbox:2,dropDown:3,multiLevel:15,dateTime_date:9,dateTime_time:57,dateTime_both:59,number:8,attachment:10,rate:11,tabular:12,rank:14,currency:13,city:16,commodity:60,picRadio:4,picCheckbox:5,picAttachment:56,picCarousel:62,staticPic:20,staticText:19,separator:17,paging:18,authCode:55,staticMap:21,staticVideo:22,name:23,avatar:53,email:25,company:31,department:61,position:32,mobile:24,website:34,title:29,gender:28,birthDate:54,location:30,address:33,tel:26,fax:27,remark:51,IM:43,wechat:36,qq:35,skype:41,whatsApp:38,messenger:39,viber:42,line:37,telegram:40,SNS:50,weibo:49,linkedIn:47,twitter:48,facebook:44,instagram:46,mkGooglePlus:45}),inputPropsMapping=(exports.METAID_COMPONENT_MAPPING=_lodash2["default"].invert(COMPONENT_METAID_MAPPING),exports.DT_CONTACT_MAPPING={n:"name",em:"email",c:"company",d:"department",p:"position",mb:"mobile",ws:"website",t:"title",g:"gender",b:"birthDate",l:"location",ad:"address",tl:"tel",fx:"fax",wc:"wechat",qq:"qq",sk:"skype",wa:"whatsApp",msg:"messenger",vb:"viber",ln:"line",tgr:"telegram",wb:"weibo",lk:"linkedIn",tw:"twitter",fb:"facebook",is:"instagram",gp:"mkGooglePlus"},exports.FORM_COMPONENTS_NAME_DETAILS=function(lang){return[{id:1,name:"np",title:lang.np},{id:2,name:"nf",title:lang.nf},{id:3,name:"nm",title:lang.nm},{id:4,name:"nl",title:lang.nl},{id:5,name:"ns",title:lang.ns},{id:6,name:"nn",title:lang.nn}]},{isOnlySingle:"os",placeholder:"ph",isRepetition:"da",isWordLimit:"ll",wordLimitFrom:"llb",wordLimitTo:"llt",isUseRegEx:"ire",regExType:"irt",regEx:"irp",cpLayout:"cpl",cpWidth:"wd"}),selectPropsMapping={isAddOtherOption:"al",otherOptionTitle:"alt",otherOptionIsRequired:"alr",isAfterInput:"ai",afterInputIsRequired:"air",isLimitOptions:"oq",setOptionLimitNum:"oql",isShowOptionLimit:"oqs",isHideFullOption:"ohf",isRandomOptions:"ro",optionsLayout:"cn",isAutoNo:"an",autoNo:"ant",isLimitChooseNum:"all",chooseNumFrom:"allb",chooseNumTo:"allt",defaultTips:"adt",cpWidth:"wd"},multiLevelPropsMapping={isAllowPartEmpty:"ic"},dateTimePropsMapping={dateFormat:"f",dayDefault:"d",defaultDay:"dd",isLimitDayInterval:"dl",dayIntervalFrom:"dlf",dayIntervalTo:"dlt",isLimitDays:"wl",limitDays:"wll",cpWidth:"wd",timePrecision:"a",timeDefault:"dt",defaultTime:"dtt",isLimitTimeInterval:"tl",timeIntervalFrom:"tlf",timeIntervalTo:"tlt",dayTimeDefault:"ddt",defaultDayTime:"ddtt"},numberPropsMapping={unit:"u",isNumRange:"l",numRangeFrom:"lb",numRangeTo:"lt",isAcceptDecimals:"adc",isLimitDecDigits:"ld",decDigits:"ldl",isAcceptNegative:"na",cpWidth:"wd"},filePropsMapping={isLimitFileType:"ftl",fileTypes:"ftll",isLimitFileSize:"sl",fileSize:"slft",isAcceptMultipleFile:"fm",isLimitFileNumber:"ml",fileNumber:"mll",cpWidth:"wd"},ratePropsMapping={rateMax:"ms",rateDefault:"ds",rateIcon:"ric",isAllowHalf:"ha",isShowTips:"ps",tipsPosition:"pp",rateTipsLeft:"pl",rateTipsMiddle:"pm",rateTipsRight:"pr",heatBarColorForm:"hbcl",heatBarColorTo:"hbcr"},tabularPropsMapping={tabularType:"tp",questionWidth:"qw",isAllowMulti:"mln",rateIcon:"ric",rateMax:"ms",rateDefault:"ds",isAllowHalf:"ha",isShowTips:"ps",tipsPosition:"pp",rateTipsLeft:"pl",rateTipsMiddle:"pm",rateTipsRight:"pr",heatBarColorForm:"hbcl",heatBarColorTo:"hbcr"},rankPropsMapping={isLimitDigit:"jn",rankDigits:"rn",trueDigits:"rwh"},currencyPropsMapping={symbol:"s",symbolDefined:"sc",isNumRange:"l",numRangeFrom:"lb",numRangeTo:"lt",isAcceptDecimals:"adc",isLimitDecDigits:"ld",decDigits:"ldt",isAcceptNegative:"na",cpWidth:"wd",isHidePrice:"hp"},cityPropsMapping={componentType:"t",minLevel:"lv",isLimitCountry:"ilc",limitCountry:"lc"},commodityPropsMapping={isLimitStock:"mbn",setMaxBuyNum:"mbnl"},picAttachmentPropsMapping={isLimitPicResolution:"rl",picMinWidth:"rwb",picMaxWidth:"rwt",picMinHeight:"rhb",picMaxHeight:"rht"},staticPicPropsMapping={picNumber:"n",picLayout:"ly",pictures:null,picPadding:"p",picPaddingTB:"cp",picPaddingLRNone:"cpw",isAddDescribe:"idt",picDescribe:"dtc",picDescribe_style:"dtcst",picSubTitleAlign:"dtl",isDescribeTextFold:"dtf",describeFoldText:"dtft"},picCarouselPropsMapping={picCarouselType:"pct",carouselPictures:null,picHeight:"h",speed:"sp",animation:"ani"},separatorPropsMapping={borderType:"slt",isNoPadding:"mw",titleAlign:"ta",subTitleAlign:"dal"},staticTextPropsMapping={isFoldText:"fd",foldContent:"fdt"},staticMapPropsMapping={mapLocation:"mpl",mapScale:"mps",isShowInfoBox:"mpi",mapInfoContent:"mpic",coordinate:"co"},staticVideoPropsMapping={staticVideoUrl:"vl",videoInfo:"vi"},contactPropsMapping={isAcceptMulti:"m",isValidate:"fe",isOpenDetails:"od",detailsItem:"odi",componentType:"t",searchComponentType:"cpt",acceptArea:"fer",isSendMsgAuth:"cm",infoTypes:"it"},customFieldPropsMapping={defaultVpLocation:"vpdl",cfDateTimeType:"cfDt",cfRadioType:"cfRt",cfDefaultSymbol:"cfDs"},propsMapping=exports.propsMapping=_lodash2["default"].assign({},inputPropsMapping,selectPropsMapping,multiLevelPropsMapping,dateTimePropsMapping,numberPropsMapping,filePropsMapping,ratePropsMapping,tabularPropsMapping,rankPropsMapping,currencyPropsMapping,staticMapPropsMapping,cityPropsMapping,commodityPropsMapping,picAttachmentPropsMapping,staticPicPropsMapping,picCarouselPropsMapping,separatorPropsMapping,staticVideoPropsMapping,staticTextPropsMapping,contactPropsMapping,customFieldPropsMapping);exports.invert_propsMapping=_lodash2["default"].invert(propsMapping),exports.FIELD_INFO_MAPPING={submitAt:{fbIcon:String.fromCharCode(59222)},input:{icon:String.fromCharCode(59137),fbIcon:String.fromCharCode(59223)},textarea:{fbIcon:String.fromCharCode(59223)},radio:{icon:String.fromCharCode(59138),fbIcon:String.fromCharCode(59219)},checkbox:{fbIcon:String.fromCharCode(59217)},dropDown:{icon:String.fromCharCode(59139),fbIcon:String.fromCharCode(59218)},multiLevel:{icon:String.fromCharCode(59140),fbIcon:String.fromCharCode(59226)},dateTime_date:{icon:String.fromCharCode(59141)},number:{icon:String.fromCharCode(59142),fbIcon:String.fromCharCode(59224)},attachment:{icon:String.fromCharCode(59143)},rate:{icon:String.fromCharCode(59144)},tabular:{icon:String.fromCharCode(59145)},rank:{icon:String.fromCharCode(59146)},currency:{icon:String.fromCharCode(59147),fbIcon:String.fromCharCode(59225)},city:{icon:String.fromCharCode(59148)},commodity:{icon:String.fromCharCode(59149)},picRadio:{icon:String.fromCharCode(59150),fbIcon:String.fromCharCode(59219)},picCheckbox:{fbIcon:String.fromCharCode(59217)},picAttachment:{icon:String.fromCharCode(59151)},staticPic:{icon:String.fromCharCode(59153)},picCarousel:{icon:String.fromCharCode(59153)},staticText:{icon:String.fromCharCode(59154)},separator:{icon:String.fromCharCode(59155)},paging:{icon:String.fromCharCode(59156)},authCode:{icon:String.fromCharCode(59157)},staticMap:{icon:String.fromCharCode(59158)},staticVideo:{icon:String.fromCharCode(59159)},name:{category:"CONTACT",icon:String.fromCharCode(59073)},avatar:{category:"CONTACT",icon:String.fromCharCode(59078)},email:{category:"CONTACT",icon:String.fromCharCode(59075)},company:{category:"CONTACT",icon:String.fromCharCode(59076)},department:{category:"CONTACT",icon:String.fromCharCode(59072)},position:{category:"CONTACT",icon:String.fromCharCode(59077)},mobile:{category:"CONTACT",icon:String.fromCharCode(59074)},website:{category:"CONTACT",icon:String.fromCharCode(59086)},title:{category:"CONTACT",icon:String.fromCharCode(59079)},gender:{category:"CONTACT",icon:String.fromCharCode(59080)},birthDate:{category:"CONTACT",icon:String.fromCharCode(59081)},location:{category:"CONTACT",icon:String.fromCharCode(59082)},address:{category:"CONTACT",icon:String.fromCharCode(59083)},tel:{category:"CONTACT",icon:String.fromCharCode(59087)},fax:{category:"CONTACT",icon:String.fromCharCode(59089)},note:{category:"CONTACT",icon:String.fromCharCode(59079)},IM:{category:"IM",icon:String.fromCharCode(59093)},wechat:{category:"IM",icon:String.fromCharCode(59094)},qq:{category:"IM",icon:String.fromCharCode(59095)},skype:{category:"IM",icon:String.fromCharCode(59096)},whatsApp:{category:"IM",icon:String.fromCharCode(59097)},messenger:{category:"IM",icon:String.fromCharCode(59099)},viber:{category:"IM",icon:String.fromCharCode(59098)},line:{category:"IM",icon:String.fromCharCode(59100)},telegram:{category:"IM",icon:String.fromCharCode(59101)},SNS:{category:"SNS",icon:String.fromCharCode(59121)},weibo:{category:"SNS",icon:String.fromCharCode(59123)},linkedIn:{category:"SNS",icon:String.fromCharCode(59124)},twitter:{category:"SNS",icon:String.fromCharCode(59122)},facebook:{category:"SNS",icon:String.fromCharCode(59125)},instagram:{category:"SNS",icon:String.fromCharCode(59126)},mkGooglePlus:{category:"SNS",icon:String.fromCharCode(59127)}}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _regInfoReplace(str){return str.replace(/([\*\.\?\+\$\^\[\]\(\)\|\\/])/g,"\\$1")}function convertHeader(headerRaw,_UGC){return headerRaw?{headline:(headerRaw.t||"").split("\n"),description:(headerRaw.d||"").split("\n"),layout:headerRaw.ly,layoutStr:_FormMetaInfoMappingUtil.FORM_HEADER_LAYOUT_MAPPING[headerRaw.ly],hasValue:[headerRaw.t?"T":"",headerRaw.d?"D":"",headerRaw.l?"L":""].join(""),logo:convertDefaultImage(headerRaw.l,_UGC),logoBorder:headerRaw.lb,logoDisplay:headerRaw.ld,logoHeight:headerRaw.lh,logoWidth:headerRaw.lw,isSetLayout:1===+headerRaw.lys}:{}}function convertTail(tailRaw,_UGC){return{isHideBtn:tailRaw.ihb,stickyBottom:tailRaw.ibsb,isDefaultSubmitText:tailRaw.sb,submitText:tailRaw.sbt,copyrightType:tailRaw.crs,companyName:tailRaw.crn,companyLink:tailRaw.crl,companyLogo:convertDefaultImage(tailRaw.crlg,_UGC),companyLogoHeight:tailRaw.crlgh,companyLogoWidth:tailRaw.crlgw}}function convertDefaultImage(imgRaw,_UGC,_CDN){var opt=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,arguments.length>4&&void 0!==arguments[4]&&arguments[4]),_res=null;if(imgRaw)if("_"===imgRaw.charAt(0)){var _img=imgRaw.substring(1);if(_CDN)_img=location.protocol+_config2["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/formTemplate/"+_img;else{_img="./images/formTemplate/"+_img}_res=_img}else _res=_UGC+(opt?"opt_":"")+imgRaw;return _res}function convertStyle(styleRaw,_UGC){var _CDN=arguments.length>2&&void 0!==arguments[2]&&arguments[2],opacityArray=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,["",1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0]),_style={themeColor:styleRaw.thc,lineHeight:styleRaw.ls||14,bgColor:styleRaw.bgc,background:convertDefaultImage(styleRaw.bg,_UGC,_CDN),bgOpt:styleRaw.opt_bg,optBackground:styleRaw.bg?convertDefaultImage(styleRaw.bg,_UGC,_CDN,null,styleRaw.opt_bg):null,bgLayoutHorizontal:styleRaw.bgl?styleRaw.bgl.h||6:6,bgLayoutVertical:styleRaw.bgl?styleRaw.bgl.v||6:6,backgroundFixed:void 0!==styleRaw.bgs&&null!==styleRaw.bgs?styleRaw.bgs?0:1:0};if(styleRaw.h){var styleHeaderRaw=styleRaw.h,bgOpacity=opacityArray.indexOf(styleHeaderRaw.bgo);_style.headerStyle={bgColor:styleHeaderRaw.bgc,bgOpacity:bgOpacity===-1?"1":""+bgOpacity,headlineColor:styleHeaderRaw.tc,headlineFontSize:styleHeaderRaw.tfs,headlineFontWeight:styleHeaderRaw.tfw,subheadColor:styleHeaderRaw.dc,subheadFontSize:styleHeaderRaw.dfs,subheadFontWeight:styleHeaderRaw.dfw,headerContentOffsetY:styleHeaderRaw.yof,background:convertDefaultImage(styleHeaderRaw.bg,_UGC,_CDN),bgLayoutHorizontal:styleHeaderRaw.bgl?styleHeaderRaw.bgl.h||6:6,bgLayoutVertical:styleHeaderRaw.bgl?styleHeaderRaw.bgl.v||6:6}}if(styleRaw.b){var styleBodyRaw=styleRaw.b,_bgOpacity=opacityArray.indexOf(styleBodyRaw.bgo);_style.bodyStyle={cpTitleWidth:styleBodyRaw.tw,bgColor:styleBodyRaw.bgc,bgOpacity:_bgOpacity===-1?"1":""+_bgOpacity,titleColor:styleBodyRaw.tc,titleFontSize:styleBodyRaw.tfs,titleFontWeight:styleBodyRaw.tfw,describeColor:styleBodyRaw.dc,describeFontSize:styleBodyRaw.dfs,describeFontWeight:styleBodyRaw.dfw,optionColor:styleBodyRaw.oc,optionFontSize:styleBodyRaw.ofs,optionFontWeight:styleBodyRaw.ofw}}if(styleRaw.s){var styleSubmitRaw=styleRaw.s,_bgOpacity2=opacityArray.indexOf(styleSubmitRaw.bgo);_style.submitStyle={bgColor:styleSubmitRaw.bgc,bgOpacity:_bgOpacity2===-1?"1":""+_bgOpacity2,background:convertDefaultImage(styleSubmitRaw.bg,_UGC,_CDN),bgLayoutHorizontal:styleSubmitRaw.bgl?styleSubmitRaw.bgl.h||6:6,bgLayoutVertical:styleSubmitRaw.bgl?styleSubmitRaw.bgl.v||6:6,btnColor:styleSubmitRaw.btc,fontColor:styleSubmitRaw.btct,submitFontSize:styleSubmitRaw.btts,fontWeight:styleSubmitRaw.bttw,btnWidthLayout:styleSubmitRaw.btw,isFormWith:4===styleSubmitRaw.btw?"1":"0",btnAlign:4===styleSubmitRaw.btw?2:styleSubmitRaw.btw||2}}return _style}function convertSettingsSpecial(name,value,mapping){var _VAR=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("customMailInfo"===name&&mapping){var customMailInfo=_lodash2["default"].zipObject(["id","subject","sendAddress","sendName"],value);return customMailInfo&&customMailInfo.id&&mapping[customMailInfo.id]&&(customMailInfo.chooseMail={id:customMailInfo.id,name:mapping[customMailInfo.id]}),customMailInfo.subject&&!function(){var subject=customMailInfo.subject;subject&&(_lodash2["default"].forEach(_VAR,function(replacement,pattern){subject=subject.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),customMailInfo.subject=subject)}(),customMailInfo}if("customSmsInfo"===name&&mapping){var customSmsInfo=_lodash2["default"].zipObject(["id"],value);if(customSmsInfo&&customSmsInfo.id&&mapping[customSmsInfo.id]){var smsInfo=_lodash2["default"].zipObject(["name","auditStatus"],mapping[customSmsInfo.id]);3===smsInfo.auditStatus&&(customSmsInfo.chooseSms=_lodash2["default"].assign(smsInfo,{id:customSmsInfo.id}))}return customSmsInfo}return value}function convertSettings(settingsRaw,_UGC,mpEm,mpSms,_MAIL_VAR){return{language:settingsRaw.lang,showQuestionNo:settingsRaw.qn,questionNoType:settingsRaw.qnt,showFillingProgress:settingsRaw.fp,fillingProgressType:settingsRaw.fpt,isAutoCreate:settingsRaw.icc,isAddGroups:settingsRaw.icg,groups:settingsRaw.cg,tags:settingsRaw.ct,afterSubmitPage:settingsRaw.s,asIsShowImage:settingsRaw.sp,asIsDefaultImg:settingsRaw.spd||void 0===settingsRaw.spd?1:0,asImage:!settingsRaw.spd&&void 0!==settingsRaw.spd&&{isLink:2===settingsRaw.sps,linkUri:convertDefaultImage(settingsRaw.spr,_UGC),imageUri:settingsRaw.spu?_UGC+settingsRaw.spu+"."+settingsRaw.spe:null,u:settingsRaw.spu,e:settingsRaw.spe},asIsShowText:settingsRaw.st,asTextTitle:settingsRaw.stt?settingsRaw.stt.split("\n"):settingsRaw.stt,asTextSubTitle:settingsRaw.std?settingsRaw.std.split("\n"):settingsRaw.std,asIsShowRandomCode:settingsRaw.sr,asRandomCodeTitle:settingsRaw.srt,asRandomCodeFormat:settingsRaw.srf,asIsShowFeedbackNum:settingsRaw.sn,asFeedbackNumText:settingsRaw.snt,asIsShowFeedbackResult:settingsRaw.si,isShowStatistics:settingsRaw.sis,asSShowField:settingsRaw.sisi,isShowData:settingsRaw.sid,isSetDatePassword:settingsRaw.sidp,datePassword:settingsRaw.sidpp,asDShowField:settingsRaw.sidi,asIsShowButton:settingsRaw.rb,asButtonText:settingsRaw.rbtx,asButtonLinkType:settingsRaw.rbl&&"_SELF"===settingsRaw.rbl?"1":"2",asButtonLink:settingsRaw.rbl&&"_SELF"!==settingsRaw.rbl?settingsRaw.rbl:"",asJumpTo:settingsRaw.sj,asIsJumpToLuxury:settingsRaw.sjs,asJumpToLuxury:settingsRaw.sjss,isOnlyWeChat:settingsRaw.oiw,isShowShare:settingsRaw.ss,isShowProgress:settingsRaw.fp,progressType:settingsRaw.fpt,isSetUsableTime:settingsRaw.ap,usableTimeFrom:settingsRaw.apf,usableTimeTo:settingsRaw.apt,isSetUsableTimeDaily:settingsRaw.apd,usableTimeDailyFrom:settingsRaw.apdf,usableTimeDailyTo:settingsRaw.apdt,usableTimeTextBefore:settingsRaw.aptxbf,usableTimeTextAfter:settingsRaw.aptxaf,isMensurableSubmit:settingsRaw.ms,mensurableSubmitNum:settingsRaw.msn,isMensurableSubmitRemain:settingsRaw.msr,mensurableSubmitText:settingsRaw.mstx,isVisitPassword:settingsRaw.vp,visitPassword:settingsRaw.vpp,isOnlySubmit:settingsRaw.os,isOnlySubmitIP:settingsRaw.osip,onlySubmitText:settingsRaw.ostx,isLimitTime:settingsRaw.itl,timeMax:settingsRaw.tlmx,overTimeHandle:settingsRaw.tlr,isRemindMe:settingsRaw.inm,remindMeByMail:settingsRaw.inmem,remindMeMails:settingsRaw.nmeml,remindMeByMsg:settingsRaw.inmsms,remindMeTels:settingsRaw.nmsmsl,msgContentType:settingsRaw.nmsmsp,remindMeByWeChat:settingsRaw.inmwc,isShowAllPageNum:settingsRaw.tpw,isShowCurrentPageNum:settingsRaw.cpn,isBanReturn:settingsRaw.nb,cartSymbol:settingsRaw.cps,payMode:settingsRaw.pmo,cartSymbolDefined:settingsRaw.sc,isRemindPreparer:settingsRaw.inu,remindPreparerByMail:settingsRaw.inuem,mailNtComponent:settingsRaw.inuemcp,remindPreparerByMsg:settingsRaw.inusms,msgNtComponent:settingsRaw.inusmscp,remindPreparerByWeChat:settingsRaw.inuswc,remindPreparerByCustomMail:settingsRaw.inucem,customMailNtComponent:settingsRaw.inucemcp,customMailInfo:convertSettingsSpecial("customMailInfo",settingsRaw.inucemd,mpEm,_MAIL_VAR),remindPreparerByCustomMsg:settingsRaw.inucsms,customMsgNtComponent:settingsRaw.inucsmscp,customSmsInfo:convertSettingsSpecial("customSmsInfo",settingsRaw.inucsmsd,mpSms),weChatTitle:settingsRaw.wcst,weChatDescribe:settingsRaw.wcsd,weChatImage:settingsRaw.wcsi?_UGC+settingsRaw.wcsi:null}}function convertExtendSpecial(name,value,mapping){var _VAR=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("customMailInfoWhenPaid"===name&&mapping){var customMailInfoWhenPaid=_lodash2["default"].zipObject(["id","subject","sendAddress","sendName"],value);return customMailInfoWhenPaid&&customMailInfoWhenPaid.id&&mapping[customMailInfoWhenPaid.id]&&(customMailInfoWhenPaid.chooseMail={id:customMailInfoWhenPaid.id,name:mapping[customMailInfoWhenPaid.id]}),customMailInfoWhenPaid.subject&&!function(){var subject=customMailInfoWhenPaid.subject;subject&&(_lodash2["default"].forEach(_VAR,function(replacement,pattern){subject=subject.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),customMailInfoWhenPaid.subject=subject)}(),customMailInfoWhenPaid}if("customSmsInfoWhenPaid"===name&&mapping){var customSmsInfoWhenPaid=_lodash2["default"].zipObject(["id"],value);if(customSmsInfoWhenPaid&&customSmsInfoWhenPaid.id&&mapping[customSmsInfoWhenPaid.id]){var smsInfo=_lodash2["default"].zipObject(["name","auditStatus"],mapping[customSmsInfoWhenPaid.id]);3===smsInfo.auditStatus&&(customSmsInfoWhenPaid.chooseSms=_lodash2["default"].assign(smsInfo,{id:customSmsInfoWhenPaid.id}))}return customSmsInfoWhenPaid}return value}function convertExtend(extendRaw,_UGC,mpEm,mpSms,_MAIL_VAR){var _res={};return _lodash2["default"].forEach(extendRaw,function(extendInfo,name){if("logic"===name)!function(){var _logic={},LOGIC_MAPPING={ldf:"logicDefaultShows",ls:"logicSet"};_logic.state=extendInfo.s,extendInfo.p&&_lodash2["default"].forEach(extendInfo.p,function(info,key){LOGIC_MAPPING[key]&&info&&(_logic[LOGIC_MAPPING[key]]=info)}),_lodash2["default"].isEmpty(_logic)||(_res.logic=_logic)}();else if("ifp"===name){var _innerFormPay={};_innerFormPay.state=extendInfo.s,_lodash2["default"].isEmpty(_innerFormPay)||(_res.ifp=_innerFormPay),extendInfo.p&&(_res.ifp=_lodash2["default"].assign(_res.ifp,{isLimitAmount:extendInfo.p.iapta,limitAmountFrom:null!=extendInfo.p.aptaf?""+extendInfo.p.aptaf:"",limitAmountTo:null!=extendInfo.p.aptat?""+extendInfo.p.aptat:"",isLimitQuantity:extendInfo.p.iaptq,limitQuantityFrom:null!=extendInfo.p.aptqf?""+extendInfo.p.aptqf:"",limitQuantityTo:null!=extendInfo.p.aptqt?""+extendInfo.p.aptqt:"",isRemindMeWhenPaid:extendInfo.p.iapnm,remindMeWhenPaidByMail:extendInfo.p.iapnmem,remindMeWhenPaidMails:extendInfo.p.apnmeml,remindMeWhenPaidByMsg:extendInfo.p.iapnmsms,remindMeWhenPaidTels:extendInfo.p.apnmsmsl,paidMsgContentType:extendInfo.p.apnmsmsp,payOnlineMethod:extendInfo.p.appom,isRemindPreparerWhenPaid:extendInfo.p.iapnu,remindPreparerWhenPaidByMail:extendInfo.p.iapnuem,mailNtComponentWhenPaid:extendInfo.p.iapnuemcp,remindPreparerWhenPaidByMsg:extendInfo.p.iapnusms,msgNtComponentWhenPaid:extendInfo.p.iapnusmscp,remindPreparerWhenPaidByCustomMail:extendInfo.p.iapnucem,customMailNtComponentWhenPaid:extendInfo.p.iapnucemcp,customMailInfoWhenPaid:convertExtendSpecial("customMailInfoWhenPaid",extendInfo.p.iapnucemd,mpEm,_MAIL_VAR),remindPreparerWhenPaidByCustomMsg:extendInfo.p.iapnucsms,customMsgNtComponentWhenPaid:extendInfo.p.iapnucsmscp,customSmsInfoWhenPaid:convertExtendSpecial("customSmsInfoWhenPaid",extendInfo.p.iapnucsmsd,mpSms)}))}else if("ftkv"===name){var _ftkv={};_ftkv.state=extendInfo.s,_lodash2["default"].isEmpty(_ftkv)||(_res.ftkv=_ftkv),extendInfo.p&&(_res.ftkv=_lodash2["default"].assign(_res.ftkv,{ticketValidationTitle:extendInfo.p.t?(extendInfo.p.t||"").split("\n"):null,ticketValidationDescribe:(extendInfo.p.d||"").split("\n"),isTicketValidationRemindPreparer:extendInfo.p.inutn,coRemindPreparerByMail:extendInfo.p.inutnem,coMailNtComponent:extendInfo.p.nutnemcp,coRemindPreparerByMsg:extendInfo.p.inutnsms,coMsgNtComponent:extendInfo.p.nutnsmscp,isTkvAllowCancel:"iac"in extendInfo.p?extendInfo.p.iac:1}))}else if("fcki"===name){var _fcki={};_fcki.state=extendInfo.s,_lodash2["default"].isEmpty(_fcki)||(_res.fcki=_fcki),extendInfo.p&&(_res.fcki=_lodash2["default"].assign(_res.fcki,{ckiShowImage:"ihimg"in extendInfo.p?extendInfo.p.ihimg:1,ckiImage:!!extendInfo.p.himg&&{isLink:2===extendInfo.p.himg.himgs,linkUri:extendInfo.p.himg.himgr,imageUri:extendInfo.p.himg.himgu?_UGC+extendInfo.p.himg.himgu+"."+extendInfo.p.himg.himge:null,u:extendInfo.p.himg.himgu,e:extendInfo.p.himg.himge},ckiTitle:(extendInfo.p.t||"").split("\n"),ckiSubtitle:(extendInfo.p.d||"").split("\n"),ckiComponent:extendInfo.p.cp,ckiComponentTitle:(extendInfo.p.cpt||"").split("\n"),ckiWeChat:extendInfo.p.iwc,ckiOnlyOnce:extendInfo.p.irdev,ckiIsLimitPlace:extendInfo.p.irloc,ckiPlace:extendInfo.p.rloc,ckiOpen:extendInfo.p.iopen,ckiOpenComponent:extendInfo.p.opencp}))}else if("flto"===name){var _flto={};_flto.state=extendInfo.s,_lodash2["default"].isEmpty(_flto)||(_res.flto=_flto),extendInfo.p&&(_res.flto=_lodash2["default"].assign(_res.flto,{ltoTitle:extendInfo.p.t||"",ltoImageType:extendInfo.p.bgt||1,ltoIsImage:extendInfo.p.ibg?1:0,ltoImage:!!extendInfo.p.bgimg&&{isLink:2===extendInfo.p.bgimg.himgs,linkUri:extendInfo.p.bgimg.himgr,imageUri:extendInfo.p.bgimg.himgu?_UGC+extendInfo.p.bgimg.himgu+"."+extendInfo.p.bgimg.himge:null,u:extendInfo.p.bgimg.himgu,e:extendInfo.p.bgimg.himge},ltoComponent:extendInfo.p.cp,ltoShowComponent:extendInfo.p.showcp,ltoMode:"a"===extendInfo.p.m?2:1,ltoNumber:extendInfo.p.wn||1,ltoIsLimit:extendInfo.p.iCond?1:0,ltoConditions:extendInfo.p.cond}))}else if("voting"===name){var _votingWall={};_votingWall.state=extendInfo.s,extendInfo.s&&(_votingWall.factor=extendInfo.fct||1),_lodash2["default"].isEmpty(_votingWall)||(_res.voting=_votingWall)}else{var _extendInfo={};_extendInfo.state=extendInfo.s,_lodash2["default"].isEmpty(_extendInfo)||(_res[name]=_extendInfo)}}),_res}function convertLayoutString(layoutStr){var isLogic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!layoutStr)return[];layoutStr=layoutStr.split("");for(var layout=[],len=layoutStr.length,i=0,inBlock=!1,_wrapperCount=0,hasWrapper=!1,blockCache="";i<len;){var current=layoutStr[i];inBlock?">"===current&&0===_wrapperCount?(hasWrapper||(isLogic?_lodash2["default"].forEach(blockCache.split("~"),function(){layout.push({type:"normal"})}):layout.push({type:"squeezeBox",layout:blockCache.split("~").map(function(v){return+v})})),inBlock=!1,blockCache="",hasWrapper=!1):("<"===current?_wrapperCount++:">"===current&&_wrapperCount--,blockCache+=current):"<"===current?inBlock=!0:"-"===current&&layout.push({type:"normal"}),i++}return layout}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_FormMetaInfoMappingUtil=__webpack_require__(43),_config=__webpack_require__(6),_config2=_interopRequireDefault(_config);exports["default"]={convertHeader:convertHeader,convertTail:convertTail,convertStyle:convertStyle,convertSettings:convertSettings,convertExtend:convertExtend,convertLayoutString:convertLayoutString},module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _regInfoReplace(str){return str.replace(/([\*\.\?\+\$\^\[\]\(\)\|\\/])/g,"\\$1")}var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_config=__webpack_require__(7),_META_MAIL_INSERT_VAR=(_interopRequireDefault(_config),{1:_config.lang.smsCBodyVarArray[0],2:_config.lang.smsCBodyVarArray[1],3:_config.lang.smsCBodyVarArray[2],4:_config.lang.smsCBodyVarArray[3],5:_config.lang.smsCBodyVarArray[4],6:_config.lang.smsCBodyVarArray[5],7:_config.lang.smsCBodyVarArray[6],8:_config.lang.smsCBodyVarArray[7],9:_config.lang.smsCBodyVarArray[8],10:_config.lang.smsCBodyVarArray[9],11:_config.lang.smsCBodyVarArray[10],12:_config.lang.smsCBodyVarArray[11],13:_config.lang.smsCBodyVarArray[12],14:_config.lang.smsCBodyVarArray[13]}),_META_RAW_VAR_INFO_MAPPING={"{{CT:N}}":"{{"+_META_MAIL_INSERT_VAR[1]+"}}","{{CT:NL}}":"{{"+_META_MAIL_INSERT_VAR[2]+"}}","{{CT:NF}}":"{{"+_META_MAIL_INSERT_VAR[3]+"}}","{{CT:NN}}":"{{"+_META_MAIL_INSERT_VAR[4]+"}}","{{CT:T}}":"{{"+_META_MAIL_INSERT_VAR[5]+"}}","{{CT:TN}}":"{{"+_META_MAIL_INSERT_VAR[6]+"}}","{{CT:TNL}}":"{{"+_META_MAIL_INSERT_VAR[7]+"}}","{{CT:MB}}":"{{"+_META_MAIL_INSERT_VAR[8]+"}}","{{CT:EM}}":"{{"+_META_MAIL_INSERT_VAR[9]+"}}","{{CT:CP}}":"{{"+_META_MAIL_INSERT_VAR[10]+"}}","{{US:N}}":"{{"+_META_MAIL_INSERT_VAR[11]+"}}","{{CL:N}}":"{{"+_META_MAIL_INSERT_VAR[12]+"}}","{{US:A}}":"{{"+_META_MAIL_INSERT_VAR[13]+"}}","{{US:MB}}":"{{"+_META_MAIL_INSERT_VAR[14]+"}}"},_META_INVERT_VAR_INFO_MAPPING=_lodash2["default"].invert(_META_RAW_VAR_INFO_MAPPING),_META_VAR_MATCHER=Object.keys(_META_INVERT_VAR_INFO_MAPPING).map(function(v){return _regInfoReplace(v)}).join("|"),_MAIL_INSERT_VAR=_META_MAIL_INSERT_VAR,_RAW_VAR_INFO_MAPPING=_META_RAW_VAR_INFO_MAPPING,_INVERT_VAR_INFO_MAPPING=_META_INVERT_VAR_INFO_MAPPING,_VAR_MATCHER=_META_VAR_MATCHER,ERROR_MESSAGES={name:{require:{eMsg:_config.lang.mErrNameNullMsg},max:{limitVal:255,eMsg:{}}}},MAIL_SUMMARY_MAPPING={a:"all",list:"list",qb:"quotaBalance"};module.exports={MAIL_INSERT_VAR:function(){return _MAIL_INSERT_VAR},RAW_VAR_INFO_MAPPING:function(){return _RAW_VAR_INFO_MAPPING},INVERT_VAR_INFO_MAPPING:function(){return _INVERT_VAR_INFO_MAPPING},VAR_MATCHER:function(){return _VAR_MATCHER},regexFormatter:function(str){return _regInfoReplace(str)},_MAIL_INSERT_VAR:_MAIL_INSERT_VAR,_RAW_VAR_INFO_MAPPING:_RAW_VAR_INFO_MAPPING,_INVERT_VAR_INFO_MAPPING:_INVERT_VAR_INFO_MAPPING,ERROR_MESSAGES:ERROR_MESSAGES,setMailCtcfVar:function(info){info&&!_lodash2["default"].isEmpty(info)&&!function(){var _nextId=Object.keys(_MAIL_INSERT_VAR).length,_ctcf_MAIL_INSERT_VAR={},_ctcf_RAW_VAR_INFO_MAPPING={},_ctcf_INVERT_VAR_INFO_MAPPING=null;_lodash2["default"].forEach(info,function(cf){var _inList=!1;_lodash2["default"].forEach(_MAIL_INSERT_VAR,function(info){if(info===cf.name)return _inList=!0,!1}),_inList||(_ctcf_MAIL_INSERT_VAR[_nextId]=cf.name,_ctcf_RAW_VAR_INFO_MAPPING["{{CT:CTCF:"+cf.id+"}}"]="{{"+cf.name+"}}",_nextId++)}),_ctcf_INVERT_VAR_INFO_MAPPING=_lodash2["default"].invert(_ctcf_RAW_VAR_INFO_MAPPING),_MAIL_INSERT_VAR=_lodash2["default"].assign({},_MAIL_INSERT_VAR,_ctcf_MAIL_INSERT_VAR),_RAW_VAR_INFO_MAPPING=_lodash2["default"].assign({},_RAW_VAR_INFO_MAPPING,_ctcf_RAW_VAR_INFO_MAPPING),_INVERT_VAR_INFO_MAPPING=_lodash2["default"].assign({},_INVERT_VAR_INFO_MAPPING,_ctcf_INVERT_VAR_INFO_MAPPING),_VAR_MATCHER=Object.keys(_INVERT_VAR_INFO_MAPPING).map(function(v){return _regInfoReplace(v)}).join("|")}()},resetMailVar:function(){_MAIL_INSERT_VAR=_META_MAIL_INSERT_VAR,_RAW_VAR_INFO_MAPPING=_META_RAW_VAR_INFO_MAPPING,_INVERT_VAR_INFO_MAPPING=_META_INVERT_VAR_INFO_MAPPING,_VAR_MATCHER=_META_VAR_MATCHER},validateData:function(d){var eCount=0,validObj={};return _lodash2["default"].forEach(ERROR_MESSAGES,function(validInfo,name){var value=d[name];validInfo.require&&!value?(eCount++,validObj[name]="require"):validInfo.max&&value.length>validInfo.max.limitVal&&(eCount++,validObj[name]="max","name"===name&&(ERROR_MESSAGES[name].max.eMsg=_config.lang.mErrNameTooLongMsg({errNum:value.length-validInfo.max.limitVal})))}),0!==eCount&&validObj},calculateTemplateNumberInOneLine:function(){var windowWidth=(0,_config.getWindowSize)().width,quickViewWidth=650;windowWidth<=1366&&(quickViewWidth=500);var templatesWidth=windowWidth-20-quickViewWidth-80,templateItemWidth=220;return windowWidth<=1056&&(templateItemWidth=210),Math.floor(templatesWidth/templateItemWidth)},convertMailSummaryRawInfo:function(data){var res={};return _lodash2["default"].forEach(data,function(val,key){MAIL_SUMMARY_MAPPING[key]&&(res[MAIL_SUMMARY_MAPPING[key]]=val)}),res},convertMailListRawInfo:function(raw){var res=[],next=null,list=raw.list;return list&&list.d.length>0&&!function(){next=list.nxt;var mpCreatedAt=list.mp_emCA,mpUpdatedAt=list.mp_emUA;res=_lodash2["default"].map(list.d||[],function(val,i){var _data=_lodash2["default"].zipObject(["id","name","isSending","isTop","c","p_style","p_settings","p_ext","sendCount","createdBy","updatedBy"],val);return _data.createdBy&&(_data.createdBy=list.mpUs[_data.createdBy][0]),_data.updatedBy&&(_data.updatedBy=list.mpUs[_data.updatedBy][0]),mpCreatedAt&&mpCreatedAt[_data.id]&&(_data.createdAt=mpCreatedAt[_data.id]),mpUpdatedAt&&mpUpdatedAt[_data.id]&&(_data.updatedAt=mpUpdatedAt[_data.id]),_data.id<2e8&&(_data.isV1=!0),_data})}(),{list:res,next:next}},convertBulkSendMailListRawInfo:function(raw){var list=[],chosenMail={};return raw.list&&raw.list.d.length>0&&(list=(raw.list.d||[]).map(function(val,i){return _lodash2["default"].zipObject(["id","name","sendCount"],val)})),raw.f&&(chosenMail=_lodash2["default"].zipObject(["id","subject","sendAddressId","sendAddress","sendNameId","sendName"],raw.f)),{ctsNum:raw.ct_n,mailNum:raw.em_n,mailQuota:raw.qb,list:list,chosenMail:chosenMail}},convertSimpleMailListRawInfo:function(raw){var list=[];return raw.list&&raw.list.d.length>0&&(list=(raw.list.d||[]).map(function(val,i){return _lodash2["default"].zipObject(["id","name"],val)})),{list:list}},convertMailSendActRawInfo:function(raw){var mailInfo={},listRaw=raw.list,list=[],next=null;return raw.em&&(mailInfo=_lodash2["default"].zipObject(["name","sendCount","receiveCount","openCount","clickCount","unsubCount","createdAt","createdBy","updatedAt","updatedBy"],raw.em),mailInfo.createdBy&&(mailInfo.createdBy=raw.mpUs[mailInfo.createdBy][0]),mailInfo.updatedBy&&(mailInfo.updatedBy=raw.mpUs[mailInfo.updatedBy][0])),
listRaw&&listRaw.d&&listRaw.d.length>0&&!function(){next=listRaw.nxt;var mpStartSendAt=listRaw.mp_emsaSA,mpSendDoneAt=listRaw.mp_emsaDA;list=(listRaw.d||[]).map(function(val,i){var _data=_lodash2["default"].zipObject(["id","sendType","no","sendBy","sendStatus","sendTo_abs","contactCount","title","senderAddress","senderName","sendCount","receiveCount","openCount","clickCount","unsubCount"],val);return _data.title&&!function(){var _title=_data.title||"";_lodash2["default"].forEach(_RAW_VAR_INFO_MAPPING,function(replacement,pattern){_title=_title.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),_data.title=_title}(),_data.sendBy&&(_data.sendBy=listRaw.mpUs[_data.sendBy][0]),_data.sendTo_abs&&("ctg"===_data.sendTo_abs[0]?_data.sendTo_abs=_lodash2["default"].zipObject(["type","id","name","grType"],_data.sendTo_abs):_data.sendTo_abs=_lodash2["default"].zipObject(["type","id","name"],_data.sendTo_abs)),mpStartSendAt&&mpStartSendAt[_data.id]&&(_data.startSendAt=mpStartSendAt[_data.id]),mpSendDoneAt&&mpSendDoneAt[_data.id]&&(_data.sendDoneAt=mpSendDoneAt[_data.id]),_data})}(),{mailInfo:mailInfo,list:list,next:next}},convertMailSendActDetailsRawInfo:function(raw){var reportInfo={},listRaw=raw.list,list=[],next=null;return raw.emsa&&(reportInfo=_lodash2["default"].zipObject(["no","startSendAt","sendBy","sendTo_abs","sendStatus","sendDoneAt","title","senderAddress","senderName","sendCount","receiveCount","openCount","clickCount","unsubCount","failedCount","contactCount","quotaReduced","quotaIncreased"],raw.emsa),reportInfo.title&&!function(){var _title=reportInfo.title||"";_lodash2["default"].forEach(_RAW_VAR_INFO_MAPPING,function(replacement,pattern){_title=_title.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),reportInfo.title=_title}(),reportInfo.sendBy&&(reportInfo.sendBy=raw.mpUs[reportInfo.sendBy][0]),reportInfo.sendTo_abs&&("ctg"===reportInfo.sendTo_abs[0]?reportInfo.sendTo_abs=_lodash2["default"].zipObject(["type","id","name","grType"],reportInfo.sendTo_abs):reportInfo.sendTo_abs=_lodash2["default"].zipObject(["type","id","name"],reportInfo.sendTo_abs))),listRaw&&listRaw.d.length>0&&!function(){next=listRaw.nxt;var mpDeliveredAt=listRaw.mp_rlEmsaslDA,mpOpenedAt=listRaw.mp_rlEmsaslOA,mpClickedAt=listRaw.mp_rlEmsaslCA,mpUnsubedAt=listRaw.mp_rlEmsaslUA;list=(listRaw.d||[]).map(function(val,i){var _data=_lodash2["default"].zipObject(["id","ctId","address","status","isDelivered","isOpened","isClicked","isUnsubed","openedIpLoc","clickedIpLoc","unsubedIpLoc"],val);return _data.ctId&&(_data.ctName=listRaw.mpCt[_data.ctId]),_data.openedIpLoc&&(_data.openedIpLoc=listRaw.mpLoc[_data.openedIpLoc]),_data.clickedIpLoc&&(_data.clickedIpLoc=listRaw.mpLoc[_data.clickedIpLoc]),_data.unsubedIpLoc&&(_data.unsubedIpLoc=listRaw.mpLoc[_data.unsubedIpLoc]),mpDeliveredAt&&mpDeliveredAt[_data.id]&&(_data.deliveredAt=mpDeliveredAt[_data.id]),mpOpenedAt&&mpOpenedAt[_data.id]&&(_data.openedAt=mpOpenedAt[_data.id]),mpClickedAt&&mpClickedAt[_data.id]&&(_data.clickedAt=mpClickedAt[_data.id]),mpUnsubedAt&&mpUnsubedAt[_data.id]&&(_data.unsubedAt=mpUnsubedAt[_data.id]),_data})}(),{emId:raw.emId,reportInfo:reportInfo,list:list,next:next}},convertSubmitChartData:function(res){if(res.co){var info=res.co;return{from:info.x[0],to:info.x[1],click:info.yc,open:info.yo}}return null},convertMailQuotaListRawInfo:function(raw){var res=[],next=null,list=raw.list;return list&&list.d.length>0&&!function(){var mpCreatedAt=list.mp_emqclCA;next=list.nxt,res=(list.d||[]).map(function(val,i){var _data=_lodash2["default"].zipObject(["id","reason","sendAct","sendActTitle","sendActNo","reduced","increased","createdBy"],val);return _data.sendActTitle&&!function(){var _sendActTitle=_data.sendActTitle||"";_lodash2["default"].forEach(_RAW_VAR_INFO_MAPPING,function(replacement,pattern){_sendActTitle=_sendActTitle.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),_data.sendActTitle=_sendActTitle}(),_data.createdBy&&(_data.createdBy=list.mpUs[_data.createdBy][0]),mpCreatedAt&&mpCreatedAt[_data.id]&&(_data.createdAt=mpCreatedAt[_data.id]),_data})}(),{quota:raw.qb,list:res,next:next}}}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function convertRawToDraftRaw(content,style){style=style||[];var entityMap={},_raw={blocks:[]},entityKey=0;return _lodash2["default"].forEach(content,function(d,i){var entityRanges=[],_preOffsetCount=0,text=d.replace(LINK_REG,function(match,$1,$2,$3,offset){return entityMap[entityKey]={type:"LINK",mutability:"MUTABLE",data:{url:$3}},entityRanges.push({offset:offset-_preOffsetCount,length:$2.length,key:""+entityKey}),entityKey++,_preOffsetCount+=12+$3.length,$2}),_style=style[i]||{},_block={text:text,type:"unstyled"};_style.style&&!_lodash2["default"].isEmpty(_style.style)&&(_block.inlineStyleRanges=_style.style),_lodash2["default"].isEmpty(entityRanges)||(_block.entityRanges=entityRanges),_raw.blocks[i]=_block}),_raw.entityMap=entityMap,_raw}function convertDraftRawToRaw(object,info){var style=[],content=[],entityMap=object.entityMap,entityTag=info?info.entityTag:null;return _lodash2["default"].forEach(object.blocks,function(block,idx){style[idx]={type:"unstyled",style:block.inlineStyleRanges};var _spliceInfo=[],_entityList=[],_currentPosition=0;_lodash2["default"].forEach(block.entityRanges,function(entityRange){_currentPosition<entityRange.offset&&_spliceInfo.push(block.text.substr(_currentPosition,entityRange.offset-_currentPosition)),_spliceInfo.push(_entityList.length);var entity=entityMap[entityRange.key];_entityList.push({text:block.text.substr(entityRange.offset,entityRange.length),type:entity.type,data:entity.data}),_currentPosition=entityRange.offset+entityRange.length});var len=block.text.length-_currentPosition;len>0&&_spliceInfo.push(block.text.substr(_currentPosition,len)),content[idx]=_lodash2["default"].reduce(_spliceInfo,function(str,data){if(_lodash2["default"].isNumber(data)){var entityInfo=_entityList[data],d="";if("LINK"===entityInfo.type){var link=(0,_MGUtil.linkify)(entityInfo.data.url)||entityInfo.data.url;d=entityTag?entityTag[0]+"LINK["+entityInfo.text+"]("+link+")"+entityTag[1]:"{{LINK["+entityInfo.text+"]("+link+")}}"}return str+d}return str+data},"")}),{content:content,style:style}}function relevantStyles(offset,styleRanges){return(0,_lodash2["default"])(styleRanges).filter(function(range){return offset>=range.offset&&offset<range.offset+range.length}).map(function(style){return style.style}).value()}function relevantEntityKey(offset,entityRanges){return(0,_lodash2["default"])(entityRanges).filter(function(range){return offset>=range.offset&&offset<range.offset+range.length}).map(function(entity){return{type:entity.type,data:entity.data,key:entity.key}}).value()}function decoratorBlock(blockType){if("unstyled"===blockType)return null;if(STYLE_MAPPING[blockType]&&blockType.indexOf("blockFontSize")>-1){var fontSize=+blockType.replace("blockFontSize","");return{fontSize:fontSize,lineHeight:_LINEHEIGHT_MAPPING[fontSize]}}return null}function decorator(styleList){var _style={};return _lodash2["default"].forEach(styleList,function(styleTag){switch(styleTag){case"BOLD":_style.fontWeight="bold";break;case"ITALIC":_style.fontStyle="italic";break;case"UNDERLINE":_style.textDecoration?_style.textDecoration=_style.textDecoration+" underline":_style.textDecoration="underline";break;case"STRIKETHROUGH":_style.textDecoration?_style.textDecoration=_style.textDecoration+" line-through":_style.textDecoration="line-through";break;default:if(0===styleTag.indexOf("color:")&&(_style.color=styleTag.replace("color:","")),0===styleTag.indexOf("bgc:")&&(_style.backgroundColor=styleTag.replace("bgc:","")),0===styleTag.indexOf("fs:")){var _fontSize=+styleTag.replace("fs:","");_style.fontSize=isNaN(_fontSize)?null:_fontSize}if(0===styleTag.indexOf("ff:")){var _fontFamily=styleTag.replace("ff:","");_style.fontFamily=FONT_FAMILY_MAPPING[_fontFamily]}}}),_style}function convertRawTextStyle(rawStyle){if(!rawStyle||_lodash2["default"].isEmpty(rawStyle))return null;var _res=[];return _lodash2["default"].forEach(rawStyle,function(rawBlock,idx){(rawBlock.t||rawBlock.s)&&(_res[+idx]={type:RAW_STYLE_MAPPING[rawBlock.t]||"unstyled",style:_lodash2["default"].map(rawBlock.s,function(s){return _lodash2["default"].zipObject(["offset","length","style"],s)})})}),_lodash2["default"].isEmpty(_res)?null:_res}function convertTextStyle(style){if(!style||_lodash2["default"].isEmpty(style))return null;var _res={};return _lodash2["default"].forEach(style,function(blockStyle,idx){if(blockStyle&&(blockStyle.type||blockStyle.style)){var _blockStyle={};"unstyled"!==blockStyle.type&&(_blockStyle.t=STYLE_MAPPING[blockStyle.type]),_lodash2["default"].isEmpty(blockStyle.style)||(_blockStyle.s=_lodash2["default"].map(blockStyle.style,function(s){return[s.offset,s.length,s.style]})),_lodash2["default"].isEmpty(_blockStyle)||(_res[idx]=_blockStyle)}}),_lodash2["default"].isEmpty(_res)?null:_res}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_MGUtil=__webpack_require__(12),FONT_FAMILY_MAPPING={1:"Microsoft YaHei",2:"SimSun, ST Song",3:"Wenquanyi Micro Hei, WenQuanYi ZenHei, WenQuanYi Zen Hei Sharp, ST Heiti",4:"KaiTi, KaiTi_GB2312, ST Kaiti",5:"YouYuan",6:"Arial",7:"Georgia",8:"Helvetica, Helvetica Neue",9:"Tahoma",10:"Times New Roman",11:"Verdana"},LINK_REG=/\{\{(LINK\[(.*?)\]\((.*?)\))\}\}/g,_LINEHEIGHT_MAPPING={12:1.1,14:1.12,16:1.14,18:1.2,24:1.24,30:1.3,36:1.5,40:1.6},STYLE_MAPPING={blockFontSize12:"fs12",blockFontSize14:"fs14",blockFontSize16:"fs16",blockFontSize18:"fs18",blockFontSize24:"fs24",blockFontSize30:"fs30",blockFontSize36:"fs36",blockFontSize40:"fs40"},RAW_STYLE_MAPPING=_lodash2["default"].invert(STYLE_MAPPING),EMPTY_STYLE={},EMPTY_STYLE_INFO=[],ContentRawRender=function(){function ContentRawRender(config){_classCallCheck(this,ContentRawRender),this.entity=config.entity,this.decorator=config.decorator}return _createClass(ContentRawRender,[{key:"_entityComponent",value:function(data){return _react2["default"].createElement("span",{key:data.key,className:cx("cp-entity","entity-"+data.type.toLowerCase())},data.content)}},{key:"_styleWrapperComponent",value:function(_ref){var style=_ref.style,content=_ref.content,key=_ref.key;return _lodash2["default"].isEmpty(style)?content:_react2["default"].createElement("span",{style:decorator(style),key:"itemOffset"+key},content)}},{key:"renderLine",value:function(lineInfo,lineStyle,key){var _entity=[],_preOffsetCount=0,_entityKey=0,_text=lineInfo.replace(LINK_REG,function(match,$1,$2,$3,offset){return _entity.push({type:"LINK",data:{url:$3},key:_entityKey,offset:offset-_preOffsetCount,length:$2.length}),_entityKey++,_preOffsetCount+=12+$3.length,$2});_lodash2["default"].forEach(this.decorator,function(decorator){decorator.match(_text,function(offset,length){_entity.push({type:decorator.type||"VAR",key:_entityKey,offset:offset,length:length}),_entityKey++})});for(var _style=lineStyle||EMPTY_STYLE,_inlineStyleRanges=_style.style||null,_blockType=_style.type||null,_styleStack=[],_tempStr="",_tempKey=0,_tempEntityList=[],_entityState=null,_output=[],i=0,len=_text.length;i<len;i++){var characterStyles=null,characterEntity=null;characterStyles=_inlineStyleRanges&&!_lodash2["default"].isEmpty(_inlineStyleRanges)?relevantStyles(i,_inlineStyleRanges):EMPTY_STYLE_INFO,characterEntity=_lodash2["default"].isEmpty(_entity)?null:relevantEntityKey(i,_entity);var stylesToAdd=null,stylesToRemove=null;characterStyles===EMPTY_STYLE_INFO?(stylesToAdd=EMPTY_STYLE_INFO,stylesToRemove=_styleStack):(stylesToAdd=_lodash2["default"].difference(characterStyles,_styleStack),stylesToRemove=_lodash2["default"].difference(_styleStack,characterStyles)),characterEntity=characterEntity&&0!==characterEntity.length?characterEntity[0]:null;var _entityStateChange=(characterEntity?characterEntity.key:null)!==_entityState;if(stylesToAdd.length||stylesToRemove.length||_entityStateChange){if(null!==_entityState){if(_tempStr&&(_tempEntityList.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey})),_tempKey++,_tempStr=""),_entityStateChange&&_tempEntityList.length>0){var _currentEntity=_lodash2["default"].find(_entity,{key:_entityState}),entityInfo=this.entity[_currentEntity.type];entityInfo||(entityInfo=_lodash2["default"].find(this.decorator,{type:_currentEntity.type}));var _data={type:_currentEntity.type,content:_tempEntityList,data:_currentEntity.data,key:"entity"+_entityState};entityInfo?_output.push(entityInfo.component(_data)):_output.push(this._entityComponent(_data)),_tempEntityList=[]}}else _tempStr&&(_output.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey})),_tempKey++,_tempStr="");_entityState=characterEntity?characterEntity.key:null,stylesToRemove.length>0&&(_styleStack=_lodash2["default"].difference(_styleStack,stylesToRemove)),stylesToAdd.length>0&&_lodash2["default"].forEach(stylesToAdd,function(style){return _styleStack.push(style)})}_tempStr+=_text.substr(i,1)}if(_tempStr)if(null!==_entityState){_tempEntityList.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey}));var _currentEntity2=_lodash2["default"].find(_entity,{key:_entityState}),_entityInfo=this.entity[_currentEntity2.type];_entityInfo||(_entityInfo=_lodash2["default"].find(this.decorator,{type:_currentEntity2.type}));var _data2={type:_currentEntity2.type,content:_tempEntityList,data:_currentEntity2.data,key:"entity"+_entityState};_entityInfo?_output.push(_entityInfo.component(_data2)):_output.push(this._entityComponent(_data2))}else _output.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey}));return _lodash2["default"].isEmpty(_output)&&(_output=" "),_react2["default"].createElement("span",{key:"block"+key,style:_blockType?decoratorBlock(_blockType):null},_output)}},{key:"render",value:function(content,style){var _this=this,_blocks=[];content=[].concat(content);var _len=content.length;return _lodash2["default"].forEach(content,function(text,key){var _style=(style||EMPTY_STYLE)[key],blockContent=_this.renderLine(text,_style,key);_blocks=_blocks.concat(blockContent,_len-1===key?null:_react2["default"].createElement("br",{key:"wrapKey"+key}))}),_blocks}}]),ContentRawRender}();exports["default"]={convertRawToDraftRaw:convertRawToDraftRaw,convertDraftRawToRaw:convertDraftRawToRaw,convertTextStyle:convertTextStyle,convertRawTextStyle:convertRawTextStyle,FONT_FAMILY_MAPPING:FONT_FAMILY_MAPPING,crateTextRender:function(config){return new ContentRawRender(config)}},module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(315)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_CustomFieldsUtil=__webpack_require__(49),_CustomFieldsUtil2=_interopRequireDefault(_CustomFieldsUtil),_TAG="_MK_CUSTOM_",_SORT=[2,3,4,1],_customFields=null,_customFieldsList=null,_customFieldsInfo=null,_customFieldsGroup=null,cfMixer={init:function(raw,sort){if(raw){_customFields=null,_customFieldsInfo=null,_customFieldsGroup=null,_customFieldsList=null;var _cf_info=_CustomFieldsUtil2["default"].convertCustomFieldsListInfo(raw,sort||_SORT);_cf_info&&(_customFields={},_customFieldsList=[],_lodash2["default"].forEach(_cf_info.list,function(info){_customFieldsList.push(info.id),_customFields[info.id]=info}),_customFieldsGroup=_cf_info.mappingGroups)}},active:function(){return!!_customFields},getCustomFieldsList:function(){return _customFieldsInfo=_customFieldsInfo||_lodash2["default"].map(_customFieldsList,function(id){return _customFields[id]})},getCustomFieldsGroupInfo:function(){return _customFieldsGroup},getCustomField:function(customFieldId){return _customFields[customFieldId]},isActive:function(customFieldId,groupInfo){var _groups=[].concat(groupInfo),cf=cfMixer.getCustomField(customFieldId);if(cf){if(!cf.groups||cf.groups.ALL)return!0;if(!_lodash2["default"].isEmpty(_groups))return _lodash2["default"].reduce(_groups,function(res,grInfo){var _currentGroupActive=!1;return!isNaN(+grInfo)&&(cf.groups.GROUP||[]).indexOf(+grInfo)>-1?_currentGroupActive=!0:(cf.groups.CATEGORY||[]).indexOf(grInfo)>-1&&(_currentGroupActive=!0),res||_currentGroupActive},!1)}return!1},isCustomFieldTag:function(tag){return _lodash2["default"].startsWith(tag,_TAG)},setCustomFieldTag:function(id){return""+_TAG+id},getCustomFieldId:function(tag){return cfMixer.isCustomFieldTag(tag)?tag.replace(_TAG,"")>>>0:null}};exports["default"]=cfMixer,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _propsContentConvert(type,content){var _cConvert=null;return function(){switch(type){case 6:case 7:content&&!function(){var _content=content,_c={l:[],df:[]};_content.opId&&(_c.mx=_content.opId),_content.textMapping&&(_c.tl=_content.textMapping),_lodash2["default"].forEach(_content.options,function(opt){opt.isDefaultValue&&_c.df.push(opt.id),_c.l.push([opt.id,opt.value])}),_cConvert=_c}();break;case 8:var _c={l:[],df:[]};content.opId&&(_c.mx=content.opId),content.textMapping&&(_c.tl=content.textMapping);var _getChildren=function(obj,pId){return _lodash2["default"].filter(obj,function(info){return _lodash2["default"].isArray(pId)?pId.indexOf(info.pId)>-1:pId===info.pId})},_processSendContent=function _processSendContent(c,pId){var _list=_getChildren(c,pId),_pIdList=[];_lodash2["default"].forEach(_list,function(info){info.defaultValue&&_c.df.push(info.id),_c.l.push([info.id,info.pId,info.content]),_pIdList.indexOf(info.id)===-1&&_pIdList.push(info.id)}),_pIdList.length>0&&_processSendContent(c,_pIdList)};_processSendContent(content.options,null),_cConvert=_c}}(),_cConvert}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_config=__webpack_require__(7),_MGString=__webpack_require__(14),_MGString2=_interopRequireDefault(_MGString),_MGIntl=__webpack_require__(17),_MGIntl2=_interopRequireDefault(_MGIntl),CUSTOM_FIELDS_ICONS=[{id:1,icon:String.fromCharCode(59425),bgPosition:"0 0"},{id:2,icon:String.fromCharCode(59426),bgPosition:"-20px 0"},{id:3,icon:String.fromCharCode(59427),bgPosition:"-40px 0"},{id:4,icon:String.fromCharCode(59428),bgPosition:"-60px 0"},{id:5,icon:String.fromCharCode(59429),bgPosition:"-80px 0"},{id:6,icon:String.fromCharCode(59430),bgPosition:"-100px 0"},{id:7,icon:String.fromCharCode(59431),bgPosition:"-120px 0"},{id:8,icon:String.fromCharCode(59432),bgPosition:"-140px 0"},{id:9,icon:String.fromCharCode(59433),bgPosition:"-160px 0"},{id:10,icon:String.fromCharCode(59434),bgPosition:"-180px 0"},{id:11,icon:String.fromCharCode(59435),bgPosition:"-200px 0"},{id:12,icon:String.fromCharCode(59436),bgPosition:"-220px 0"},{id:13,icon:String.fromCharCode(59437),bgPosition:"0 -20px"},{id:14,icon:String.fromCharCode(59438),bgPosition:"-20px -20px"},{id:15,icon:String.fromCharCode(59439),bgPosition:"-40px -20px"},{id:16,icon:String.fromCharCode(59440),bgPosition:"-60px -20px"},{id:17,icon:String.fromCharCode(58957),bgPosition:"-80px -20px"},{id:18,icon:String.fromCharCode(59441),bgPosition:"-100px -20px"},{id:19,icon:String.fromCharCode(59442),bgPosition:"-120px -20px"},{id:20,icon:String.fromCharCode(58947),bgPosition:"-140px -20px"},{id:21,icon:String.fromCharCode(58901),bgPosition:"-160px -20px"},{id:22,icon:String.fromCharCode(58931),bgPosition:"-180px -20px"},{id:23,icon:String.fromCharCode(59444),bgPosition:"-200px -20px"},{id:24,icon:String.fromCharCode(59445),bgPosition:"-220px -20px"}],CUSTOM_FIELDS_TYPES=[{id:1,prGrId:34,type:"single",typeIcon:String.fromCharCode(59137),title:_config.lang.sCustomFieldsTypeArray[0],tips:_config.lang.sCustomFieldsTipsSingle,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#1",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:2,prGrId:35,type:"textArea",tips:_config.lang.sCustomFieldsTipsTextArea,typeIcon:String.fromCharCode(59154),title:_config.lang.sCustomFieldsTypeArray[1],wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#2",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:6,prGrId:39,type:"radio",typeIcon:String.fromCharCode(59219),title:_config.lang.sCustomFieldsTypeArray[5],tips:_config.lang.sCustomFieldsTipsRadio,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#3",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:7,prGrId:40,type:"checkbox",typeIcon:String.fromCharCode(59217),title:_config.lang.sCustomFieldsTypeArray[6],tips:_config.lang.sCustomFieldsTipsCheckbox,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#4",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:9,prGrId:42,type:"dateTime",typeIcon:String.fromCharCode(59141),title:_config.lang.sCustomFieldsTypeArray[8],tips:_config.lang.sCustomFieldsTipsDateTime,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#5",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:3,prGrId:36,type:"number",typeIcon:String.fromCharCode(59142),title:_config.lang.sCustomFieldsTypeArray[2],tips:_config.lang.sCustomFieldsTipsNumber,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#6",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}},unit:{maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldNumberUnit,max:255})}}}},{id:4,prGrId:37,type:"rate",typeIcon:String.fromCharCode(59144),title:_config.lang.sCustomFieldsTypeArray[3],tips:_config.lang.sCustomFieldsTipsRate,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#7",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}},rateMax:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldNumberRateMax})},max:{limitVal:20,eMsg:_config.lang.sCustomFieldErrTooMax({field:_config.lang.sCustomFieldNumberRateMax,max:20})}}}},{id:5,prGrId:38,type:"currency",typeIcon:String.fromCharCode(59147),title:_config.lang.sCustomFieldsTypeArray[4],tips:_config.lang.sCustomFieldsTipsCurrency,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#8",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}},unit:{maxLength:{max:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldNumberUnit,max:255})}}}},{id:8,prGrId:41,type:"multiLevel",typeIcon:String.fromCharCode(59140),title:_config.lang.sCustomFieldsTypeArray[7],tips:_config.lang.sCustomFieldsTipsMultiLevel,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#9",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:11,prGrId:44,type:"cnId",typeIcon:String.fromCharCode(59446),title:_config.lang.sCustomFieldsTypeArray[10],tips:_config.lang.sCustomFieldsTipsCnID,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#ID",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}},{id:12,prGrId:45,type:"cnVehiclePlate",typeIcon:String.fromCharCode(59447),title:_config.lang.sCustomFieldsTypeArray[11],tips:_config.lang.sCustomFieldsTipsCnVehiclePlate,wikiLink:"http://wiki."+(window.sld||"cn")+".mikecrm.com/customFields#car",ERROR_MESSAGES:{name:{require:{eMsg:_config.lang.sCustomFieldErrEmpty({field:_config.lang.sCustomFieldTitleName})},maxLength:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldTitleName,max:255})}}}}],CUSTOM_FIELD_RADIO_TYPE=[{id:1,title:_config.lang.fBComponentSelectSingle,backgroundPosition:"0 0"},{id:2,title:_config.lang.fBComponentDropDown,backgroundPosition:"-122px 0"}],CUSTOM_FIELD_NUMBER_FORMAT=[{id:1,value:_config.lang.sCustomFieldNumberFormatArray[0]},{id:2,value:_config.lang.sCustomFieldNumberFormatArray[1]},{id:3,value:_config.lang.sCustomFieldNumberFormatArray[2]}],CUSTOM_FIELD_DATE_TIME_FORMAT=[{id:1,title:"YYYY-MM-DD HH:MM:SS"},{id:2,title:"YYYY-MM-DD HH:MM"},{id:3,title:"YYYY-MM-DD"},{id:4,title:"YYYY-MM"},{id:5,title:"MM-DD HH:MM:SS"},{id:6,title:"MM-DD HH:MM"},{id:7,title:"MM-DD"},{id:8,title:"HH:MM:SS"},{id:9,title:"HH:MM"}],CUSTOM_FIELD_DATE_FORMAT=[{id:1,value:_config.lang.fBFormDateFormatYMD},{id:2,value:_config.lang.fBFormDateFormatYM},{id:3,value:_config.lang.fBFormDateFormatMD},{id:0,value:_config.lang.sCustomFieldTimeFormatArray[0]}],CUSTOM_FIELD_TIME_FORMAT=[{id:1,value:_config.lang.sCustomFieldTimeFormatArray[1]},{id:2,value:_config.lang.sCustomFieldTimeFormatArray[2]},{id:0,value:_config.lang.sCustomFieldTimeFormatArray[0]}],CUSTOM_FIELD_VEHICLE_PLATE_TYPE=[{id:1,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[0]},{id:2,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[1]},{id:3,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[2]},{id:4,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[3]},{id:5,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[4]},{id:6,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[5]},{id:7,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[6]},{id:8,title:_config.lang.sCustomFieldsCnVehiclePlateTypeArray[7]}],CustomFieldsDataMapping={type:"t",name:"n",groups:"vr",props:"p"},CustomFieldsPropsMapping={dateTimeFormat:"df",numberFormat:"nf",unit:"nu",decimalDigits:"dl",defaultCurrency:"dc",rateMax:"rm",rateIcon:"ri",radioStyle:"rs",displayPreference:"dp",icon:"icon",content:"c"},CustomFieldsPropsRawMapping=_lodash2["default"].invert(CustomFieldsPropsMapping),ERROR_MESSAGES={1:{max:{limitVal:255,eMsg:_config.lang.sCustomFieldErrTooLong({field:_config.lang.sCustomFieldErrInputTitle,max:255})}},3:{isNumber:{eMsg:_config.lang.cErrNumberMsg}},5:{isNumber:{eMsg:_config.lang.cErrNumberMsg}},11:{isCnId:{eMsg:_config.lang.cErrCNIdValidFailMsg}}};exports["default"]={CUSTOM_FIELDS_ICONS:CUSTOM_FIELDS_ICONS,CUSTOM_FIELDS_TYPES:CUSTOM_FIELDS_TYPES,CUSTOM_FIELD_RADIO_TYPE:CUSTOM_FIELD_RADIO_TYPE,CUSTOM_FIELD_NUMBER_FORMAT:CUSTOM_FIELD_NUMBER_FORMAT,CUSTOM_FIELD_DATE_TIME_FORMAT:CUSTOM_FIELD_DATE_TIME_FORMAT,CUSTOM_FIELD_DATE_FORMAT:CUSTOM_FIELD_DATE_FORMAT,CUSTOM_FIELD_TIME_FORMAT:CUSTOM_FIELD_TIME_FORMAT,CUSTOM_FIELD_VEHICLE_PLATE_TYPE:CUSTOM_FIELD_VEHICLE_PLATE_TYPE,ERROR_MESSAGES:ERROR_MESSAGES,convertCustomFieldsDataInfo:function(type,data){var _res={};return _lodash2["default"].forEach(data,function(val,key){CustomFieldsDataMapping[key]&&("props"===key&&!function(){var _val={};if(_lodash2["default"].forEach(val,function(pVal,pKey){CustomFieldsPropsMapping[pKey]&&(_val[CustomFieldsPropsMapping[pKey]]=pVal)}),9===type){var dateTimeFormat=1;if(data.props&&(data.props.dateFormat||data.props.timeFormat))switch(data.props.dateFormat){case 1:switch(data.props.timeFormat){case 1:dateTimeFormat=1;break;case 2:dateTimeFormat=2;break;case 3:default:dateTimeFormat=3}break;case 2:dateTimeFormat=4;break;case 3:switch(data.props.timeFormat){case 1:dateTimeFormat=5;break;case 2:dateTimeFormat=6;break;case 3:default:dateTimeFormat=7}break;case 4:default:switch(data.props.timeFormat){case 1:dateTimeFormat=8;break;case 2:dateTimeFormat=9}}_val.df=dateTimeFormat}val=_val}(),_res[CustomFieldsDataMapping[key]]=val)}),_res.p&&_res.p.c&&(_res.p.c=_propsContentConvert(type,_res.p.c)),_res},convertCustomFieldsListInfo:function(list,categoryOrder){var _res={};return list.d&&(list.mpCtg&&(_res.mappingGroups={},_lodash2["default"].forEach(list.mpCtg,function(grInfo,grId){_res.mappingGroups[grId]=_lodash2["default"].zipObject(["type","name","isTop"],grInfo)})),_res.list=[],_lodash2["default"].forEach(list.d,function(info){var item=_lodash2["default"].zipObject(["id","type","status","name","groups","props"],info);if(item.props&&!function(){var _props={};_lodash2["default"].forEach(item.props,function(pVal,pKey){if("c"===pKey?!function(){var _content={};switch(item.type){case 6:case 7:pVal&&(pVal.mx&&(_content.opId=pVal.mx),pVal.tl&&(_content.textMapping=pVal.tl),pVal.l2s&&(_content.l2s=pVal.l2s),_content.options=_lodash2["default"].map(pVal.l,function(item){return{isDefaultValue:pVal.df.indexOf(item[0])>-1,sId:(_content.l2s||{})[item[0]],id:item[0],value:item[1]}}));break;case 8:pVal&&(pVal.mx&&(_content.opId=pVal.mx),pVal.tl&&(_content.textMapping=pVal.tl),pVal.l2s&&(_content.l2s=pVal.l2s),_content.options=_lodash2["default"].map(pVal.l,function(item){return{isDefaultValue:pVal.df.indexOf(item[0])>-1,sId:(_content.l2s||{})[item[0]],id:item[0],pId:item[1],type:1,content:item[2]}}))}_props[CustomFieldsPropsRawMapping[pKey]]=_content}():CustomFieldsPropsRawMapping[pKey]&&(_props[CustomFieldsPropsRawMapping[pKey]]=pVal),_props.dateTimeFormat){var _dateFormat=1,_timeFormat=1;switch(_props.dateTimeFormat){case 1:_dateFormat=1,_timeFormat=1;break;case 2:_dateFormat=1,_timeFormat=2;break;case 3:_dateFormat=1,_timeFormat=0;break;case 4:_dateFormat=2;break;case 5:_dateFormat=3,_timeFormat=1;break;case 6:_dateFormat=3,_timeFormat=2;break;case 7:_dateFormat=3,_timeFormat=0;break;case 8:_dateFormat=0,_timeFormat=1;break;case 9:_dateFormat=0,_timeFormat=2}_props.dateFormat=_dateFormat,_props.timeFormat=_timeFormat}}),item.props=_props}(),item.groups){var _groups=_lodash2["default"].assign({},item.groups);_groups.CATEGORY&&(_groups.CATEGORY=_groups.CATEGORY.sort(function(a,b){return categoryOrder.indexOf(a)-categoryOrder.indexOf(b);
})),_groups.GROUP&&(_groups.GROUP=_groups.GROUP.sort(function(a,b){var _aGroup=_res.mappingGroups[a],_bGroup=_res.mappingGroups[b],_aValue=100*(categoryOrder.indexOf(_aGroup.type)+1)+_aGroup.isTop,_bValue=100*(categoryOrder.indexOf(_bGroup.type)+1)+_bGroup.isTop;return _aValue-_bValue})),item.groups=_groups}_res.list.push(item)})),_res},convertCustomFieldsDataInContact:function(data,customFields,isEdit){var _this=this,_res={};return data&&customFields&&_lodash2["default"].forEach(data,function(val,id){var res=null,customFieldInfo=_lodash2["default"].find(customFields,{id:+id});if(customFieldInfo)switch(customFieldInfo.type){case 12:res=isEdit?_lodash2["default"].zipObject(["value","isIdentify","type","location","locationSupply","style"],val):_lodash2["default"].zipObject(["value","isIdentify","style"],val);var style=res.style||{};res.style={bgColor:["#011B7A","#FFBE00","#fff","#000"][(style.bg||1)-1],frameType:style.fr||0,frameColor:["#fff","#000","#FF0000"][(style.fr||1)-1],textColor:["#fff","#000"][(style.tc||1)-1],dotPosition:"pd"in style?style.pd:2,textRangeStyle:style.ptr};break;case 11:res=isEdit?_lodash2["default"].zipObject(["value","isIdentify","gender","birthday","location"],val):_lodash2["default"].zipObject(["value","isIdentify"],val);break;case 7:isEdit?res=val:!function(){var checkContent=(customFieldInfo.props||{}).content;checkContent&&(res=[],_lodash2["default"].forEach(val,function(id){var _d=_lodash2["default"].find(checkContent.options,{sId:id});_d?res.push((_d||{}).value||""):checkContent.textMapping&&checkContent.textMapping[id]&&res.push(checkContent.textMapping[id])}))}();break;case 6:if(isEdit)res=val;else{var content=(customFieldInfo.props||{}).content;if(content){var _d=_lodash2["default"].find(content.options,{sId:val});_d?res=(_d||{}).value||"":content.textMapping&&content.textMapping[val]&&(res=content.textMapping[val])}}break;case 5:res=_lodash2["default"].zipObject(["symbol","valueRaw"],val);var _hasCurrencyDecimalDigits="decimalDigits"in customFieldInfo.props,_currencyDigits=_hasCurrencyDecimalDigits?customFieldInfo.props.decimalDigits:2;res.value=_MGIntl2["default"].localeNumberFormatter(res.valueRaw,_currencyDigits,_currencyDigits);break;case 3:var _hasNumberDecimalDigits="decimalDigits"in customFieldInfo.props,_numberDigits=_hasNumberDecimalDigits?customFieldInfo.props.decimalDigits:2;res=_MGIntl2["default"].localeNumberFormatter(val,_numberDigits,_numberDigits);break;case 2:res=val.split("\n");break;case 9:var _prettyDate=_this.covertDateTimeToPrettyValue(val,customFieldInfo.props.dateTimeFormat);res=isEdit?{valueRaw:val,value:_prettyDate}:_prettyDate;break;case 4:case 1:default:res=val}res&&(_res[id]=res)}),_res},validateData:function(data){var _validRes=!1;switch(data.type){case 1:data.value&&data.value.length>255&&(_validRes="max");break;case 9:break;case 3:case 5:var _numValue=data.value?_MGIntl2["default"].localeStringToNumber(data.value):null;_numValue&&isNaN(_numValue)&&(_validRes="isNumber");break;case 11:data.value&&!_MGString2["default"].isCnIdCard(data.value)&&(_validRes="isCnId")}return _validRes},covertDateTimeToPrettyValue:function(val,dateTimeFormat){var res=val.split(/\s|-|:/g);switch(dateTimeFormat){case 9:res=(res[3]||"00")+":"+(res[4]||"00");break;case 8:res=(res[3]||"00")+":"+(res[4]||"00")+":"+(res[5]||"00");break;case 7:res=(res[1]||"00")+"-"+(res[2]||"00");break;case 6:res=(res[1]||"00")+"-"+(res[2]||"00")+" "+(res[3]||"00")+":"+(res[4]||"00");break;case 5:res=(res[1]||"00")+"-"+(res[2]||"00")+" "+(res[3]||"00")+":"+(res[4]||"00")+":"+(res[5]||"00");break;case 4:res=(res[0]||"0000")+"-"+(res[1]||"00");break;case 3:res=(res[0]||"0000")+"-"+(res[1]||"00")+"-"+(res[2]||"00");break;case 2:res=(res[0]||"0000")+"-"+(res[1]||"00")+"-"+(res[2]||"00")+" "+(res[3]||"00")+":"+(res[4]||"00");break;case 1:default:res=(res[0]||"0000")+"-"+(res[1]||"00")+"-"+(res[2]||"00")+" "+(res[3]||"00")+":"+(res[4]||"00")+":"+(res[5]||"00")}return res}},module.exports=exports["default"]},function(module,exports,__webpack_require__){function getLocationDRT4(info,beforeSendFunc){return _AppUtil.ws.post(_HANDLER+"handleGetMgADRT4ByTyping.php",{data:{d:JSON.stringify({cvs:info})},beforeSend:function(){beforeSendFunc&&beforeSendFunc()}})}function abortLocationDRT4(){_AppUtil.ws.abort(_HANDLER+"handleGetMgADRT4ByTyping.php")}function getQuickSearch(searchData){return _AppUtil.ws.post(_HANDLER+"handleQuickSearch.php",{data:{d:JSON.stringify({cvs:{t:searchData}})}})}function abortQuickSearch(){_AppUtil.ws.abort(_HANDLER+"handleQuickSearch.php")}function closeUserGuide(n){return _AppUtil.ws.post(_HANDLER+"handleUgDone.php",{data:{d:JSON.stringify({cvs:{c:0,n:n}})}})}function checkSpace(){return _AppUtil.ws.post(_HANDLER+"handleCheckSpace.php")}function checkExtIETK(){return _AppUtil.ws.post(_HANDLER+"handleCheckExt_ietk.php")}function getAccountMenuData(){return _AppUtil.ws.post(_HANDLER+"handleGetDataOnAccountMenu.php")}function refreshSession(){return _AppUtil.ws.post(_HANDLER+"handleRefreshSession.php")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocationDRT4=getLocationDRT4,exports.abortLocationDRT4=abortLocationDRT4,exports.getQuickSearch=getQuickSearch,exports.abortQuickSearch=abortQuickSearch,exports.closeUserGuide=closeUserGuide,exports.checkSpace=checkSpace,exports.checkExtIETK=checkExtIETK,exports.getAccountMenuData=getAccountMenuData,exports.refreshSession=refreshSession;var _AppUtil=__webpack_require__(51),_HANDLER=window.rootPath("handler/web/base/");window.rootPath("handler/web/buy/");exports["default"]={getLocation:getLocationDRT4,abortLocation:abortLocationDRT4,getQuickSearch:getQuickSearch,abortQuickSearch:abortQuickSearch,closeUserGuide:closeUserGuide,checkSpace:checkSpace,checkExtIETK:checkExtIETK,getAccountMenuData:getAccountMenuData,refreshSession:refreshSession}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _errorAlert(type,errLegend,reSend){var MKCPopwinAlert=__webpack_require__(55);_reactDom2["default"].render(_react2["default"].createElement(MKCPopwinAlert,{type:type,errLegend:errLegend,reSend:reSend}),(0,_jquery2["default"])("#popwin")[0])}function _ajax(options){var _cookieDefault={beforeSend:function(){var _args=arguments;cookie_monster.eat(),options.beforeSend&&options.beforeSend.apply(this,_args)},success:function(){var _args=arguments;cookie_monster.vomit(),options.success&&options.success.apply(this,_args)},error:function(){var _args=arguments;cookie_monster.vomit(),options.error&&options.error.apply(this,_args)}},ajaxOption=_jquery2["default"].extend({mode:"abort"},options,_cookieDefault),_reSendDeferred=_jquery2["default"].Deferred(),_reSendPromise=_reSendDeferred.promise(),_reSendHandler=null,ajaxDeferred=_MGWsUtil2["default"].ajax(ajaxOption).then().fail(function(xhr){if("abort"!==xhr.statusText&&ajaxOption.url!==window.rootPath("handler/web/login/handleLogout.php"))return options.hideErrorAlert||_errorAlert("-2"),{r:-2}}).done(function(res){if(res){var r=res.r;_GlobalErrorUtil2["default"].hasErrInfo(r)&&!options.hideErrorAlert&&(options.hideErrorAlertByType&&[].concat(options.hideErrorAlertByType).indexOf(r)!==-1||(r==-4?(_reSendHandler=function(){_ajax(ajaxOption).then(function(res){_reSendDeferred.resolve(res)})},_errorAlert("-4",res.e,_reSendHandler)):_errorAlert(r,res.e)))}else options.hideErrorAlert||_errorAlert("-10")}).always(function(){if(ajaxOption.url.indexOf("login/handleLogout.php")>-1)return cookie_monster.eat(!0),cookie_monster.vomit(["lang","uvi","wxoaid","fcdnex"]),!0}).then(function(res){return res&&res.r===-4&&!options.hideErrorAlert?_reSendPromise:res});return ajaxDeferred.then()}function _post(url,options){var _default={url:url,type:"POST",dataType:"json"};return _ajax(_jquery2["default"].extend({},options,_default))}function _abort(url){_MGWsUtil2["default"].abort(url)}function _postFileDownload(url,data){var method=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",onError=arguments[3],onSuccess=arguments[4];if(url){var _ret=function(){var downloadCallback=function(){var contentInfo=(0,_jquery2["default"])("#downloadHelperFrame").contents().text();if(_MGDebugger2["default"].log("in download callback",this),contentInfo){var _data=null;try{_data=JSON.parse(contentInfo)}catch(e){}if(_data&&0!==_data.r){var MKCPopwinSpaceNotEnough=__webpack_require__(71),MKCPopwinAlert=__webpack_require__(55);+_data.r===-56?_reactDom2["default"].render(_react2["default"].createElement(MKCPopwinSpaceNotEnough,{errLegend:_data.e}),document.getElementById("popfunc")):_reactDom2["default"].render(_react2["default"].createElement(MKCPopwinAlert,{type:_data.r,errLegend:_data.e,reSend:!1}),(0,_jquery2["default"])("#popwin")[0]),onError&&onError(_data)}}};_MGDebugger2["default"].log(url,data,method,onError);var processedData="";data&&_lodash2["default"].forEach(_lodash2["default"].keys(data),function(key){processedData+=(0,_jquery2["default"])('<input type="hidden" name="'+key+'"/>').val(data[key])[0].outerHTML});var currentCallbackName="dhLoad"+ +new Date;window[currentCallbackName]=downloadCallback,(0,_jquery2["default"])("#downloadHelperFrame")&&(0,_jquery2["default"])("#downloadHelperFrame").remove();var _CLASS_WRAPPER=".wrapper";(0,_jquery2["default"])('<iframe id="downloadHelperFrame" name="downloadHelperFrame" class="downloadHelperFrame" style="width: 0;height:0;visibility: hidden;" onload="'+currentCallbackName+'()" />').insertAfter(_CLASS_WRAPPER);var $downloadWorker=(0,_jquery2["default"])('<form id="downloadWorker'+currentCallbackName+'" action="'+url+'" method="'+method+'" style="display: none;" target="downloadHelperFrame">'+processedData+"</form>");$downloadWorker.insertAfter(_CLASS_WRAPPER);var iframe=(0,_jquery2["default"])("#downloadHelperFrame")[0],iframeDoc=iframe.contentDocument||iframe.contentWindow.document,_count=0,timer=window.setInterval(function(){"complete"===iframeDoc.readyState?(onSuccess&&onSuccess(),clearInterval(timer)):16===_count&&(onSuccess&&onSuccess(),clearInterval(timer)),_count++},1e3);return $downloadWorker.submit(),$downloadWorker.remove(),{v:!0}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}return!1}function _fakePost(){var _fakeSendDeferred=_jquery2["default"].Deferred(),_fakeSendPromise=_fakeSendDeferred.promise();return _fakeSendDeferred.resolve({r:0}),_fakeSendPromise.then()}function isInAuthWeChat(){return null!=window._R&&window._WC}function authType(){return isInAuthWeChat()?window.D&&window.D.header&&window.D.header.uAuthority?window.D.header.uAuthority:3:window.uAuthority?window.uAuthority:3}function _authLimited(){return _AUTH&&1!==_AUTH&&2!==_AUTH}function _authAdmin(){return _AUTH&&1===_AUTH}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_MGWsUtil=__webpack_require__(53),_MGWsUtil2=_interopRequireDefault(_MGWsUtil),_GlobalErrorUtil=__webpack_require__(54),_GlobalErrorUtil2=_interopRequireDefault(_GlobalErrorUtil),_MGDebugger=__webpack_require__(39),_MGDebugger2=_interopRequireDefault(_MGDebugger),cookie_monster=_MGWsUtil2["default"].cookieMonster;(0,_jquery2["default"])(window).bind("beforeunload",function(){cookie_monster.vomit()});var _AUTH=authType();exports["default"]={ws:{ajax:_ajax,post:_post,abort:_abort},ajax:_ajax,post:_post,abort:_abort,ErrorAlert:_errorAlert,cookieMonster:_MGWsUtil2["default"].cookieMonster,postFileDownload:_postFileDownload,authLimited:_authLimited,authAdmin:_authAdmin,fakePost:_fakePost},module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(545)},function(module,exports,__webpack_require__){(function(global){function AJAX_ABORT(url){var settings=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},port="wsMG"+(settings.port||"mgajax_"+url+(settings.abortKey||""))+("pending"===settings.mode?settings.queueKey||"":"");pendingRequests[port]&&pendingRequests[port].abort()}var $=__webpack_require__(9),Util=__webpack_require__(11),jQuery=global.jQuery=global.$=$,_today=new Date,legalCookie={a:new Date(_today-0+31536e6).toUTCString(),t:new Date(_today-0+31536e6).toUTCString(),ap:new Date(_today-0+31536e6).toUTCString(),n:new Date(_today-0+31536e6).toUTCString(),_ga:new Date(_today-0+63072e6).toUTCString(),lang:new Date(_today-0+31536e6).toUTCString(),uvi:new Date(_today-0+126144e6).toUTCString(),wxoaid:new Date(_today-0+31536e6).toUTCString(),fcdnex:new Date(_today-0+864e5).toUTCString(),PHPSESSID:"SESSION"},_DOMAIN=".mikecrm.com",pendingRequests=[],AJAX=function(_$){var ajax=_$.ajax,synced=[],syncedData=[],ajaxRunning=[];return _$.ajax=function(settings){var deferred=$.Deferred(),promise=deferred.promise();settings=jQuery.extend(settings,jQuery.extend({},jQuery.ajaxSettings,settings));var port="wsMG"+(settings.port||"mgajax_"+settings.url+(settings.abortKey||""));switch(settings.mode){case"abort":return pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=ajax.apply(this,arguments);case"pending":var portWithQueueKey=port+(settings.queueKey||"");pendingRequests[portWithQueueKey]&&pendingRequests[portWithQueueKey].abort&&pendingRequests[portWithQueueKey].abort();var _currentQ=[].concat(jQuery([ajax]).queue("ajax"+port));jQuery([ajax]).queue("ajax"+port,(_currentQ||[]).map(function(callback){return callback.Q===portWithQueueKey?callback.bind({abort:!0}):callback})),promise.success=promise.done,promise.error=promise.fail,promise.complete=promise.always;var _old=settings.complete;settings.complete=function(){_old&&_old.apply(this,arguments),jQuery([ajax]).queue("ajax"+port).length>0?jQuery([ajax]).dequeue("ajax"+port):ajaxRunning[port]=!1};var that=this,_queue=function(portWithQueueKey){return function(){if(!this.abort){var jqAjax=pendingRequests[portWithQueueKey]=ajax(settings);return jqAjax.done(function(){deferred.resolve.apply(that,arguments)}),jqAjax.fail(function(){deferred.reject.apply(that,arguments)}),jqAjax}jQuery([ajax]).queue("ajax"+port).length>0?jQuery([ajax]).dequeue("ajax"+port):ajaxRunning[port]=!1}}(portWithQueueKey);return _queue.Q=""+portWithQueueKey,jQuery([ajax]).queue("ajax"+port,_queue),1!=jQuery([ajax]).queue("ajax"+port).length||ajaxRunning[port]||(ajaxRunning[port]=!0,jQuery([ajax]).dequeue("ajax"+port)),promise;case"queue":port=(settings.portKey?settings.portKey:port)+(settings.queueKey||""),promise.success=promise.done,promise.error=promise.fail,promise.complete=promise.always;var _old=settings.complete;return settings.complete=function(){_old&&_old.apply(this,arguments),jQuery([ajax]).queue("ajax"+port).length>0?jQuery([ajax]).dequeue("ajax"+port):ajaxRunning[port]=!1},jQuery([ajax]).queue("ajax"+port,function(){var jqAjax=ajax(settings);return jqAjax.done(function(){deferred.resolve.apply(this,arguments)}),jqAjax.fail(function(){deferred.reject.apply(this,arguments)}),jqAjax}),1!=jQuery([ajax]).queue("ajax"+port).length||ajaxRunning[port]||(ajaxRunning[port]=!0,jQuery([ajax]).dequeue("ajax"+port)),promise;case"sync":var pos=synced.length;synced[pos]={error:settings.error,success:settings.success,complete:settings.complete,done:!1},syncedData[pos]={error:[],success:[],complete:[]},settings.error=function(){syncedData[pos].error=arguments},settings.success=function(){syncedData[pos].success=arguments},settings.complete=function(){if(syncedData[pos].complete=arguments,synced[pos].done=!0,0==pos||!synced[pos-1])for(var i=pos;i<synced.length&&synced[i].done;i++)synced[i].error&&synced[i].error.apply(jQuery,syncedData[i].error),synced[i].success&&synced[i].success.apply(jQuery,syncedData[i].success),synced[i].complete&&synced[i].complete.apply(jQuery,syncedData[i].complete),synced[i]=null,syncedData[i]=null}}return ajax.apply(this,arguments)},_$.ajax}($),cookie_monster=function(){var _tmpCookie=null,_eat=!1;return{eat:function(isAll){_tmpCookie=(_tmpCookie||"")+";"+document.cookie;var SESSION_ID=Util.cookie.get("PHPSESSID"),uvi=Util.cookie.get("uvi"),wxoaid=Util.cookie.get("wxoaid"),fcdnex=Util.cookie.get("fcdnex");Util.cookie.clearAll(isAll?[]:["PHPSESSID","uvi","wxoaid","fcdnex"]),isAll||(SESSION_ID&&"null"!==SESSION_ID&&(document.cookie="PHPSESSID="+escape(unescape(SESSION_ID))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":"")),uvi&&(document.cookie="uvi="+escape(unescape(uvi))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":"")),wxoaid&&(document.cookie="wxoaid="+escape(unescape(wxoaid))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":"")),fcdnex&&(document.cookie="fcdnex="+escape(unescape(fcdnex))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":""))),_eat=!0},vomit:function(special){_tmpCookie+="; "+document.cookie,special&&(special=[].concat(special)),document.cookie="uvi="+escape(unescape(""))+"; path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",_tmpCookie.split(";").forEach(function(val){val=$.trim(val).split("="),special?legalCookie[val[0]]&&special.indexOf(val[0])>-1&&val[1]&&("SESSION"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; path=/;":"uvi"===legalCookie[val[0]]||"lang"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+" path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":""):document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+"; path=/;"):legalCookie[val[0]]&&val[1]&&("SESSION"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; path=/;":"uvi"===legalCookie[val[0]]||"lang"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+" path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":""):document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+"; path=/;")}),_eat=!1,_tmpCookie=null}}}();module.exports={ajax:AJAX,abort:AJAX_ABORT,cookieMonster:cookie_monster}}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){function _hasErr(errcode){return GLOBAL_ERRORS[errcode]}var _config=__webpack_require__(7),GLOBAL_ERRORS={"-1":{name:"dataConflict",title:_config.lang.gErrDataConflict,dis:_config.lang.gErrDataConflictExplain,operate:1},"-2":{name:"unknownException",title:_config.lang.gErrUnknownException,dis:_config.lang.gErrUnknownExceptionExplain,operate:1},"-3":{name:"unVerified",title:_config.lang.gErrDataUnVerified,dis:_config.lang.gErrDataUnVerifiedExplain,operate:3},"-4":{isHuge:!0,name:"needReLogin",title:_config.lang.gErrNeedReLogin,dis:_config.lang.gErrNeedReLoginExplain,operate:2},"-5":{name:"clientInvalid",title:_config.lang.gErrClientInvalid,dis:_config.lang.gErrClientInvalidExplain,operate:5},"-6":{name:"accountInvalid",title:_config.lang.gErrAccountInvalid,dis:_config.lang.gErrAccountInvalidExplain,operate:5},"-7":{name:"organizationInvalid",title:_config.lang.gErrOrganizationInvalid,dis:_config.lang.gErrOrganizationInvalidExplain,operate:4},"-8":{name:"dataDeleted",title:_config.lang.gErrDataDeleted,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:1},"-9":{name:"entityExisted",title:_config.lang.gErrEntityExisted,dis:_config.lang.gErrEntityExistedExplain,operate:1},"-10":{name:"extremeException",title:_config.lang.gErrExtremeException,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:6},"-50":{name:"unexitResource",title:_config.lang.gErrUnexitResource,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:1},"-51":{name:"conditionUnMeet",title:_config.lang.gErrOpeConditionUnMeet,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:1},"-52":{name:"conditionUnMeet",title:_config.lang.gErrUnexitObj,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:1},"-53":{name:"parameterMiss",title:_config.lang.gErrParameterMiss,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:1},"-54":{name:"repeatError",title:_config.lang.gErrRepeatError,dis:_config.lang.gErrRepeatErrorExplain,operate:3},"-55":{name:"parameterInvalid",title:_config.lang.gErrParameterInvalid,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-58":{name:"numTooBig",title:_config.lang.gErrNumTooBig,dis:_config.lang.gErrNumTooBigExplain,operate:3},"-60":{name:"funUnEnabled",title:_config.lang.gErrFunUnEnabled,dis:_config.lang.gErrFunUnEnabledExplain,operate:6},"-61":{name:"funOverExpire",title:_config.lang.gErrFunOverExpire,dis:_config.lang.gErrFunOverExpireExplain,operate:3},"-62":{name:"funForbidden",title:_config.lang.gErrFunForbidden,dis:_config.lang.gErrFunForbiddenExplain,operate:6},"-100":{name:"abortFileupload",title:_config.lang.gErrAbortFileupload,dis:_config.lang.gErrAbortFileuploadExplain,operate:3},"-101":{name:"fileLimitExceeded",title:_config.lang.gErrFileLimitExceeded,dis:_config.lang.gErrFileLimitExceededExplain,operate:3},"-102":{name:"fileType",title:_config.lang.gErrFileType,dis:_config.lang.gErrFileTypeExplain,operate:3},"-103":{name:"fileEmpty",title:_config.lang.gErrFileEmpty,dis:_config.lang.gErrFileEmptyExplain,operate:3},"-104":{name:"fileMove",title:_config.lang.gErrFileMove,dis:_config.lang.gErrNeedRedoOrContactUsExplain,operate:3},"-105":{name:"fileOpen",title:_config.lang.gErrFileOpen,dis:_config.lang.gErrNeedRedoOrContactUsExplain,operate:3},"-110":{name:"cantBuyProductInCurrentLoc",title:_config.lang.gErrCantBuyProductInCurrentLoc,dis:_config.lang.gErrCantBuyProductInCurrentLocExplain,operate:6},"-111":{name:"cantUseCurTypeInCurrentLoc",title:_config.lang.gErrCantUseCurTypeInCurrentLoc,dis:_config.lang.gErrCantUseCurTypeInCurrentLocExplain,operate:6},"-112":{name:"cantUseCurTypeWithMethod",title:_config.lang.gErrCantUseCurTypeWithMethod,dis:_config.lang.gErrCantUseCurTypeWithMethodExplain,operate:6},"-113":{name:"cantUseMethod",title:_config.lang.gErrCantUseMethod,dis:_config.lang.gErrCantUseMethodExplain,operate:6},"-114":{name:"cantUseCurType",title:_config.lang.gErrCantUseCurType,dis:_config.lang.gErrCantUseCurTypeExplain,operate:6},"-120":{name:"balanceNotEnough",title:_config.lang.gErrBalanceNotEnough,dis:_config.lang.gErrBalanceNotEnoughExplain,operate:7},"-121":{name:"vocherInvalid",title:_config.lang.gErrVocherInvalid,dis:_config.lang.gErrVocherInvalidExplain,operate:8},"-122":{name:"amountError",title:_config.lang.gErrAmountError,dis:_config.lang.gErrNeedRefreshOrContactUsExplain,operate:6},"-123":{name:"alterOrderException",title:_config.lang.gErrAlterOrderException,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-124":{name:"reduceBalanceException",title:_config.lang.gErrReduceBalanceException,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-125":{name:"reduceVocherException",title:_config.lang.gErrReduceVocherException,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-126":{name:"createCunsomeException",title:_config.lang.gErrCreateCunsomeException,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-127":{name:"amountPayError",title:_config.lang.gErrAmountPayError,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-140":{name:"productActiveFailed",title:_config.lang.gErrProductActiveFailed,dis:_config.lang.gErrNeedKeepAndContactUsExplain,operate:6},"-204":{name:"imageProcess",title:_config.lang.gErrImageProcess,dis:_config.lang.gErrImageProcessExplain,operate:3},"-205":{name:"imageProcessArguments",title:_config.lang.gErrImageProcessArguments,dis:_config.lang.gErrImageProcessArgumentsExplain,operate:3},"-206":{name:"imageInfoGet",title:_config.lang.gErrImageInfoGet,dis:_config.lang.gErrImageInfoGetExplain,operate:3},"-207":{name:"imageOperate",title:_config.lang.gErrImageOperate,dis:_config.lang.gErrNeedRedoOrContactUsExplain,operate:3},"-208":{name:"imageSave",title:_config.lang.gErrImageSave,dis:_config.lang.gErrNeedRedoOrContactUsExplain,operate:3}},ErrLegendMapping={ctNameRaw:_config.lang.cName,ctNamePrefix:_config.lang.ciNamePrefix,ctNameLast:_config.lang.cnameLast,ctNameFirst:_config.lang.cnameFirst,ctNameMiddle:_config.lang.cnameMiddle,ctNameNick:_config.lang.cnameNick,ctNameSuffix:_config.lang.ciNameSuffix,ctNameFull:_config.lang.cName,ctNameUniline:_config.lang.cName,ctGender:_config.lang.cGender,ctBirthDate:_config.lang.cBirthDate,ctBirthYear:_config.lang.cBirthDate,ctBirthMonth:_config.lang.cBirthDate,ctBirthDay:_config.lang.cBirthDate,ctBirthNumber:_config.lang.cBirthDate,ctLocationI:_config.lang.cLocation,ctLocationII:_config.lang.cLocation,ctLocationIII:_config.lang.cLocation,ctCompany:_config.lang.cCompany,ctCompany_r:_config.lang.cCompany,ctPosition:_config.lang.cPosition,ctPosition_r:_config.lang.cPosition,rlCtWebsite:_config.lang.cWebsite,rlCtAddress:_config.lang.cAddress,rlCtEmail:_config.lang.cEmail,rlCtMobile:_config.lang.cMobile,rlCtTel:_config.lang.cTelephone,rlCtFax:_config.lang.cFax,rlCtQQ:_config.lang.cQQ,rlCtSkype:_config.lang.cSkype,rlCtViber:_config.lang.cViber,rlCtLine:_config.lang.cLine,rlCtMessenger:_config.lang.cMessenger,rlCtTelegram:_config.lang.cTelegram,rlCtWhatsApp:_config.lang.cWhatsApp,rlCtWechat:_config.lang.cWechat,rlCtWeibo:_config.lang.cWeibo,rlCtFacebook:_config.lang.cFacebook,rlCtTwitter:_config.lang.cTwitter,rlCtLinkedIn:_config.lang.cLinkedIn,rlCtGooglePlus:_config.lang.cGooglePlus,rlCtInstagram:_config.lang.cInstagram,rlCtNote:_config.lang.cRemark,brCt2Ctt:_config.lang.cTag};module.exports={GLOBAL_ERRORS:GLOBAL_ERRORS,ErrLegendMapping:ErrLegendMapping,hasErrInfo:_hasErr}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(7),_LoginAction=__webpack_require__(28),_LoginAction2=_interopRequireDefault(_LoginAction),_LoginStore=__webpack_require__(32),_LoginStore2=_interopRequireDefault(_LoginStore),_MKCPopwin=__webpack_require__(57),_MKCPopwin2=_interopRequireDefault(_MKCPopwin),_MKCAvatarItem=__webpack_require__(58),_MKCAvatarItem2=_interopRequireDefault(_MKCAvatarItem),_MKCPopwinContactUs=__webpack_require__(60),_MKCPopwinContactUs2=_interopRequireDefault(_MKCPopwinContactUs),_GlobalErrorUtil=__webpack_require__(54),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCPopwinAlert=_react2["default"].createClass({displayName:"MKCPopwinAlert",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{value:"",loginState:"normal"}},componentDidMount:function(){_LoginStore2["default"].addChangeListener("loginWhenNeedSessionFinish",this.handleLoginFinish),this.handleTypeDefaultOperate()},componentDidUpdate:function(){this.handleTypeDefaultOperate()},componentWillUnmount:function(){_LoginStore2["default"].removeChangeListener("loginWhenNeedSessionFinish",this.handleLoginFinish)},handleTypeDefaultOperate:function(){var _props=this.props,type=_props.type,ope=_props.ope,operate=_GlobalErrorUtil.GLOBAL_ERRORS[type].operate;""==this.state.value&&(type&&2==operate||2==ope)&&(0,_jquery2["default"])(_reactDom2["default"].findDOMNode(this)).find(".pop_pwdConfirmInput").focus(),5===operate&&_LoginAction2["default"].LOGOUT(!0)},handleClosePop:function(){_reactDom2["default"].unmountComponentAtNode((0,_jquery2["default"])("#popwin")[0])},handleRefreshPage:function(){location.reload()},handleReturnToCts:function(){location.href="contact.php"},handleViewWallet:function(){location.href="settings.php#/wallet"},handleContactUs:function(){this.handleClosePop(),_reactDom2["default"].render(_react2["default"].createElement(_MKCPopwinContactUs2["default"],null),(0,_jquery2["default"])("#popfuncTopper")[0])},handleLoginFinish:function(res){var _this=this;0==res.r?(this.setState({loginState:"succeed"}),window.setTimeout(function(){_this.setState({loginState:"normal"}),_reactDom2["default"].unmountComponentAtNode((0,_jquery2["default"])("#popwin")[0]),_this.props.reSend&&_this.props.reSend()},320)):res.r==-14&&this.setState({value:"",loginState:"pwdError"})},handleLogout:function(){location.href="login.php",this.handleClosePop()},handleChangeInput:function(e){this.setState({value:(0,_jquery2["default"])(e.target).val(),loginState:"normal"})},handleKeyupInput:function(e){e=e||window.event,e.which=e.keyCode||e.which,13==e.which&&this.handleLogin()},handleLogin:function(){var self=this,data={};"normal"==this.state.loginState&&(window.uAccount?self.state.value?(self.setState({loginState:"loading"}),data={account:window.uAccount,password:self.state.value},_LoginAction2["default"].HANDLE_LOGIN_WHEN_NEED_SESSION(data)):self.setState({loginState:"pwdNull"}):location.href="login.php")},renderHugeError:function(){var _props2=this.props,className=_props2.className,type=_props2.type,errLegend=_props2.errLegend,_ref=_GlobalErrorUtil.GLOBAL_ERRORS[type]||{},name=_ref.name,title=_ref.title,dis=_ref.dis,operate=_ref.operate,_errImg=_react2["default"].createElement("div",{className:"popError_img"}),_errOpe=null;if(type==-3&&errLegend&&_GlobalErrorUtil.ErrLegendMapping[errLegend]&&(dis=_config.lang.gErrDataUnVerifiedExplainExactly({errLegend:_GlobalErrorUtil.ErrLegendMapping[errLegend]})),_lodash2["default"].isNumber(operate))if(2==operate){var _state=this.state,value=_state.value,loginState=_state.loginState,_pwdConfirmLabel=null;_errImg=_react2["default"].createElement(_MKCAvatarItem2["default"],{className:"popError_avatar",src:window.rootPath((window.uAvatarUri||"").replace(/^\//,"")||"images/avatar/avatar_0.png"),defaultImg:window.rootPath("images/avatar/avatar_0.png")}),value||(_pwdConfirmLabel=_react2["default"].createElement("span",{className:(0,_classnames2["default"])("pop_pwdConfirmLabel",{error:"pwdError"==loginState||"pwdNull"==loginState})},"pwdError"==loginState?_config.lang.gErrLoginPasswordErrorMsg:_config.lang.gLoginPassword)),_errOpe=_react2["default"].createElement("div",{className:"popError_operate"},_react2["default"].createElement("div",{className:"pop_pwdConfirm"},_pwdConfirmLabel,_react2["default"].createElement("input",{className:"pop_pwdConfirmInput",type:"password",value:value,onChange:this.handleChangeInput,onKeyUp:this.handleKeyupInput}),"succeed"==loginState?_react2["default"].createElement("a",{className:"iconfont pop_pwdConfirmBtn"},String.fromCharCode(58988)):_react2["default"].createElement("a",{className:(0,_classnames2["default"])("pop_pwdConfirmBtn",{login_loading:"loading"==loginState}),onClick:this.handleLogin},"loading"==loginState?"":_config.lang.loLoginBtn)))}else{var _opeIcon=String.fromCharCode(58959),_opeDis=_config.lang.gRefresh,_clickOpe=this.handleRefreshPage;3==operate?(_opeIcon=String.fromCharCode(58918),_opeDis=_config.lang.gBtnClose,_clickOpe=this.handleClosePop):4==operate?(_opeIcon=String.fromCharCode(59186),_opeDis=_config.lang.gBtnReturnToCts,_clickOpe=this.handleReturnToCts):5==operate?(_opeIcon=String.fromCharCode(58918),_opeDis=_config.lang.loReLogin,_clickOpe=this.handleLogout):6==operate?(_opeIcon=String.fromCharCode(58924),_opeDis=_config.lang.gBtnContactUs,_clickOpe=this.handleContactUs):7==operate?(_opeIcon=String.fromCharCode(58916),_opeDis=_config.lang.gBtnViewWallet,_clickOpe=this.handleViewWallet):8==operate&&(_opeIcon=String.fromCharCode(58916),_opeDis=_config.lang.gBtnViewVoucher,_clickOpe=this.handleViewWallet),_errOpe=_react2["default"].createElement("div",{className:"popError_operate"
},_react2["default"].createElement("a",{className:"popError_btn l_refresh",onClick:_clickOpe},_react2["default"].createElement("i",{className:"iconfont"},_opeIcon),_react2["default"].createElement("span",null,_opeDis)))}return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("popInner","popInnerAnimation","globalError",name,className)},_lodash2["default"].indexOf([2,4,5],operate)>-1?null:_react2["default"].createElement("a",{className:"iconfont popClose l_closePop",onClick:this.handleClosePop},String.fromCharCode(58982)),_react2["default"].createElement("div",{className:"popError_header"},_react2["default"].createElement("p",{className:"popError_title"},title)),_react2["default"].createElement("div",{className:"popError_content"},_react2["default"].createElement("div",{className:"popError_imgWrapper"},_errImg),_react2["default"].createElement("div",{className:"popError_disWrapper"},_react2["default"].createElement("p",{className:"popError_dis"},dis)),_react2["default"].createElement("div",{className:"clearB"})),_errOpe)},renderPrettyError:function(){var _props3=this.props,type=_props3.type,className=_props3.className,_ref2=_GlobalErrorUtil.GLOBAL_ERRORS[type]||{},name=_ref2.name,title=_ref2.title,dis=_ref2.dis,operate=_ref2.operate,_errOpe=null;return _lodash2["default"].isNumber(operate)&&(1==operate?_errOpe=_react2["default"].createElement("a",{className:"fBlue popError_prettyOperate",onClick:this.handleRefreshPage},_config.lang.gRefresh):4==operate?_errOpe=_react2["default"].createElement("a",{className:"fBlue popError_prettyOperate",onClick:this.handleReturnToCts},_config.lang.gBtnReturnToCts):5==operate?_errOpe=_react2["default"].createElement("a",{className:"fBlue popError_prettyOperate",onClick:this.handleLogout},_config.lang.loReLogin):6==operate?_errOpe=_react2["default"].createElement("a",{className:"fBlue popError_prettyOperate",onClick:this.handleContactUs},_config.lang.gBtnContactUs):7==operate?_errOpe=_react2["default"].createElement("a",{className:"fBlue popError_prettyOperate",onClick:this.handleViewWallet},_config.lang.gBtnViewWallet):8==operate&&(_errOpe=_react2["default"].createElement("a",{className:"fBlue popError_prettyOperate",onClick:this.handleViewWallet},_config.lang.gBtnViewVoucher))),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("popError_prettyBox",name,className)},_lodash2["default"].indexOf([2,4,5],operate)>-1?null:_react2["default"].createElement("a",{className:"iconfont popError_prettyClose",onClick:this.handleClosePop},String.fromCharCode(58982)),_react2["default"].createElement("p",{className:"popError_prettyTitle"},_react2["default"].createElement("i",{className:"iconfont popError_prettyIcon"},String.fromCharCode(58940)),title),_react2["default"].createElement("p",{className:"popError_prettyDes"},dis),_errOpe)},render:function(){var type=this.props.type,_ref3=_GlobalErrorUtil.GLOBAL_ERRORS[type]||{},isHuge=_ref3.isHuge,operate=_ref3.operate;return _react2["default"].createElement(_MKCPopwin2["default"],{className:isHuge?"popError_huge":"popError_pretty",isCantClose:_lodash2["default"].indexOf([2,4,5],operate)>-1},isHuge?this.renderHugeError():this.renderPrettyError())}});module.exports=MKCPopwinAlert},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
  !function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),Popwin=_react2["default"].createClass({displayName:"Popwin",componentDidMount:function(){function _closePopwin(){props.onClose&&props.onClose(),_reactDom2["default"].unmountComponentAtNode((0,_jquery2["default"])(nodeInfo)[0])}var _this=this,nodeInfo="#popwin",props=this.props;props.mountDom&&(nodeInfo=props.mountDom);var $this=(0,_jquery2["default"])(_reactDom2["default"].findDOMNode(this));props.isCantClose?$this.off("closePopWin").on("closePopWin",".l_closePop",_closePopwin):$this.off("click.close").on("click.close",".l_closePop",_closePopwin),this.removePopAnimation=setTimeout(function(){$this.find(".popInnerAnimation").removeClass("popInnerAnimation"),_this.removePopAnimation=null},400)},componentWillUnmount:function(){this.removePopAnimation&&(clearTimeout(this.removePopAnimation),this.removePopAnimation=null)},handleClosePop:function(){var props=this.props,nodeInfo=props.mountDom||"#popwin";props.isCantClose||(props.onClose&&props.onClose(),_reactDom2["default"].unmountComponentAtNode((0,_jquery2["default"])(nodeInfo)[0]))},render:function(){return _react2["default"].createElement("div",{className:(0,_classnames2["default"])(this.props.className)},_react2["default"].createElement("div",{className:"popMask",onClick:this.handleClosePop}),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("popBox",{middle:this.props.isMiddle})},this.props.children))}});module.exports=Popwin},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),AvatarItem=_react2["default"].createClass({displayName:"AvatarItem",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{src:this.props.src}},componentWillReceiveProps:function(nextProps){this.setState({src:nextProps.src})},componentDidMount:function(){},componentWillUnmount:function(){},handleError:function(){this.props.defaultImg&&this.setState({src:this.props.defaultImg})},handleClick:function(){this.props.onClick&&this.props.onClick()},render:function(){var props=this.props;return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("cp_avatar",props.className,{cp_avatarBo:props.hasBorder}),title:props.title,onClick:this.handleClick},_react2["default"].createElement("span",{className:"cp_avatarBg"},_react2["default"].createElement("img",{className:"cp_avatarImage",ref:"cp_avatarImage",src:this.state.src,onError:this.handleError})))}});exports["default"]=AvatarItem,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(546)},function(module,exports,__webpack_require__){(function(global,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(7),_AppUtil=__webpack_require__(51),_MKCPopwinCommon=__webpack_require__(61),_MKCPopwinCommon2=_interopRequireDefault(_MKCPopwinCommon),_MKCBtnNormalWithMultiStates=__webpack_require__(66),_MKCBtnNormalWithMultiStates2=_interopRequireDefault(_MKCBtnNormalWithMultiStates),_MKCBtnPrimitiveWithIcon=__webpack_require__(67),_MKCBtnPrimitiveWithIcon2=_interopRequireDefault(_MKCBtnPrimitiveWithIcon),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(68),__webpack_require__(70);var _reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin);global.jQuery=global.$=_jquery2["default"];var CONTACT_FORM_INFO={i:200000001,t:"WwswVxy",s:200476806,acc:"gIfN0YKWzgH7TZ4eRzeu6Q9p4KJJGKnV"},COMPONENT_MAPPING={name:"200000003",email:"200000005",mobile:"200000004",file:"ATTA_200000002_0",feedback:"200000001"},_SUBMIT="handler/web/form_runtime/handleSubmit.php",_CONTACT_QQ="1803264906",MKCPopwinContactUs=_react2["default"].createClass({displayName:"MKCPopwinContactUs",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return window.uId&&window.uId>2e8&&(_CONTACT_QQ="1251078858"),{state:1,submitState:1,fileValid:!1,submitData:{name:window.uName||"",mobile:window.uMobile||"",email:window.uAccount||"",feedback:""}}},componentDidMount:function(){this.$fileUploader=$(_reactDom2["default"].findDOMNode(this.refs.fileComponent));var self=this;this.$fileUploader.fileupload({dataType:"json",replaceFileInput:!1,url:_SUBMIT,drop:function(e){},add:function(e,data){var file=data.files[0];self.fileSubmitWorker=data,self.setState({submitData:_lodash2["default"].assign({},self.state.submitData,{file:{size:file.size,name:file.name}})})},done:self.handleFinishSubmit})},componentWillUpdate:function(nextProps,nextState){this._checkState(nextState.submitData)},componentDidUpdate:function(){},componentWillUnmount:function(){},_checkState:function(data){var canSubmit=!1,fileValid=!1;if(data.name&&data.mobile&&data.email&&data.feedback&&(canSubmit=!0),data.file){data.file.size>2e7&&(canSubmit=!1,fileValid=!0);var _suffix=data.file.name.split(".");["jpg","jpeg","png","bmp","gif","pdf","txt","tiff"].indexOf(_suffix[_suffix.length-1].toLowerCase())===-1&&(canSubmit=!1,fileValid=!0)}this.setState({submitState:canSubmit?2:1,fileValid:fileValid})},handleClosePop:function(){_reactDom2["default"].unmountComponentAtNode($("#popfuncTopper")[0])},handleChangeData:function(type,e){var data=e.currentTarget.value,_newData={};_newData[type]=data,this.setState({submitData:_lodash2["default"].assign({},this.state.submitData,_newData)})},handleRemoveFile:function(){this.$fileUploader.val(""),this.fileSubmitWorker=null,this.setState({submitData:_lodash2["default"].assign({},this.state.submitData,{file:null})})},handleSendFeedback:function(){var _submitComponentData={};_lodash2["default"].forEach(this.state.submitData,function(data,type){if(!isNaN(+COMPONENT_MAPPING[type])){var _d=null;_d="name"===type?{n:data}:"email"===type||"mobile"===type?[data]:data,_submitComponentData[COMPONENT_MAPPING[type]]=_d}});var _submitData={i:CONTACT_FORM_INFO.i,t:CONTACT_FORM_INFO.t,s:CONTACT_FORM_INFO.s,acc:CONTACT_FORM_INFO.acc,r:location.href,c:{cp:_submitComponentData}};this.setState({submitState:3}),this.fileSubmitWorker?(this.fileSubmitWorker.formData={d:JSON.stringify({cvs:_submitData})},this.fileSubmitWorker.submit()):_AppUtil.ws.post(_SUBMIT,{data:{d:JSON.stringify({cvs:_submitData})}}).done(this.handleFinishSubmit)},handleFinishSubmit:function(){this.setState({state:2})},handleOpenQQ:function(){location.href="tencent://message/?uin="+_CONTACT_QQ+"&Site="+_config.lang.cuTypeOnlineArray[1]+"&Menu=yes"},handleOpenSkype:function(){location.href="skype:live:service_13876?chat"},renderForm:function(){var _state=this.state,submitData=_state.submitData,fileValid=_state.fileValid,submitState=_state.submitState;return _react2["default"].createElement("div",{className:"cu_content"},_react2["default"].createElement("div",{className:"cu_onLine"},_react2["default"].createElement("p",{className:"cu_typeTitle"},_config.lang.cuTypeArray[0]),_react2["default"].createElement("ul",{className:"cu_olTypeList"},_react2["default"].createElement("li",{className:"cu_olTypeItem byMobile"},_react2["default"].createElement("i",{className:"iconfont cu_olTypeIcon"},String.fromCharCode(59087)),_react2["default"].createElement("div",{className:"cu_olTypeContent"},_react2["default"].createElement("p",{className:"cu_olTypeTitle"},_config.lang.cuTypeOnlineArray[0]),_react2["default"].createElement("p",{className:"cu_olTypeValue"},"+86 157 1118 7712"))),_react2["default"].createElement("li",{className:"cu_olTypeItem byQQ",onClick:this.handleOpenQQ},_react2["default"].createElement("i",{className:"iconfont cu_olTypeIcon"},String.fromCharCode(59095)),_react2["default"].createElement("div",{className:"cu_olTypeContent"},_react2["default"].createElement("p",{className:"cu_olTypeTitle"},_config.lang.cuTypeOnlineArray[1]),_react2["default"].createElement("p",{className:"cu_olTypeValue"},_CONTACT_QQ))),_react2["default"].createElement("li",{className:"cu_olTypeItem bySkype",onClick:this.handleOpenSkype},_react2["default"].createElement("i",{className:"iconfont cu_olTypeIcon"},String.fromCharCode(59096)),_react2["default"].createElement("div",{className:"cu_olTypeContent"},_react2["default"].createElement("p",{className:"cu_olTypeTitle"},_config.lang.cuTypeOnlineArray[2]),_react2["default"].createElement("p",{className:"cu_olTypeValue"},"service@mikecrm.com"))))),_react2["default"].createElement("div",{className:"cu_byMessage"},_react2["default"].createElement("p",{className:"cu_typeTitle"},_config.lang.cuTypeArray[1]),_react2["default"].createElement("div",{className:"cu_queTr"},_react2["default"].createElement("p",{className:"cu_queTitle"},_config.lang.cuQueTitle),_react2["default"].createElement("textarea",{className:"cu_queInput textArea",value:submitData.feedback,onChange:this.handleChangeData.bind(this,"feedback")})),_react2["default"].createElement("div",{className:"cu_queTr"},_react2["default"].createElement("p",{className:"cu_queTitle"},_config.lang.cuImgTitle),_react2["default"].createElement("p",{className:"cu_queDes"},_config.lang.cuImgDes),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("cu_uploadFile",{empty:!submitData.file,succeed:submitData.file&&!fileValid,error:submitData.file&&fileValid})},_react2["default"].createElement("i",{className:"iconfont cu_ufIcon"},submitData.file?fileValid?String.fromCharCode(58938):String.fromCharCode(58988):String.fromCharCode(58979)),_react2["default"].createElement("div",{className:"cu_ufContent"},_react2["default"].createElement("p",{className:"cu_ufText"},submitData.file?submitData.file.name:_config.lang.form.fAttachmentPlaceholder({max:20})),submitData.file?_react2["default"].createElement("a",{className:"iconfont cu_ufRemove",onClick:this.handleRemoveFile},String.fromCharCode(58980)):null),_react2["default"].createElement("input",{className:"cu_ufInput",type:"file",size:"1",ref:"fileComponent",name:COMPONENT_MAPPING.file}))),_react2["default"].createElement("div",{className:"cu_queTr"},_react2["default"].createElement("div",{className:"cu_queTd title"},_react2["default"].createElement("p",{className:"cu_queTitle"},_config.lang.cName),_react2["default"].createElement("input",{className:"cu_queInput",value:submitData.name,onChange:this.handleChangeData.bind(this,"name")})),_react2["default"].createElement("div",{className:"cu_queTd mobile"},_react2["default"].createElement("p",{className:"cu_queTitle"},_config.lang.cuMobileTitle),_react2["default"].createElement("input",{className:"cu_queInput",value:submitData.mobile,onChange:this.handleChangeData.bind(this,"mobile")})),_react2["default"].createElement("div",{className:"cu_queTd email"},_react2["default"].createElement("p",{className:"cu_queTitle"},_config.lang.cuEmailTitle),_react2["default"].createElement("input",{className:"cu_queInput",value:submitData.email,onChange:this.handleChangeData.bind(this,"email")})),_react2["default"].createElement("div",{className:"clearB"})),_react2["default"].createElement("div",{className:"cu_operate"},_react2["default"].createElement(_MKCBtnNormalWithMultiStates2["default"],{className:"cu_confirm",dis:_config.lang.gBtnSubmit,state:submitState,onClick:this.handleSendFeedback}))))},renderSubmitted:function(){return _react2["default"].createElement("div",{className:"cu_content submitted"},_react2["default"].createElement("div",{className:"cu_sImg"}),_react2["default"].createElement("p",{className:"cu_sTitle"},_config.lang.cuSubmittedTitle),_react2["default"].createElement("p",{className:"cu_sDes"},_config.lang.cuSubmittedDes),_react2["default"].createElement("div",{className:"cu_operate"},_react2["default"].createElement(_MKCBtnPrimitiveWithIcon2["default"],{className:"cu_confirm",dis:_config.lang.gBtnClose,onClick:this.handleClosePop})))},render:function(){var _content=this.renderForm();return 2===this.state.state&&(_content=this.renderSubmitted()),_react2["default"].createElement(_MKCPopwinCommon2["default"],{className:"cu_popInner",key:"pop",mountDom:"#popfuncTopper",title:_config.lang.cuPopTitle},_react2["default"].createElement("div",{className:"pop_content",key:"popC"},_content))}});module.exports=MKCPopwinContactUs}).call(exports,function(){return this}(),__webpack_require__(9))},function(module,exports,__webpack_require__){(function($){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(7),_LegoAnimationGroup=__webpack_require__(62),_LegoAnimationGroup2=_interopRequireDefault(_LegoAnimationGroup),_MKCPopwin=__webpack_require__(57),_MKCPopwin2=_interopRequireDefault(_MKCPopwin),_MKCPopwinSucceed=__webpack_require__(65),_MKCPopwinSucceed2=_interopRequireDefault(_MKCPopwinSucceed),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCPopwinCommon=_react2["default"].createClass({displayName:"MKCPopwinCommon",mixins:[_reactAddonsPureRenderMixin2["default"]],handleClosePop:function(){var props=this.props,nodeInfo=props.mountDom||"#popfunc";props.isCantClose||(props.onClose&&props.onClose(),_reactDom2["default"].unmountComponentAtNode($(nodeInfo)[0]))},render:function(){var mountDom=this.props.mountDom||"#popfunc",_class=["popInner","popInnerAnimation"],_tips=null,_content=null,_popHeader=null,_closeIcon=null;return this.props.className&&(_class=_class.concat(this.props.className.split(" "))),this.props.isCantClose||(_closeIcon=_react2["default"].createElement("a",{className:"iconfont popClose l_closePop",onClick:this.handleClosePop},String.fromCharCode(58982))),this.props.tips&&(_tips=_react2["default"].createElement("a",{className:"iconfont popTips_icon"},String.fromCharCode(58930))),this.props.title&&(_popHeader=_react2["default"].createElement("div",{className:"pop_header"},_react2["default"].createElement("p",{className:"pop_title"},_tips,this.props.title))),this.props.isSucceed?(_class.push("succeed"),_content=_react2["default"].createElement(_MKCPopwinSucceed2["default"],{mountDom:mountDom,dis:this.props.succeedDis||_config.lang.gSaveSucceed})):_content=this.props.children,_react2["default"].createElement(_MKCPopwin2["default"],{mountDom:mountDom,isMiddle:this.props.isMiddle,isCantClose:this.props.isCantClose,onClose:this.props.onClose},_react2["default"].createElement("div",{className:_class.join(" ")},_closeIcon,_popHeader,_react2["default"].createElement(_LegoAnimationGroup2["default"],{key:"popW",transitionName:"popSwitch",className:"pop_wrapper",component:"div",enterTimeout:300,leaveTimeout:0},_content)))}});exports["default"]=MKCPopwinCommon,module.exports=exports["default"]}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_ttTransitionGroup=__webpack_require__(63),_ttTransitionGroup2=_interopRequireDefault(_ttTransitionGroup),_MGUtil=__webpack_require__(12),_MGUtil2=_interopRequireDefault(_MGUtil),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),AnimationGroup=_react2["default"].createClass({displayName:"AnimationGroup",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){var AnimationGroup=_ttTransitionGroup2["default"];return(_MGUtil2["default"].browserCheck.msie&&parseInt(_MGUtil2["default"].browserCheck.version)<=11||document.documentMode&&document.documentMode<9)&&(AnimationGroup=this.props.component?this.props.component:"div"),this.animationGroup=AnimationGroup,{}},render:function(){var AG=this.animationGroup,_props=this.props,children=_props.children,extProps=_objectWithoutProperties(_props,["children"]);return _react2["default"].createElement(AG,extProps,children)}});exports["default"]=AnimationGroup,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function addClass(element,className){return element.classList?element.classList.add(className):hasClass(element,className)||(element.className=element.className+" "+className),element}function removeClass(element,className){return hasClass(className)&&(element.classList?element.classList.remove(className):element.className=(" "+element.className+" ").replace(" "+className+" "," ").trim()),element}function hasClass(element,className){return element.classList?element.classList.contains(className):(" "+element.className+" ").indexOf(" "+className+" ")>-1}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),_reactAddonsTransitionGroup=__webpack_require__(64),_reactAddonsTransitionGroup2=_interopRequireDefault(_reactAddonsTransitionGroup),rAf=_MGUtil2["default"].rAF,cAf=_MGUtil2["default"].rAF_cancel,now=_MGUtil2["default"].getNow,ListTransitionGroupChild=_react2["default"].createClass({displayName:"ListTransitionGroupChild",propTypes:{name:_react2["default"].PropTypes.string.isRequired,appear:_react2["default"].PropTypes.bool,enter:_react2["default"].PropTypes.bool,leave:_react2["default"].PropTypes.bool,appearTimeout:_react2["default"].PropTypes.number,enterTimeout:_react2["default"].PropTypes.number,leaveTimeout:_react2["default"].PropTypes.number},_transition:function(type,finishCallback,userSpecifiedDelay){function _delay(){var _currentTime=now();return _currentTime>=_endTime?(endListener(),void cAf(timeout)):void(timeout=rAf(_delay))}var _node=_reactDom2["default"].findDOMNode(this),self=this;if(_node){var _className=this.props.name+"-"+type,_activeClassName=_className+"-active",timeout=null,endListener=function(e){if((!e||e.target===_node)&&(cAf(timeout),removeClass(_node,_className),removeClass(_node,_activeClassName),finishCallback&&self.isMounted()))try{finishCallback()}catch(e){}};addClass(_node,_className),this._queueClass(_node,_activeClassName);var _endTime=now()+(userSpecifiedDelay||0)+27;_delay(),this.transitionTimeouts.push(timeout)}else if(finishCallback&&self.isMounted())try{finishCallback()}catch(e){}},_queueClass:function(node,className){var _this=this;this.classNameQueue.push({className:className,node:node}),this.timeout||(this.timeout=rAf(function(){rAf(_this._flushClassNameQueue)}))},_flushClassNameQueue:function(){this.isMounted()&&_lodash2["default"].forEach(this.classNameQueue,function(obj){addClass(obj.node,obj.className)}),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillAppear:function(done){this.props.appear&&this.props.appearTimeout>0?this._transition("appear",done,this.props.appearTimeout):done()},componentWillEnter:function(done){this.props.enter&&this.props.enterTimeout>0?this._transition("enter",done,this.props.enterTimeout):done()},componentWillLeave:function(done){this.props.leave&&this.props.leaveTimeout>0?this._transition("leave",done,this.props.leaveTimeout):done()},componentWillUnmount:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),_lodash2["default"].forEach(this.transitionTimeouts,function(t){cAf(t)}),this.classNameQueue.length=0},render:function(){return _react2["default"].Children.only(this.props.children)}}),ListTransitionGroup=_react2["default"].createClass({displayName:"MGCSSTransitionGroup",propTypes:{transitionName:_react2["default"].PropTypes.string.isRequired,transitionAppear:_react2["default"].PropTypes.bool,transitionEnter:_react2["default"].PropTypes.bool,transitionLeave:_react2["default"].PropTypes.bool,enterTimeout:_react2["default"].PropTypes.number.isRequired,leaveTimeout:_react2["default"].PropTypes.number.isRequired,transitionEnterEnd:_react2["default"].PropTypes.func,transitionLeaveEnd:_react2["default"].PropTypes.func},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(child){var props=this.props;return _react2["default"].createElement(ListTransitionGroupChild,{name:props.transitionName,appear:props.transitionAppear,enter:props.transitionEnter,leave:props.transitionLeave,appearTimeout:props.appearTimeout,enterTimeout:props.enterTimeout,leaveTimeout:props.leaveTimeout},child)},render:function(){var _props=_lodash2["default"].assign({},this.props,{childFactory:this._wrapChild});return _react2["default"].createElement(_reactAddonsTransitionGroup2["default"],_props)}});exports["default"]=ListTransitionGroup,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(549)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),$=__webpack_require__(9),React=__webpack_require__(47),ReactDOM=__webpack_require__(52),config=__webpack_require__(7),$lang=config.lang,MKCPopwinSucceed=React.createClass({displayName:"MKCPopwinSucceed",mixins:[_reactAddonsPureRenderMixin2["default"]],componentDidMount:function(){var nodeInfo=this.props.mountDom||"#popfunc";window.setTimeout(function(){ReactDOM.unmountComponentAtNode($(nodeInfo)[0])},1e3)},render:function(){var _dis=$lang.gSaveSucceed;return this.props.dis&&(_dis=this.props.dis),React.createElement("div",{className:"pop_content succeed",key:"popC"},React.createElement("div",{className:"popSucceed_tipPic"},React.createElement("div",{className:"popSucceed_image"}),React.createElement("p",{className:"popSucceed_title"},_dis)))}});module.exports=MKCPopwinSucceed},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCBtnNormalWithMultiStates=_react2["default"].createClass({displayName:"MKCBtnNormalWithMultiStates",mixins:[_reactAddonsPureRenderMixin2["default"]],handleClick:function(e){var _onClick=this.props.onClick;_onClick&&(e.preventDefault(),_onClick(e))},render:function(){var props=this.props,state=props.state||2,_class={cp_btnNormal:!0},_btnIcon=null,_btnDis=null,clickFun=!1;switch(props.icon&&(_btnIcon=_react2["default"].createElement("i",{className:"iconfont cp_btnNormaIcon"},props.icon)),props.dis&&(_btnDis=_react2["default"].createElement("span",{className:"cp_btnNormalDis"},props.dis)),state){case 1:_class.disabled=!0;break;case 2:_class.available=!0,clickFun=this.handleClick;break;case 3:_class.loading=!0,_btnDis=_react2["default"].createElement("span",{className:"cp_loading",key:"loading"});break;case 4:_class.succeed=!0,_btnDis=_react2["default"].createElement("span",{className:"iconfont cp_btnSucceedDis"},"");break;case 8:_class.remove=!0,clickFun=this.handleClick;break;case 9:_class.removeIng=!0,_btnDis=_react2["default"].createElement("span",{className:"cp_loading",key:"loading"});break;case 10:_class.removeSucceed=!0,_btnDis=_react2["default"].createElement("span",{className:"iconfont cp_btnRemoveDis"},"");break;default:_class.available=!0,clickFun=this.handleClick}return _react2["default"].createElement("a",{className:(0,_classnames2["default"])(props.className,_class),href:this.props.href,target:props.isNewTab?"_blank":"_self",onClick:clickFun,onMouseDown:props.onMouseDown},_btnIcon,_btnDis)}});exports["default"]=MKCBtnNormalWithMultiStates,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCBtnPrimitiveWithIcon=_react2["default"].createClass({displayName:"MKCBtnPrimitiveWithIcon",mixins:[_reactAddonsPureRenderMixin2["default"]],handleMouseEnter:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(e)},handleUseMouseLeave:function(e){this.props.onMouseLeave&&this.props.onMouseLeave(e)},handleClick:function(e){this.props.onClick&&this.props.onClick(e)},render:function(){var props=this.props,_btnIcon=null;props.icon&&(_btnIcon=_react2["default"].createElement("i",{className:"iconfont cp_btnPrimitiveIcon"},props.icon));var _btnDis=null;props.dis&&(_btnDis=_react2["default"].createElement("span",{className:"cp_btnPrimitiveDis"},props.dis));var _cornerMark=null;return props.cornerMark&&(_cornerMark=_react2["default"].createElement("span",{className:"cp_btnPrimitiveMark"},props.cornerMark)),_react2["default"].createElement("a",{className:(0,_classnames2["default"])("cp_btnPrimitive",props.className,{"is-disabled":props.isDisabled,hasCornerMark:props.cornerMark,hasIcon:props.icon,hasDis:props.dis}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleUseMouseLeave,onClick:this.handleClick,title:props.title,target:props.isNewTab?"_blank":"_self",href:props.href},_btnIcon,_btnDis,_cornerMark)}});exports["default"]=MKCBtnPrimitiveWithIcon,module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(factory){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9),__webpack_require__(69)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function($){"use strict";function getDragHandler(type){var isDragOver="dragover"===type;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var dataTransfer=e.dataTransfer;dataTransfer&&$.inArray("Files",dataTransfer.types)!==-1&&this._trigger(type,$.Event(type,{delegatedEvent:e}))!==!1&&(e.preventDefault(),isDragOver&&(dataTransfer.dropEffect="copy"))}}$.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||$('<input type="file">').prop("disabled")),$.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),$.support.xhrFormDataFileUpload=!!window.FormData,$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),$.widget("blueimp.fileupload",{options:{dropZone:$(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(message,context){return message=this.messages[message]||message.toString(),context&&$.each(context,function(key,value){message=message.replace("{"+key+"}",value)}),message},formData:function(form){return form.serializeArray()},add:function(e,data){return!e.isDefaultPrevented()&&void((data.autoUpload||data.autoUpload!==!1&&$(this).fileupload("option","autoUpload"))&&data.process().done(function(){data.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:$.support.blobSlice&&function(){var slice=this.slice||this.webkitSlice||this.mozSlice;return slice.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(now,loaded,interval){var timeDiff=now-this.timestamp;return(!this.bitrate||!interval||timeDiff>interval)&&(this.bitrate=(loaded-this.loaded)*(1e3/timeDiff)*8,this.loaded=loaded,this.timestamp=now),this.bitrate}},_isXHRUpload:function(options){return!options.forceIframeTransport&&(!options.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload)},_getFormData:function(options){var formData;return"function"===$.type(options.formData)?options.formData(options.form):$.isArray(options.formData)?options.formData:"object"===$.type(options.formData)?(formData=[],$.each(options.formData,function(name,value){formData.push({name:name,value:value})}),formData):[]},_getTotal:function(files){var total=0;return $.each(files,function(index,file){total+=file.size||1}),total},_initProgressObject:function(obj){var progress={loaded:0,total:0,bitrate:0};obj._progress?$.extend(obj._progress,progress):obj._progress=progress},_initResponseObject:function(obj){var prop;if(obj._response)for(prop in obj._response)obj._response.hasOwnProperty(prop)&&delete obj._response[prop];else obj._response={};
},_onProgress:function(e,data){if(e.lengthComputable){var loaded,now=Date.now?Date.now():(new Date).getTime();if(data._time&&data.progressInterval&&now-data._time<data.progressInterval&&e.loaded!==e.total)return;data._time=now,loaded=Math.floor(e.loaded/e.total*(data.chunkSize||data._progress.total))+(data.uploadedBytes||0),this._progress.loaded+=loaded-data._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(now,this._progress.loaded,data.bitrateInterval),data._progress.loaded=data.loaded=loaded,data._progress.bitrate=data.bitrate=data._bitrateTimer.getBitrate(now,loaded,data.bitrateInterval),this._trigger("progress",$.Event("progress",{delegatedEvent:e}),data),this._trigger("progressall",$.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(options){var that=this,xhr=options.xhr?options.xhr():$.ajaxSettings.xhr();xhr.upload&&($(xhr.upload).bind("progress",function(e){var oe=e.originalEvent;e.lengthComputable=oe.lengthComputable,e.loaded=oe.loaded,e.total=oe.total,that._onProgress(e,options)}),options.xhr=function(){return xhr})},_isInstanceOf:function(type,obj){return Object.prototype.toString.call(obj)==="[object "+type+"]"},_initXHRData:function(options){var formData,that=this,file=options.files[0],multipart=options.multipart||!$.support.xhrFileUpload,paramName="array"===$.type(options.paramName)?options.paramName[0]:options.paramName;options.headers=$.extend({},options.headers),options.contentRange&&(options.headers["Content-Range"]=options.contentRange),multipart&&!options.blob&&this._isInstanceOf("File",file)||(options.headers["Content-Disposition"]='attachment; filename="'+encodeURI(file.name)+'"'),multipart?$.support.xhrFormDataFileUpload&&(options.postMessage?(formData=this._getFormData(options),options.blob?formData.push({name:paramName,value:options.blob}):$.each(options.files,function(index,file){formData.push({name:"array"===$.type(options.paramName)&&options.paramName[index]||paramName,value:file})})):(that._isInstanceOf("FormData",options.formData)?formData=options.formData:(formData=new FormData,$.each(this._getFormData(options),function(index,field){formData.append(field.name,field.value)})),options.blob?formData.append(paramName,options.blob,file.name):$.each(options.files,function(index,file){(that._isInstanceOf("File",file)||that._isInstanceOf("Blob",file))&&formData.append("array"===$.type(options.paramName)&&options.paramName[index]||paramName,file,file.uploadName||file.name)})),options.data=formData):(options.contentType=file.type||"application/octet-stream",options.data=options.blob||file),options.blob=null},_initIframeSettings:function(options){var targetHost=$("<a></a>").prop("href",options.url).prop("host");options.dataType="iframe "+(options.dataType||""),options.formData=this._getFormData(options),options.redirect&&targetHost&&targetHost!==location.host&&options.formData.push({name:options.redirectParamName||"redirect",value:options.redirect})},_initDataSettings:function(options){this._isXHRUpload(options)?(this._chunkedUpload(options,!0)||(options.data||this._initXHRData(options),this._initProgressListener(options)),options.postMessage&&(options.dataType="postmessage "+(options.dataType||""))):this._initIframeSettings(options)},_getParamName:function(options){var fileInput=$(options.fileInput),paramName=options.paramName;return paramName?$.isArray(paramName)||(paramName=[paramName]):(paramName=[],fileInput.each(function(){for(var input=$(this),name=input.prop("name")||"files[]",i=(input.prop("files")||[1]).length;i;)paramName.push(name),i-=1}),paramName.length||(paramName=[fileInput.prop("name")||"files[]"])),paramName},_initFormSettings:function(options){options.form&&options.form.length||(options.form=$(options.fileInput.prop("form")),options.form.length||(options.form=$(this.options.fileInput.prop("form")))),options.paramName=this._getParamName(options),options.url||(options.url=options.form.prop("action")||location.href),options.type=(options.type||"string"===$.type(options.form.prop("method"))&&options.form.prop("method")||"").toUpperCase(),"POST"!==options.type&&"PUT"!==options.type&&"PATCH"!==options.type&&(options.type="POST"),options.formAcceptCharset||(options.formAcceptCharset=options.form.attr("accept-charset"))},_getAJAXSettings:function(data){var options=$.extend({},this.options,data);return this._initFormSettings(options),this._initDataSettings(options),options},_getDeferredState:function(deferred){return deferred.state?deferred.state():deferred.isResolved()?"resolved":deferred.isRejected()?"rejected":"pending"},_enhancePromise:function(promise){return promise.success=promise.done,promise.error=promise.fail,promise.complete=promise.always,promise},_getXHRPromise:function(resolveOrReject,context,args){var dfd=$.Deferred(),promise=dfd.promise();return context=context||this.options.context||promise,resolveOrReject===!0?dfd.resolveWith(context,args):resolveOrReject===!1&&dfd.rejectWith(context,args),promise.abort=dfd.promise,this._enhancePromise(promise)},_addConvenienceMethods:function(e,data){var that=this,getPromise=function(args){return $.Deferred().resolveWith(that,args).promise()};data.process=function(resolveFunc,rejectFunc){return(resolveFunc||rejectFunc)&&(data._processQueue=this._processQueue=(this._processQueue||getPromise([this])).then(function(){return data.errorThrown?$.Deferred().rejectWith(that,[data]).promise():getPromise(arguments)}).then(resolveFunc,rejectFunc)),this._processQueue||getPromise([this])},data.submit=function(){return"pending"!==this.state()&&(data.jqXHR=this.jqXHR=that._trigger("submit",$.Event("submit",{delegatedEvent:e}),this)!==!1&&that._onSend(e,this)),this.jqXHR||that._getXHRPromise()},data.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",that._trigger("fail",null,this),that._getXHRPromise(!1))},data.state=function(){return this.jqXHR?that._getDeferredState(this.jqXHR):this._processQueue?that._getDeferredState(this._processQueue):void 0},data.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===that._getDeferredState(this._processQueue)},data.progress=function(){return this._progress},data.response=function(){return this._response}},_getUploadedBytes:function(jqXHR){var range=jqXHR.getResponseHeader("Range"),parts=range&&range.split("-"),upperBytesPos=parts&&parts.length>1&&parseInt(parts[1],10);return upperBytesPos&&upperBytesPos+1},_chunkedUpload:function(options,testOnly){options.uploadedBytes=options.uploadedBytes||0;var jqXHR,upload,that=this,file=options.files[0],fs=file.size,ub=options.uploadedBytes,mcs=options.maxChunkSize||fs,slice=this._blobSlice,dfd=$.Deferred(),promise=dfd.promise();return!(!(this._isXHRUpload(options)&&slice&&(ub||mcs<fs))||options.data)&&(!!testOnly||(ub>=fs?(file.error=options.i18n("uploadedBytes"),this._getXHRPromise(!1,options.context,[null,"error",file.error])):(upload=function(){var o=$.extend({},options),currentLoaded=o._progress.loaded;o.blob=slice.call(file,ub,ub+mcs,file.type),o.chunkSize=o.blob.size,o.contentRange="bytes "+ub+"-"+(ub+o.chunkSize-1)+"/"+fs,that._initXHRData(o),that._initProgressListener(o),jqXHR=(that._trigger("chunksend",null,o)!==!1&&$.ajax(o)||that._getXHRPromise(!1,o.context)).done(function(result,textStatus,jqXHR){ub=that._getUploadedBytes(jqXHR)||ub+o.chunkSize,currentLoaded+o.chunkSize-o._progress.loaded&&that._onProgress($.Event("progress",{lengthComputable:!0,loaded:ub-o.uploadedBytes,total:ub-o.uploadedBytes}),o),options.uploadedBytes=o.uploadedBytes=ub,o.result=result,o.textStatus=textStatus,o.jqXHR=jqXHR,that._trigger("chunkdone",null,o),that._trigger("chunkalways",null,o),ub<fs?upload():dfd.resolveWith(o.context,[result,textStatus,jqXHR])}).fail(function(jqXHR,textStatus,errorThrown){o.jqXHR=jqXHR,o.textStatus=textStatus,o.errorThrown=errorThrown,that._trigger("chunkfail",null,o),that._trigger("chunkalways",null,o),dfd.rejectWith(o.context,[jqXHR,textStatus,errorThrown])})},this._enhancePromise(promise),promise.abort=function(){return jqXHR.abort()},upload(),promise)))},_beforeSend:function(e,data){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(data),this._initProgressObject(data),data._progress.loaded=data.loaded=data.uploadedBytes||0,data._progress.total=data.total=this._getTotal(data.files)||1,data._progress.bitrate=data.bitrate=0,this._active+=1,this._progress.loaded+=data.loaded,this._progress.total+=data.total},_onDone:function(result,textStatus,jqXHR,options){var total=options._progress.total,response=options._response;options._progress.loaded<total&&this._onProgress($.Event("progress",{lengthComputable:!0,loaded:total,total:total}),options),response.result=options.result=result,response.textStatus=options.textStatus=textStatus,response.jqXHR=options.jqXHR=jqXHR,this._trigger("done",null,options)},_onFail:function(jqXHR,textStatus,errorThrown,options){var response=options._response;options.recalculateProgress&&(this._progress.loaded-=options._progress.loaded,this._progress.total-=options._progress.total),response.jqXHR=options.jqXHR=jqXHR,response.textStatus=options.textStatus=textStatus,response.errorThrown=options.errorThrown=errorThrown,this._trigger("fail",null,options)},_onAlways:function(jqXHRorResult,textStatus,jqXHRorError,options){this._trigger("always",null,options)},_onSend:function(e,data){data.submit||this._addConvenienceMethods(e,data);var jqXHR,aborted,slot,pipe,that=this,options=that._getAJAXSettings(data),send=function(){return that._sending+=1,options._bitrateTimer=new that._BitrateTimer,jqXHR=jqXHR||((aborted||that._trigger("send",$.Event("send",{delegatedEvent:e}),options)===!1)&&that._getXHRPromise(!1,options.context,aborted)||that._chunkedUpload(options)||$.ajax(options)).done(function(result,textStatus,jqXHR){that._onDone(result,textStatus,jqXHR,options)}).fail(function(jqXHR,textStatus,errorThrown){that._onFail(jqXHR,textStatus,errorThrown,options)}).always(function(jqXHRorResult,textStatus,jqXHRorError){if(that._onAlways(jqXHRorResult,textStatus,jqXHRorError,options),that._sending-=1,that._active-=1,options.limitConcurrentUploads&&options.limitConcurrentUploads>that._sending)for(var nextSlot=that._slots.shift();nextSlot;){if("pending"===that._getDeferredState(nextSlot)){nextSlot.resolve();break}nextSlot=that._slots.shift()}0===that._active&&that._trigger("stop")})};return this._beforeSend(e,options),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(slot=$.Deferred(),this._slots.push(slot),pipe=slot.then(send)):(this._sequence=this._sequence.then(send,send),pipe=this._sequence),pipe.abort=function(){return aborted=[void 0,"abort","abort"],jqXHR?jqXHR.abort():(slot&&slot.rejectWith(options.context,aborted),send())},this._enhancePromise(pipe)):send()},_onAdd:function(e,data){var paramNameSet,paramNameSlice,fileSet,i,that=this,result=!0,options=$.extend({},this.options,data),files=data.files,filesLength=files.length,limit=options.limitMultiFileUploads,limitSize=options.limitMultiFileUploadSize,overhead=options.limitMultiFileUploadSizeOverhead,batchSize=0,paramName=this._getParamName(options),j=0;if(!filesLength)return!1;if(limitSize&&void 0===files[0].size&&(limitSize=void 0),(options.singleFileUploads||limit||limitSize)&&this._isXHRUpload(options))if(options.singleFileUploads||limitSize||!limit)if(!options.singleFileUploads&&limitSize)for(fileSet=[],paramNameSet=[],i=0;i<filesLength;i+=1)batchSize+=files[i].size+overhead,(i+1===filesLength||batchSize+files[i+1].size+overhead>limitSize||limit&&i+1-j>=limit)&&(fileSet.push(files.slice(j,i+1)),paramNameSlice=paramName.slice(j,i+1),paramNameSlice.length||(paramNameSlice=paramName),paramNameSet.push(paramNameSlice),j=i+1,batchSize=0);else paramNameSet=paramName;else for(fileSet=[],paramNameSet=[],i=0;i<filesLength;i+=limit)fileSet.push(files.slice(i,i+limit)),paramNameSlice=paramName.slice(i,i+limit),paramNameSlice.length||(paramNameSlice=paramName),paramNameSet.push(paramNameSlice);else fileSet=[files],paramNameSet=[paramName];return data.originalFiles=files,$.each(fileSet||files,function(index,element){var newData=$.extend({},data);return newData.files=fileSet?element:[element],newData.paramName=paramNameSet[index],that._initResponseObject(newData),that._initProgressObject(newData),that._addConvenienceMethods(e,newData),result=that._trigger("add",$.Event("add",{delegatedEvent:e}),newData)}),result},_replaceFileInput:function(data){var input=data.fileInput,inputClone=input.clone(!0),restoreFocus=input.is(document.activeElement);data.fileInputClone=inputClone,$("<form></form>").append(inputClone)[0].reset(),input.after(inputClone).detach(),restoreFocus&&inputClone.focus(),$.cleanData(input.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(i,el){return el===input[0]?inputClone[0]:el}),input[0]===this.element[0]&&(this.element=inputClone)},_handleFileTreeEntry:function(entry,path){var dirReader,that=this,dfd=$.Deferred(),errorHandler=function(e){e&&!e.entry&&(e.entry=entry),dfd.resolve([e])},successHandler=function(entries){that._handleFileTreeEntries(entries,path+entry.name+"/").done(function(files){dfd.resolve(files)}).fail(errorHandler)},readEntries=function(){dirReader.readEntries(function(results){results.length?(entries=entries.concat(results),readEntries()):successHandler(entries)},errorHandler)},entries=[];return path=path||"",entry.isFile?entry._file?(entry._file.relativePath=path,dfd.resolve(entry._file)):entry.file(function(file){file.relativePath=path,dfd.resolve(file)},errorHandler):entry.isDirectory?(dirReader=entry.createReader(),readEntries()):dfd.resolve([]),dfd.promise()},_handleFileTreeEntries:function(entries,path){var that=this;return $.when.apply($,$.map(entries,function(entry){return that._handleFileTreeEntry(entry,path)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(dataTransfer){dataTransfer=dataTransfer||{};var items=dataTransfer.items;return items&&items.length&&(items[0].webkitGetAsEntry||items[0].getAsEntry)?this._handleFileTreeEntries($.map(items,function(item){var entry;return item.webkitGetAsEntry?(entry=item.webkitGetAsEntry(),entry&&(entry._file=item.getAsFile()),entry):item.getAsEntry()})):$.Deferred().resolve($.makeArray(dataTransfer.files)).promise()},_getSingleFileInputFiles:function(fileInput){fileInput=$(fileInput);var files,value,entries=fileInput.prop("webkitEntries")||fileInput.prop("entries");if(entries&&entries.length)return this._handleFileTreeEntries(entries);if(files=$.makeArray(fileInput.prop("files")),files.length)void 0===files[0].name&&files[0].fileName&&$.each(files,function(index,file){file.name=file.fileName,file.size=file.fileSize});else{if(value=fileInput.prop("value"),!value)return $.Deferred().resolve([]).promise();files=[{name:value.replace(/^.*\\/,"")}]}return $.Deferred().resolve(files).promise()},_getFileInputFiles:function(fileInput){return fileInput instanceof $&&1!==fileInput.length?$.when.apply($,$.map(fileInput,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(fileInput)},_onChange:function(e){var that=this,data={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(data.fileInput).always(function(files){data.files=files,that.options.replaceFileInput&&that._replaceFileInput(data),that._trigger("change",$.Event("change",{delegatedEvent:e}),data)!==!1&&that._onAdd(e,data)})},_onPaste:function(e){var items=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,data={files:[]};items&&items.length&&($.each(items,function(index,item){var file=item.getAsFile&&item.getAsFile();file&&data.files.push(file)}),this._trigger("paste",$.Event("paste",{delegatedEvent:e}),data)!==!1&&this._onAdd(e,data))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var that=this,dataTransfer=e.dataTransfer,data={};dataTransfer&&dataTransfer.files&&dataTransfer.files.length&&(e.preventDefault(),this._getDroppedFiles(dataTransfer).always(function(files){data.files=files,that._trigger("drop",$.Event("drop",{delegatedEvent:e}),data)!==!1&&that._onAdd(e,data)}))},_onDragOver:getDragHandler("dragover"),_onDragEnter:getDragHandler("dragenter"),_onDragLeave:getDragHandler("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),$.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(key,value){var reinit=$.inArray(key,this._specialOptions)!==-1;reinit&&this._destroyEventHandlers(),this._super(key,value),reinit&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var options=this.options;void 0===options.fileInput?options.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):options.fileInput instanceof $||(options.fileInput=$(options.fileInput)),options.dropZone instanceof $||(options.dropZone=$(options.dropZone)),options.pasteZone instanceof $||(options.pasteZone=$(options.pasteZone))},_getRegExp:function(str){var parts=str.split("/"),modifiers=parts.pop();return parts.shift(),new RegExp(parts.join("/"),modifiers)},_isRegExpOption:function(key,value){return"url"!==key&&"string"===$.type(value)&&/^\/.*\/[igm]{0,3}$/.test(value)},_initDataAttributes:function(){var that=this,options=this.options,data=this.element.data();$.each(this.element[0].attributes,function(index,attr){var value,key=attr.name.toLowerCase();/^data-/.test(key)&&(key=key.slice(5).replace(/-[a-z]/g,function(str){return str.charAt(1).toUpperCase()}),value=data[key],that._isRegExpOption(key,value)&&(value=that._getRegExp(value)),options[key]=value)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(data){var that=this;data&&!this.options.disabled&&(data.fileInput&&!data.files?this._getFileInputFiles(data.fileInput).always(function(files){data.files=files,that._onAdd(null,data)}):(data.files=$.makeArray(data.files),this._onAdd(null,data)))},send:function(data){if(data&&!this.options.disabled){if(data.fileInput&&!data.files){var jqXHR,aborted,that=this,dfd=$.Deferred(),promise=dfd.promise();return promise.abort=function(){return aborted=!0,jqXHR?jqXHR.abort():(dfd.reject(null,"abort","abort"),promise)},this._getFileInputFiles(data.fileInput).always(function(files){if(!aborted){if(!files.length)return void dfd.reject();data.files=files,jqXHR=that._onSend(null,data),jqXHR.then(function(result,textStatus,jqXHR){dfd.resolve(result,textStatus,jqXHR)},function(jqXHR,textStatus,errorThrown){dfd.reject(jqXHR,textStatus,errorThrown)})}}),this._enhancePromise(promise)}if(data.files=$.makeArray(data.files),data.files.length)return this._onSend(null,data)}return this._getXHRPromise(!1,data&&data.context)}})})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28
	* http://jqueryui.com
	* Includes: widget.js
	* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
  !function(factory){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function($){/*!
	 * jQuery UI Widget 1.11.4
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 *
	 * http://api.jqueryui.com/jQuery.widget/
	 */
    var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;null!=(elem=elems[i]);i++)try{events=$._data(elem,"events"),events&&events.remove&&$(elem).triggerHandler("remove")}catch(e){}orig(elems)}}($.cleanData),$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];return name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?void(arguments.length&&this._createWidget(options,element)):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){return $.isFunction(value)?void(proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}()):void(proxiedPrototype[prop]=value)}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor),constructor},$.widget.extend=function(target){for(var key,value,input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&void 0!==value&&($.isPlainObject(value)?target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):target[key]=value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=widget_slice.call(arguments,1),returnValue=this;return isMethodCall?this.each(function(){var methodValue,instance=$.data(this,fullName);return"instance"===options?(returnValue=instance,!1):instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&void 0!==methodValue?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}):(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var instance=$.data(this,fullName);instance?(instance.option(options||{}),instance._init&&instance._init()):$.data(this,fullName,new object(options,this))})),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=widget_uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),1===arguments.length)return void 0===curOption[key]?null:curOption[key];curOption[key]=value}else{if(1===arguments.length)return void 0===this.options[key]?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!value),value&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){if(suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.delegate(selector,eventName,handlerProxy):element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.unbind(eventName).undelegate(eventName),this.bindings=$(this.bindings.not(element).get()),this.focusable=$(this.focusable.not(element).get()),this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}});$.widget})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(factory){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function($){"use strict";var counter=0;$.ajaxTransport("iframe",function(options){if(options.async){var form,iframe,addParamChar,initialIframeSrc=options.initialIframeSrc||"javascript:false;";return{send:function(_,completeCallback){form=$('<form style="display:none;"></form>'),form.attr("accept-charset",options.formAcceptCharset),addParamChar=/\?/.test(options.url)?"&":"?","DELETE"===options.type?(options.url=options.url+addParamChar+"_method=DELETE",options.type="POST"):"PUT"===options.type?(options.url=options.url+addParamChar+"_method=PUT",options.type="POST"):"PATCH"===options.type&&(options.url=options.url+addParamChar+"_method=PATCH",options.type="POST"),counter+=1,iframe=$('<iframe src="'+initialIframeSrc+'" name="iframe-transport-'+counter+'"></iframe>').bind("load",function(){var fileInputClones,paramNames=$.isArray(options.paramName)?options.paramName:[options.paramName];iframe.unbind("load").bind("load",function(){var response;try{if(response=iframe.contents(),!response.length||!response[0].firstChild)throw new Error}catch(e){response=void 0}completeCallback(200,"success",{iframe:response}),$('<iframe src="'+initialIframeSrc+'"></iframe>').appendTo(form),window.setTimeout(function(){form.remove()},0)}),form.prop("target",iframe.prop("name")).prop("action",options.url).prop("method",options.type),options.formData&&$.each(options.formData,function(index,field){$('<input type="hidden"/>').prop("name",field.name).val(field.value).appendTo(form)}),options.fileInput&&options.fileInput.length&&"POST"===options.type&&(fileInputClones=options.fileInput.clone(),options.fileInput.after(function(index){return fileInputClones[index]}),options.paramName&&options.fileInput.each(function(index){$(this).prop("name",paramNames[index]||options.paramName)}),form.append(options.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),options.fileInput.removeAttr("form")),form.submit(),fileInputClones&&fileInputClones.length&&options.fileInput.each(function(index,input){var clone=$(fileInputClones[index]);$(input).prop("name",clone.prop("name")).attr("form",clone.attr("form")),clone.replaceWith(input)})}),form.append(iframe).appendTo(document.body)},abort:function(){iframe&&iframe.unbind("load").prop("src",initialIframeSrc),form&&form.remove()}}}}),$.ajaxSetup({converters:{"iframe text":function(iframe){return iframe&&$(iframe[0].body).text()},"iframe json":function(iframe){return iframe&&$.parseJSON($(iframe[0].body).text())},"iframe html":function(iframe){return iframe&&$(iframe[0].body).html()},"iframe xml":function(iframe){var xmlDoc=iframe&&iframe[0];return xmlDoc&&$.isXMLDoc(xmlDoc)?xmlDoc:$.parseXML(xmlDoc.XMLDocument&&xmlDoc.XMLDocument.xml||$(xmlDoc.body).html())},"iframe script":function(iframe){return iframe&&$.globalEval($(iframe[0].body).text())}}})})},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(7),_MKCPopwinCommon=__webpack_require__(61),_MKCPopwinCommon2=_interopRequireDefault(_MKCPopwinCommon),_MKCPopwinBuy=__webpack_require__(72),_MKCPopwinBuy2=_interopRequireDefault(_MKCPopwinBuy),_MKCBtnPrimitiveWithIcon=__webpack_require__(67),_MKCBtnPrimitiveWithIcon2=_interopRequireDefault(_MKCBtnPrimitiveWithIcon),MKCPopwinSpaceNotEnough=_react2["default"].createClass({displayName:"MKCPopwinSpaceNotEnough",handleBuySpace:function(){var _props$errLegend=this.props.errLegend,ACT=_props$errLegend.ACT,N=_props$errLegend.N,T=_props$errLegend.T,prId="EXPAND"===ACT?21:19;_reactDom2["default"].unmountComponentAtNode(document.getElementById("popfunc")),_reactDom2["default"].render(_react2["default"].createElement(_MKCPopwinBuy2["default"],{prGrId:prId,supplementInfo:{prNum:N,currentSpace:T/1024/1024}}),document.getElementById("popPay"))},render:function(){return _react2["default"].createElement(_MKCPopwinCommon2["default"],{className:"sne_popInner",key:"pop",title:_config.lang.popSpaceNotEnoughTitle},_react2["default"].createElement("div",{className:"pop_content",key:"popC"},_react2["default"].createElement("p",{className:"sne_alert"},_config.lang.popSpaceNotEnoughAlert),_react2["default"].createElement("p",{className:"sne_guide"},_config.lang.popSpaceNotEnoughGuide),_react2["default"].createElement("div",{className:"pop_operate",key:"ope"},_react2["default"].createElement(_MKCBtnPrimitiveWithIcon2["default"],{className:"pop_confirm",dis:_config.lang.gBtnViewSpace,href:"settings.php#/system"}),_react2["default"].createElement(_MKCBtnPrimitiveWithIcon2["default"],{className:"pop_cancel orange",icon:String.fromCharCode(59234),dis:_config.lang.gBuySysSpaceBuy,onClick:this.handleBuySpace}))))}});exports["default"]=MKCPopwinSpaceNotEnough,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_config=__webpack_require__(7),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_AppAction=__webpack_require__(37),_AppAction2=_interopRequireDefault(_AppAction),_BuyAction=__webpack_require__(73),_BuyAction2=_interopRequireDefault(_BuyAction),_BuyStore=__webpack_require__(75),_BuyStore2=_interopRequireDefault(_BuyStore),_MKCPopwinPay=__webpack_require__(77),_MKCPopwinPay2=_interopRequireDefault(_MKCPopwinPay),_MKCSelector=__webpack_require__(78),_MKCPopwinBuyChoosePaymentMethod=(_interopRequireDefault(_MKCSelector),__webpack_require__(85)),_MKCPopwinBuyChoosePaymentMethod2=_interopRequireDefault(_MKCPopwinBuyChoosePaymentMethod),_MKCPopwinBuyPayCash=__webpack_require__(95),_MKCPopwinBuyPayCash2=_interopRequireDefault(_MKCPopwinBuyPayCash),_MKCPopwinBuyPaySucceed=__webpack_require__(96),_MKCPopwinBuyPaySucceed2=_interopRequireDefault(_MKCPopwinBuyPaySucceed),_MKCPopwinBuyPayFailed=__webpack_require__(97),_MKCPopwinBuyPayFailed2=_interopRequireDefault(_MKCPopwinBuyPayFailed),_GlobalUtil=__webpack_require__(40),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCPopwinBuy=_react2["default"].createClass({displayName:"MKCPopwinBuy",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return this.voucherPay=0,{prepared:!1,step:"chooseMode",info:{},supplementInfo:this.props.supplementInfo||{},selectedPrId:null,selectedPrInfo:{},prNum:1,curType:1,usedVoucher:[],isUseBalance:!0,paymentMethod:1,totalPrice:0,balancePay:0,needPay:0}},componentDidMount:function(){_BuyStore2["default"].init(),_BuyStore2["default"].addChangeListener("buyInfoChange",this.buyInfoChanged),_BuyStore2["default"].addChangeListener("confirmSucceed",this.confirmSucceed),_BuyAction2["default"].GET_INFO_BEFORE_PAY(this.props.prGrId,this.props.isOnlyAll,this.props.supplementInfo,this.props.suggestPrId)},componentWillUnmount:function(){_BuyStore2["default"].removeChangeListener("buyInfoChange",this.buyInfoChanged),_BuyStore2["default"].removeChangeListener("confirmSucceed",this.confirmSucceed)},handleChangeStep:function(step){this.setState({step:step})},buyInfoChanged:function(state){var _$assign=_lodash2["default"].assign({},this.state,state),prNum=_$assign.prNum,selectedPrInfo=_$assign.selectedPrInfo,curType=_$assign.curType,info=_$assign.info,isUseBalance=_$assign.isUseBalance,totalPrice=(selectedPrInfo.prPrice[curType]||0)*prNum,_remain=totalPrice-this.voucherPay,balancePay=0;_remain>0&&isUseBalance&&(balancePay=Math.min(_remain,info.balance[curType]));var needPay=totalPrice-balancePay-this.voucherPay,newState=_lodash2["default"].assign({},state,{prepared:!0,totalPrice:totalPrice,balancePay:balancePay,needPay:needPay});this.setState(newState)},handleCurTypeChange:function(e,dataId){_BuyAction2["default"].CHANGE_CURRENT_TYPE(dataId-0)},handleUseVoucher:function(vId){var _state=this.state,usedVoucher=_state.usedVoucher,curType=_state.curType,info=_state.info,useIdx=_lodash2["default"].indexOf(usedVoucher,vId),voucherInfo=_lodash2["default"].find(info.voucher[curType],{voucherId:vId});useIdx===-1?(usedVoucher.push(vId),this.voucherPay+=voucherInfo.voucherMoney):(usedVoucher.splice(useIdx,1),this.voucherPay-=voucherInfo.voucherMoney),_BuyAction2["default"].CHANGE_VOUCHER_STATE(usedVoucher)},confirmSucceed:function(state){var _step="payCash";this.state.needPay<=0&&(_step="paySucceed");var newState=_lodash2["default"].assign({},state,{step:_step});this.setState(newState)},handlePaid:function(payInfo){var _newState={step:payInfo.isSucceed?"paySucceed":"payFailed"};payInfo.token&&(_newState.token=payInfo.token),payInfo.message&&(_newState.message=payInfo.message),this.setState(_newState)},handleFinished:function(){(0,_GlobalUtil.getUserGuideFlag)(7)&&[19,21].indexOf(+this.props.prGrId)>-1&&_AppAction2["default"].CHECK_SPACE(),[19,20,21].indexOf(+this.props.prGrId)>-1&&MGCache.set("isHCDTime",MGMoment().add(30,"d").time()),this.props.onFinished&&this.props.onFinished(this.state.prNum,this.state.selectedPrInfo)},render:function(){var props=this.props,prGrInfo=_GlobalUtil.PRODUCT_GROUP_INFO[props.prGrId],_state2=this.state,step=_state2.step,selectedPrInfo=_state2.selectedPrInfo,paymentMethod=(_state2.curType,_state2.paymentMethod),info=_state2.info,prepared=_state2.prepared,_extImgStyle={backgroundColor:prGrInfo.bgColor,backgroundPosition:prGrInfo.bgPosition},_extensionInfo=[_react2["default"].createElement("p",{className:"bex_exName",key:"exName"},info.prGrName||""),_react2["default"].createElement("p",{className:"bex_exNo",key:"exNo"},selectedPrInfo.prNo||"")],_main="";return prepared||"chooseMode"!==step?(_main=_react2["default"].createElement(_MKCPopwinBuyChoosePaymentMethod2["default"],_extends({},this.state,props,{useVoucher:this.handleUseVoucher})),"payCash"===step?_main=_react2["default"].createElement(_MKCPopwinBuyPayCash2["default"],_extends({},this.state,{changeStep:this.handleChangeStep,onPaid:this.handlePaid})):"paySucceed"===step?(_extImgStyle={},_extensionInfo=null,_main=_react2["default"].createElement(_MKCPopwinBuyPaySucceed2["default"],_extends({},this.state,props,{onFinished:this.handleFinished}))):"payFailed"===step&&(_extImgStyle={},_extensionInfo=null,_main=_react2["default"].createElement(_MKCPopwinBuyPayFailed2["default"],this.state))):_main=_react2["default"].createElement("div",{className:"cp_pageLoadingContent",key:"loadingContent"},_react2["default"].createElement("p",{className:"cp_pageLoadingInfo"},_react2["default"].createElement("span",{className:"cp_pageLoadingTips"},_config.lang.gLoading))),_react2["default"].createElement(_MKCPopwinPay2["default"],{className:(0,_classnames2["default"])("popPay_popInner","buy",prGrInfo.prGrName),key:"popPay",isCantClose:"payCash"===step||"paySucceed"===step},_react2["default"].createElement("div",{className:(0,_classnames2["default"])("popPay_content",step)},_react2["default"].createElement("div",{className:"bex_exImage"},_react2["default"].createElement("div",{className:"bex_exImg",style:_extImgStyle})),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("bex_payMode",{aliPay:1===paymentMethod,wxPay:2===paymentMethod})},_react2["default"].createElement("div",{className:"bex_pmImg"})),_extensionInfo,_main))}});exports["default"]=MKCPopwinBuy,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_BuyConstants=__webpack_require__(74),BuyAction={GET_INFO_BEFORE_PAY:function(grId,isOnlyAll,supplementInfo,suggestPrId){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.GET_INFO_BEFORE_PAY,grId:grId,isOnlyAll:isOnlyAll,supplementInfo:supplementInfo,suggestPrId:suggestPrId}})},CHANGE_CURRENT_TYPE:function(curId){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CHANGE_CURRENT_TYPE,curId:curId}})},CHANGE_PRODUCT:function(prId){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CHANGE_PRODUCT,prId:prId}})},CHANGE_VOUCHER_STATE:function(usedVoucher){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CHANGE_VOUCHER_STATE,usedVoucher:usedVoucher}})},CHANGE_BALANCE_STATE:function(state){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CHANGE_BALANCE_STATE,state:state}})},CHANGE_PAYMENT_METHOD:function(pmId){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CHANGE_PAYMENT_METHOD,pmId:pmId}})},CHANGE_PRODUCT_NUMBER:function(num){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CHANGE_PRODUCT_NUMBER,num:num}})},CONFIRM_BUY:function(balancePay,needPay,ext){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.CONFIRM_BUY,data:{balancePay:balancePay,needPay:needPay,ext:ext}}})},GET_DMW_PROGRESS:function(orderToken){_AppDispatcher2["default"].dispatch({action:{type:_BuyConstants.ActionTypes.GET_DMW_PROGRESS,token:orderToken}})}};exports["default"]=BuyAction,module.exports=exports["default"]},function(module,exports,__webpack_require__){var keyMirror=__webpack_require__(27);module.exports={ActionTypes:keyMirror({GET_INFO_BEFORE_PAY:null,CHANGE_CURRENT_TYPE:null,CHANGE_PRODUCT:null,CHANGE_VOUCHER_STATE:null,CHANGE_BALANCE_STATE:null,CHANGE_PAYMENT_METHOD:null,CHANGE_PRODUCT_NUMBER:null,CONFIRM_BUY:null,GET_DMW_PROGRESS:null})}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_EventEmitter=__webpack_require__(10),_EventEmitter2=_interopRequireDefault(_EventEmitter),_BuyConstants=__webpack_require__(74),_MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),_GlobalUtil=__webpack_require__(40),_GlobalUtil2=_interopRequireDefault(_GlobalUtil),_AppBuyWebAPIUtils=__webpack_require__(76),_AppBuyWebAPIUtils2=_interopRequireDefault(_AppBuyWebAPIUtils),CHANGE_EVENT="change",prGrId=null,info={},selectedPrId=null,prNum=1,curType=1,usedVoucher=[],isUseBalance=!0,paymentMethod=1,BuyStore=(0,_lodash.assign)({},_EventEmitter2["default"].prototype,{emitChange:function(name){if(arguments.length>1)switch(arguments.length){case 2:this.emit(CHANGE_EVENT+name,arguments[1]);break;case 3:this.emit(CHANGE_EVENT+name,arguments[1],arguments[2]);break;default:var len=arguments.length,args=new Array(len);args[0]=CHANGE_EVENT+name;for(var i=1;i<len;i++)args[i-1]=arguments[i];this.emit.apply(this,args)}else this.emit(CHANGE_EVENT+name)},addChangeListener:function(name,callback){this.on(CHANGE_EVENT+name,callback)},removeChangeListener:function(name,callback){this.removeListener(CHANGE_EVENT+name,callback)},init:function(){prGrId=null,info={},selectedPrId=null,prNum=1,curType=1,usedVoucher=[],isUseBalance=!0,paymentMethod=1},getSelectedPrId:function(){return selectedPrId}});BuyStore.dispatchToken=_AppDispatcher2["default"].register(function(payload){var action=payload.action;switch(action.type){case _BuyConstants.ActionTypes.GET_INFO_BEFORE_PAY:_AppBuyWebAPIUtils2["default"].abortInfoBeforePay(),_AppBuyWebAPIUtils2["default"].getInfoBeforePay(action.grId).done(function(res){if(0===res.r){prGrId=action.grId,action.supplementInfo&&action.supplementInfo.prNum&&(prNum=action.supplementInfo.prNum),info=_GlobalUtil2["default"].convertBeforePayInfo(res),selectedPrId=info.prList[0].prId;var selectedPrInfo=info.prList[0];if(action.suggestPrId&&_lodash2["default"].findIndex(info.prList,{prId:action.suggestPrId})>-1)selectedPrId=action.suggestPrId,selectedPrInfo=_lodash2["default"].find(info.prList,{prId:action.suggestPrId});else if(21===prGrId){var days=info.prExt.days;days<=365?(selectedPrId=info.prList[0].prId,selectedPrInfo=info.prList[0]):days<=730?(selectedPrId=info.prList[1].prId,selectedPrInfo=info.prList[1]):days<=1095?(selectedPrId=info.prList[2].prId,selectedPrInfo=info.prList[2]):days<=1460&&(selectedPrId=info.prList[3].prId,selectedPrInfo=info.prList[3]),selectedPrInfo.prPriceCn=days*selectedPrInfo.prPriceCn,selectedPrInfo.prPriceEn=days*selectedPrInfo.prPriceEn,selectedPrInfo.prPrice={1:selectedPrInfo.prPriceCn,2:selectedPrInfo.prPriceEn}}else action.isOnlyAll&&(selectedPrId=info.prList[1].prId,selectedPrInfo=info.prList[1]);BuyStore.emitChange("buyInfoChange",{info:info,selectedPrId:selectedPrId,selectedPrInfo:selectedPrInfo,curType:curType,prNum:prNum})}});break;case _BuyConstants.ActionTypes.CHANGE_CURRENT_TYPE:curType=action.curId,BuyStore.emitChange("buyInfoChange",{curType:curType});break;case _BuyConstants.ActionTypes.CHANGE_PRODUCT:selectedPrId=action.prId,BuyStore.emitChange("buyInfoChange",{selectedPrId:selectedPrId,selectedPrInfo:_lodash2["default"].find(info.prList,{prId:selectedPrId})});break;case _BuyConstants.ActionTypes.CHANGE_VOUCHER_STATE:usedVoucher=action.usedVoucher,BuyStore.emitChange("buyInfoChange",{usedVoucher:[].concat(usedVoucher)});break;case _BuyConstants.ActionTypes.CHANGE_BALANCE_STATE:isUseBalance=action.state,BuyStore.emitChange("buyInfoChange",{isUseBalance:isUseBalance});break;case _BuyConstants.ActionTypes.CHANGE_PAYMENT_METHOD:paymentMethod=action.pmId,BuyStore.emitChange("buyInfoChange",{paymentMethod:paymentMethod});break;case _BuyConstants.ActionTypes.CHANGE_PRODUCT_NUMBER:prNum=action.num,BuyStore.emitChange("buyInfoChange",{prNum:prNum});break;case _BuyConstants.ActionTypes.CONFIRM_BUY:var _action$data=action.data,balancePay=_action$data.balancePay,needPay=_action$data.needPay,ext=_action$data.ext,postData={p:selectedPrId,c:curType,a:0};balancePay&&(postData.b=balancePay),_lodash2["default"].isEmpty(usedVoucher)||(postData.v=usedVoucher),needPay>0&&(postData.a=needPay.toFixed(2),postData.m=paymentMethod,postData.d=_MGUtil2["default"].fuzzyDeviceCheck?2:1),_GlobalUtil2["default"].PRODUCT_GROUP_INFO[prGrId].hasQuantity&&(postData.q=prNum),ext&&(postData.ext=ext),_AppBuyWebAPIUtils2["default"].abortConfirmBuy(),_AppBuyWebAPIUtils2["default"].confirmBuy(postData).done(function(res){0===res.r&&BuyStore.emitChange("confirmSucceed",_GlobalUtil2["default"].convertConfirmBuyInfo(res))});break;case _BuyConstants.ActionTypes.GET_DMW_PROGRESS:_AppBuyWebAPIUtils2["default"].abortGetDmwProgress(),_AppBuyWebAPIUtils2["default"].getDmwProgress(action.token).done(function(res){0===res.r&&1===res.dn&&BuyStore.emitChange("dmwProgressSucceed",{isSucceed:res.sc,token:res._DMWT,message:res.msg})})}}),module.exports=BuyStore},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _AppUtil=__webpack_require__(51),_HANDLER=window.rootPath("handler/web/buy/"),_HANDLER_BASE=window.rootPath("handler/web/base/");exports["default"]={getInfoBeforePay:function(grId){return _AppUtil.ws.post(_HANDLER+"handleGetInfoBeforePay.php",{data:{d:JSON.stringify({cvs:{pgi:grId}})}})},abortInfoBeforePay:function(){_AppUtil.ws.abort(_HANDLER+"handleGetInfoBeforePay.php")},confirmBuy:function(data){return _AppUtil.ws.post(_HANDLER+"handleConfirmBuy.php",{data:{d:JSON.stringify({cvs:data})}})},abortConfirmBuy:function(){_AppUtil.ws.abort(_HANDLER+"handleConfirmBuy.php")},getDmwProgress:function(token){return _AppUtil.ws.post(_HANDLER_BASE+"handleGetDmwProgress.php",{data:{d:JSON.stringify({cvs:{t:token}})}})},abortGetDmwProgress:function(){_AppUtil.ws.abort(_HANDLER_BASE+"handleGetDmwProgress.php")}},module.exports=exports["default"]},function(module,exports,__webpack_require__){(function($){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_MKCPopwin=__webpack_require__(57),_MKCPopwin2=_interopRequireDefault(_MKCPopwin),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCPopwinPay=_react2["default"].createClass({displayName:"MKCPopwinPay",mixins:[_reactAddonsPureRenderMixin2["default"]],handleClosePop:function(){_reactDom2["default"].unmountComponentAtNode($("#popPay")[0])},render:function(){var props=this.props,_class=["popInner","popInnerAnimation","payPop"];props.className&&(_class=_class.concat(props.className.split(" ")));var _title=null;return props.title&&(_title=_react2["default"].createElement("p",{className:"popPay_title"},props.title)),_react2["default"].createElement(_MKCPopwin2["default"],{mountDom:"#popPay",isCantClose:props.isCantClose},_react2["default"].createElement("div",{className:_class.join(" ")},props.isCantClose?null:_react2["default"].createElement("a",{className:"iconfont popClose",onClick:this.handleClosePop},""),_react2["default"].createElement("div",{className:"popPay_header"},_title),_react2["default"].createElement("div",{className:"popPay_wrapper"},this.props.children)))}});module.exports=MKCPopwinPay}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_LegoDropdown=__webpack_require__(79),_LegoDropdown2=_interopRequireDefault(_LegoDropdown),_LegoList=__webpack_require__(80),_LegoList2=_interopRequireDefault(_LegoList),_LegoListLazy=__webpack_require__(84),_LegoListLazy2=_interopRequireDefault(_LegoListLazy),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_config=__webpack_require__(7),_config2=_interopRequireDefault(_config),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),$lang=_config2["default"].lang,_ARROW_ICON_EXPAND=String.fromCharCode(58983),_ARROW_ICON_COLLAPSE=String.fromCharCode(58984);
  exports["default"]=_react2["default"].createClass({displayName:"MKC.Selector.react",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{arrowIcon:_ARROW_ICON_EXPAND,isOpen:!1,selectedValue:this.props.defaultValue||!1}},componentWillReceiveProps:function(nextProps){(!this.state.selectedValue&&0!==this.state.selectedValue||"defaultValue"in nextProps&&nextProps.defaultValue!==this.state.selectedValue)&&this.setState({selectedValue:nextProps.defaultValue||!1})},componentDidUpdate:function(){var state=this.state;state.isOpen&&state.selectedValue===!1&&this.refs.list&&this.refs.list.doFirst(window.event||this.e)},doChangeSelect:function(val){this.setState({selectedValue:val||!1})},doFocus:function(e){e.preventDefault(),e.stopPropagation(),this.focus=!0,_reactDom2["default"].findDOMNode(this.refs.focusBlock).focus()},handleFocus:function(e){if(this.focus)this.focus=!1;else{var res=!1,arrowIcon=_ARROW_ICON_COLLAPSE;if(this.state.isOpen?(arrowIcon=_ARROW_ICON_EXPAND,res=this.refs.drop.doClose()):(res=this.refs.drop.doOpen(),this.e=_jquery2["default"].extend(!0,{},e)),!res)return;this.setState({arrowIcon:arrowIcon,isOpen:!this.state.isOpen}),this.props.onFocus&&this.props.onFocus(e)}},handleMouseDown:function(e){e.preventDefault(),e.stopPropagation()},handleClick:function(e){e.preventDefault(),e.stopPropagation();var $block=(0,_jquery2["default"])(_reactDom2["default"].findDOMNode(this.refs.focusBlock));$block.is(":focus")?this.handleFocus():$block.focus()},handleKeyDown:function(e){var e=e||window.event;switch(e.which=e.keyCode||e.which,e.which){case 35:e.preventDefault(),e.stopPropagation(),this.refs.list.doLast(e);break;case 36:e.preventDefault(),e.stopPropagation(),this.refs.list.doFirst(e);break;case 38:e.preventDefault(),e.stopPropagation(),this.refs.list.doPrev(e);break;case 40:e.preventDefault(),e.stopPropagation(),this.refs.list.doNext(e);break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?(this.refs.list.doSelect(e),this.handleFocus()):(0,_jquery2["default"])(_reactDom2["default"].findDOMNode(this.refs.focusBlock)).is(":focus")&&this.handleFocus()}},handleBlur:function(e){this.refs.drop.doClose(),this.setState({arrowIcon:_ARROW_ICON_EXPAND,isOpen:!1}),this.props.onBlur&&this.props.onBlur(e)},handleChange:function(e,dataId){var props=this.props;this.state.selectedValue=dataId,this.setState({selectedValue:dataId}),props.onChange&&props.onChange(e,dataId),this.handleBlur()},handleClickDisabled:function(e,dataId){var props=this.props;props.onClickDisabled&&props.onClickDisabled(e,dataId),this.handleBlur()},handleRemoveOption:function(e,dataId){var props=this.props;props.onRemove&&props.onRemove(e,dataId)},renderDropdown:function(){var props=this.props,state=this.state;return props.isLoading?_react2["default"].createElement("div",{className:"dropdown_loading cpSelectNoresults"},props.loadingTips||$lang.sLoading):props.data?props.hasMore?_react2["default"].createElement(_LegoListLazy2["default"],{name:"dropdownList",hasImage:props.hasImage,data:props.data,onSelect:this.handleChange,menuHeight:props.menuHeight||300,ref:"list",defaultValue:state.selectedValue}):0==props.data.length?props.dropdownEmpty||null:_react2["default"].createElement(_LegoList2["default"],{name:"dropdownList",hasSubtitle:!0,data:props.data,isRemove:props.isRemove,menuHeight:props.menuHeight||220,ref:"list",defaultValue:state.selectedValue,onSelect:this.handleChange,onClickDisabled:this.handleClickDisabled,onRemove:this.handleRemoveOption}):null},render:function(){var state=this.state,props=this.props,_classPrefix=props.classPrefix,_icon=null,_title=null,_errorTips=null,_iconClass={iconfont:!0,cp_iIcon:!0},_titleClass={cp_iTitle:!0},_wrapperClass={cp_infoItemField:!0,error:props.valid},_contentFieldClass={cp_iSelect:!0},_errorInfoClass={cp_errorInfo:!0};props.className&&props.className.split(" ").forEach(function(v){v&&(_wrapperClass[v]=!0)}),_classPrefix&&(_contentFieldClass[_classPrefix+"_iSelect"]=!0,_iconClass[_classPrefix+"_iIcon"]=!0,_titleClass[_classPrefix+"_iTitle"]=!0,_wrapperClass[_classPrefix+"_infoItemField"]=!0,_errorInfoClass[_classPrefix+"_errorText"]=!0),_wrapperClass[props.name]=!0,props.icon&&(_icon=_react2["default"].createElement("span",{className:(0,_classnames2["default"])(_iconClass),key:"icon"+props.name},props.icon)),props.title&&(_title=_react2["default"].createElement("span",{className:(0,_classnames2["default"])(_titleClass),key:"title"+props.name},props.title));var _inputProps={ref:"focusBlock",className:"cp_selectInput",tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur},_dropDownProps={ref:"drop",dropDownChild:this.renderDropdown(),isRightAlign:props.isRightAlign||!1,menuHeight:props.menuHeight||220,menuWidth:props.menuWidth||0,name:"selector"},_input=_react2["default"].createElement("div",_inputProps," "),_data=props.data||[];props.hasMore&&(_data=props.data||{},_data=[].concat(_data.main||[]).concat(_data.normal||[]));var _imageStyle=null,_shownTitle=props.placeholder,_shownValue=props.placeholder;if(state.selectedValue){var _findIndex=(0,_lodash2["default"])(_data).map(function(v){return{id:""+v.id}}).findIndex({id:""+state.selectedValue});_findIndex>-1?(_contentFieldClass.has_value=!0,_shownValue=_data[_findIndex].title,_shownTitle=_data[_findIndex].title,(props.valueIcon||_data[_findIndex].icon)&&(_shownValue=[_react2["default"].createElement("i",{key:"icon",className:"iconfont cp_selectIcon"},props.valueIcon||_data[_findIndex].icon),_react2["default"].createElement("span",{key:"title"},_data[_findIndex].title)]),props.hasImage&&_data[_findIndex].image&&(_imageStyle={backgroundImage:"url("+_data[_findIndex].image+")"})):!state.selectedValue||_data&&0!==_data.length||(_contentFieldClass.has_value=!0,_shownValue=state.selectedValue,_shownTitle=state.selectedValue,props.valueIcon&&(_shownValue=[_react2["default"].createElement("i",{key:"icon",className:"iconfont cp_selectIcon"},props.valueIcon),_react2["default"].createElement("span",{key:"title"},state.selectedValue)]))}var _value=_react2["default"].createElement("div",{className:(0,_classnames2["default"])({cp_selectPlaceholder:!0,hasIcon:_lodash2["default"].isArray(_shownValue),hasImage:_imageStyle}),key:"placeholder",style:_imageStyle,title:_shownTitle},_shownValue);return props.valid&&props.errorMsg[valid].eMsg&&(_errorTips=_react2["default"].createElement("span",{className:(0,_classnames2["default"])("cp_errorInfo",_classPrefix?_classPrefix+"_errorText":null),ref:"errInfo"},_react2["default"].createElement("span",{className:"cp_errorInfoImg"}),_react2["default"].createElement("span",{className:"cp_errorInfoText"},props.errorMsg[valid].eMsg))),_react2["default"].createElement("div",{className:(0,_classnames2["default"])(_wrapperClass)},_icon,_title,_react2["default"].createElement("div",{className:(0,_classnames2["default"])(_contentFieldClass)},_react2["default"].createElement(_LegoDropdown2["default"],_dropDownProps,_react2["default"].createElement("div",{className:"cp_selector",onClick:this.handleClick,onMouseDown:this.handleMouseDown},_value,_input,_react2["default"].createElement("span",{className:"iconfont cp_selectorArrow"},state.arrowIcon))),_errorTips))}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getDpId(){return gDpItemNum++}function _removeIdentity(){_lodash2["default"].isEmpty(window.mkDropDownRemoveList)||(window.mkDropDownEventList=_lodash2["default"].difference(window.mkDropDownEventList,window.mkDropDownRemoveList),_lodash2["default"].forEach(window.mkDropDownRemoveList,function(_id){window.mkDropDownBinder[_id]&&delete window.mkDropDownBinder[_id]}),window.mkDropDownEventList&&0===window.mkDropDownEventList.length?((0,_jquery2["default"])(window).off(".mkDropdown"),window.mkDropDownEventList=null,window.mkDropDownBinder=null,window.mkDropDownRemoveList=null):window.mkDropDownRemoveList=[])}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_MGUtil=__webpack_require__(11),_LegoAnimationGroup=__webpack_require__(62),_LegoAnimationGroup2=_interopRequireDefault(_LegoAnimationGroup),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),gDpItemNum=1,removeEventIdentity=_lodash2["default"].debounce(_removeIdentity,100);exports["default"]=_react2["default"].createClass({displayName:"Lego.Dropdown.react",mixins:[_reactAddonsPureRenderMixin2["default"]],propTypes:{className:_react2["default"].PropTypes.string,classPrefix:_react2["default"].PropTypes.string,name:_react2["default"].PropTypes.string,style:_react2["default"].PropTypes.object,isRightAlign:_react2["default"].PropTypes.bool,isFixedHeight:_react2["default"].PropTypes.bool,menuHeight:_react2["default"].PropTypes.number,menuWidth:_react2["default"].PropTypes.number,menuGap:_react2["default"].PropTypes.number,direction:_react2["default"].PropTypes.oneOf(["ltr","rtl"]).isRequired,defaultValue:_react2["default"].PropTypes.string,disabled:_react2["default"].PropTypes.bool},getDefaultProps:function(){return{direction:"ltr"}},getInitialState:function(){return this.menuStyle=null,this.throttleForce=_lodash2["default"].throttle(this._gForceBlur,120),this.debouceForce=_lodash2["default"].throttle(this._gForceBlur,120),{isOpen:!1}},componentDidMount:function(){this.identityCode="dp"+(this.props.name+getDpId());var dom=_reactDom2["default"].findDOMNode(this);this.$dom=(0,_jquery2["default"])(dom),this.$window=(0,_jquery2["default"])(window),window.mkDropDownEventList||(window.mkDropDownEventList=[],window.mkDropDownBinder={},window.mkDropDownRemoveList=[],this.$window.on("resize.mkDropdown",function(e){_lodash2["default"].forEach(window.mkDropDownBinder,function(func,key){func&&func.resize&&func.resize(e)})}).on("blur.mkDropdown",function(e){_lodash2["default"].forEach(window.mkDropDownBinder,function(func,key){func&&func.blur&&func.blur(e)})}).on("focus.mkDropdown",function(e){e.preventDefault&&e.preventDefault(e),_lodash2["default"].forEach(window.mkDropDownBinder,function(func,key){func&&func.focus&&func.focus(e)})}).on("lgScroll.mkDropdown",function(e,data){_lodash2["default"].forEach(window.mkDropDownBinder,function(func,key){func&&func.scrollStop&&func.scrollStop(e,data)})})),window.mkDropDownEventList.push(this.identityCode)},componentWillUpdate:function(nextProps,nextState){this.state.isOpen&&(this.forceBlurFlag=!0,this._changeWidth(nextProps))},componentWillUnmount:function(){window.mkDropDownRemoveList.push(this.identityCode),removeEventIdentity(),this.$dom=null,this.$window=null},_stop:function(evt){this.state.isOpen&&(evt=evt||window.event,"bubbles"in evt?evt.bubbles&&evt.stopPropagation():evt.cancelBubble=!0)},_gForceBlur:function(e,src){if(this.forceBlurFlag&&this.isMounted()){if(src&&src._scroll&&0===src._scroll.find(this.$dom).length)return;this.forceBlurFlag=!1,this.$dom.find(":focus").blur(),this.doClose()}},_gBlur:function(){this.windowBlur=!0,this.forceBlurFlag=!0,this.isMounted()&&(this.$dom.find(":focus").blur(),this.setState({isOpen:!1}),this.props.onGlobalChangeStatus&&this.props.onGlobalChangeStatus(!1))},_gFocus:function(){this.windowBlur=!1},_changeWidth:function(props){var dropControl=_reactDom2["default"].findDOMNode(this.refs.dropDownControl),$drop=(0,_jquery2["default"])(dropControl),_position=$drop.position(),_offset=$drop.offset(),dropHeight=$drop.outerHeight(!1),_currentWidth=$drop.find(":first-child").outerWidth(!1);this.menuStyle={position:"fixed",height:props.isFixedHeight?props.menuHeight:"auto",maxHeight:props.menuHeight+1,width:Math.max(_currentWidth,props.menuWidth||0),left:Math.ceil(_position.left+_offset.left+(props.currentOffsetLeft||0))};var _windowSize=(0,_MGUtil.getWindowSize)();"rtl"===props.direction&&(delete this.menuStyle.left,this.menuStyle.right=_windowSize.width-_position.left-_offset.left-this.menuStyle.width),(props.isRightAlign||this.menuStyle.width+_position.left+_offset.left>=_windowSize.width)&&(delete this.menuStyle.left,this.menuStyle.right=_windowSize.width-(_position.left+_offset.left+_currentWidth+2));var _top=_position.top+_offset.top+dropHeight;_top+props.menuHeight>=_windowSize.height?(this.menuStyle=(0,_lodash.assign)({},this.menuStyle,{top:"auto",bottom:_windowSize.height-_position.top-_offset.top+(props.menuGap||0),maxHeight:Math.min(props.menuHeight,_position.top+_offset.top-10)+1}),this.menuDirection="btt"):(this.menuDirection="ttb",this.menuStyle.top=_top-1+(props.menuGap||0))},doOpen:function(){if(this.forceBlurFlag=!0,window.mkDropDownBinder[this.identityCode]||(window.mkDropDownBinder[this.identityCode]={resize:this.debouceForce,blur:this._gBlur,focus:this._gFocus,scrollStop:this.throttleForce}),this.windowBlur)return!1;if(this.isMounted()){var props=this.props;this._changeWidth(props),this.setState({isOpen:!0})}return!0},doClose:function(isNoBlur){return!this.windowBlur&&(isNoBlur||this.$dom.find(":focus").blur(),this.isMounted()&&this.setState({isOpen:!1}),!0)},render:function(){var props=this.props,state=this.state,_classPrefix=this.props.classPrefix,_dropDownClass={cp_dropDown:!0,is_open:state.isOpen};_classPrefix&&(_dropDownClass[_classPrefix+"_iDropDown"]=!0),props.className&&_lodash2["default"].forEach(props.className.split(" "),function(_class){_class&&(_dropDownClass[_class]=!0)});var _menu=null;return state.isOpen&&props.dropDownChild&&("[object Array]"===Object.prototype.toString.call(props.dropDownChild)&&"btt"===this.menuDirection&&(props.dropDownChild=props.dropDownChild.reverse()),_menu=_react2["default"].createElement("div",{className:"cp_dropDownMenuWrapper",ref:"menuWrapper",key:"menuWrapper",style:this.menuStyle},props.dropDownChild)),_react2["default"].createElement(_LegoAnimationGroup2["default"],{component:"div",className:(0,_classnames2["default"])(_dropDownClass,"lg_dropdown"),transitionName:"dropTransition",enterTimeout:200,leaveTimeout:200,onMouseDown:props.onMouseDown},_react2["default"].createElement("div",{className:"cp_dropDownTrigger",ref:"dropDownControl",key:"trigger",onMouseDown:props.onMouseDown},props.children,_react2["default"].createElement("div",{className:"clearB"})),_menu)}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){(function($){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_LegoScrollQ=__webpack_require__(81),_LegoScrollQ2=_interopRequireDefault(_LegoScrollQ),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin);exports["default"]=_react2["default"].createClass({displayName:"Lego.List.react",mixins:[_reactAddonsPureRenderMixin2["default"]],propTypes:{className:_react2["default"].PropTypes.string,classPrefix:_react2["default"].PropTypes.string,name:_react2["default"].PropTypes.string,style:_react2["default"].PropTypes.object,hasSubtitle:_react2["default"].PropTypes.bool,icon:_react2["default"].PropTypes.string,data:_react2["default"].PropTypes.array,defaultValue:_react2["default"].PropTypes.any,value:_react2["default"].PropTypes.string,onSelect:_react2["default"].PropTypes.func},getInitialState:function(){var _selected=this.props.defaultValue||this.props.value;return{hovered:_selected!==!1&&void 0!==_selected&&_selected,selected:_selected!==!1&&void 0!==_selected&&_selected,className:""}},_domRectGetter:function($ui){if($ui.length>0){var _offset=$ui.offset(),_width=$ui.outerWidth(!0),_height=$ui.outerHeight(!0);return $ui=null,{top:_offset.top,bottom:_offset.top+_height,left:_offset.left,right:_offset.left+_width,width:_width,height:_height}}return!1},componentDidMount:function(){var menuWrapper=this._getWrapper();if(menuWrapper&&this.refs.focus){var _focusRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.focus))),_listRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.menu)));if(_focusRect&&_listRect&&(_focusRect.bottom<_listRect.bottom||_focusRect.top>_listRect.top)){var _position=_focusRect.top-_listRect.top-_focusRect.height<0?0:_focusRect.top-_listRect.top-_focusRect.height;menuWrapper.doScrollPositionY(_position,0)}}},componentDidUpdate:function(){var menuWrapper=this._getWrapper();if(this.focusedOptionReveal){this.focusedOptionReveal=!1;var _focusRect=void 0,_listRect=void 0;if(this.refs.focus&&(_focusRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.focus)))),this.refs.menu&&(_listRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.menu)))),_focusRect&&_listRect&&(_focusRect.bottom<_listRect.bottom||_focusRect.top>_listRect.top)){var _position=_focusRect.top-_listRect.top-_focusRect.height<0?0:_focusRect.top-_listRect.top-_focusRect.height;menuWrapper.doScrollPositionY(_position,0)}}},componentWillUnmount:function(){},_getWrapper:function(){return this.refs.menuWrapper},handleOptionFocus:function(e){var target=e.currentTarget,_hoveredId=target.getAttribute("data-value");this.setState({hovered:_hoveredId})},handleOptionBlur:function(){this.setState({hovered:!1})},handleOptionRemove:function(id,e){e.preventDefault(),e.stopPropagation(),this.props.onRemove&&this.props.onRemove(e,id)},handleSelect:function(isDisabled,e){e.preventDefault(),e.stopPropagation();var target=e.currentTarget,_selectedId=target.getAttribute("data-value");isDisabled?this.props.onClickDisabled&&this.props.onClickDisabled(e,_selectedId):(this.setState({selected:_selectedId}),this.props.onSelect&&this.props.onSelect(e,_selectedId))},_findIndex:function(info){return info?(0,_lodash2["default"])(this.props.data).map(function(v){return{id:""+v.id}}).findIndex({id:""+info}):-1},_focusOption:function(dir){var state=this.state,list=this.props.data;this.focusedOptionReveal=!0;var _newFocusIdx=-1;if(list.length>0){var _focusedIndex=this._findIndex(state.hovered);if(state.selected&&_focusedIndex===-1&&(_focusedIndex=this._findIndex(state.selected)),_focusedIndex>-1){switch(dir){case"next":_newFocusIdx=_focusedIndex<list.length-1?""+list[_focusedIndex+1].id:""+list[0].id;break;case"prev":_newFocusIdx=_focusedIndex>0?""+list[_focusedIndex-1].id:""+list[list.length-1].id;break;case"first":_newFocusIdx=""+list[0].id;break;case"last":_newFocusIdx=""+list[list.length-1].id}this.setState({hovered:_newFocusIdx})}else this.setState({hovered:""+list[0].id})}},doPrev:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("prev")},doNext:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("next")},doFirst:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("first")},doLast:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("last")},doSelect:function(e){this.setState({selected:this.state.hovered}),this.props.onSelect&&this.props.onSelect(e,this.state.hovered)},doHasHover:function(){return this.state.hovered!==!1&&this.state.hovered!==-1},handleScroll:function(){var _c="";this.isMounted()&&(this.refs.menuWrapper.isScrollTop()||(_c="cp_menuShadow"),this.setState({className:_c}))},renderItem:function(itemInfo,i){var props=this.props,state=this.state,_image={};itemInfo.withImage&&(_image={backgroundImage:"url("+itemInfo.withImage+")"});var _icon=null,_title=_react2["default"].createElement("div",{className:"is-title",title:itemInfo.tips||itemInfo.title,key:"item"+i+"title",style:_image},itemInfo.title),_subtitle=null;props.hasSubtitle&&itemInfo.subtitle&&(_subtitle=_react2["default"].createElement("div",{className:"is-subtitle",title:itemInfo.subtitle,key:"item"+i+"subtitle"},itemInfo.subtitle)),itemInfo.icon&&(_icon=_react2["default"].createElement("i",{className:"iconfont is-icon",key:"item"+i+"icon"},itemInfo.icon)),itemInfo.imgPosition&&(_icon=_react2["default"].createElement("i",{className:"is-image",key:"item"+i+"icon",style:{backgroundPosition:itemInfo.imgPosition}}));var _itemId=""+itemInfo.id,_optionClass={"is-focus":state.hovered===_itemId,cp_dropDownOption:!0,"is-preValue":""+state.selected==""+_itemId,hasSubtitle:props.hasSubtitle&&itemInfo.subtitle,hasRemove:props.isRemove,hasIcon:itemInfo.icon,hasBgImage:itemInfo.imgPosition,withImage:itemInfo.withImage,"is-disabled":itemInfo.isDisabled};itemInfo.className&&(_optionClass[itemInfo.className]=!0);var _optionProps={key:"item"+i,className:(0,_classnames2["default"])(_optionClass),onMouseEnter:this.handleOptionFocus,onMouseLeave:this.handleOptionBlur,onMouseDown:this.handleSelect.bind(this,itemInfo.isDisabled),"data-value":_itemId};state.selected===_itemId&&(_optionProps.ref="focus"),state.hovered===_itemId&&(_optionProps.ref="focus");var _removeIcon=null;return props.isRemove&&(_removeIcon=_react2["default"].createElement("a",{className:"iconfont is-remove",key:"item"+i+"remove",onMouseDown:this.handleOptionRemove.bind(this,_itemId)},String.fromCharCode(58982))),_react2["default"].createElement("div",_optionProps,[_icon,_title,_subtitle,_removeIcon])},render:function(){var props=this.props,list=props.data||[],_classPrefix=props.classPrefix,_style=props.style||{};_style.maxHeight=props.menuHeight,_style.position="relative";var _wrapperClass={cp_menuWrapper:!0,"lg-list":!0};return props.className&&props.className.split(" ").forEach(function(v){v&&(_wrapperClass[v]=!0)}),_classPrefix&&(_wrapperClass[_classPrefix+"_menuWrapper"]=!0),_react2["default"].createElement(_LegoScrollQ2["default"],{component:"div",className:(0,_classnames2["default"])(_wrapperClass,this.state.className),ref:"menuWrapper",style:_style,options:{wheelLock:!0,innerPosition:"relative"},onScroll:this.handleScroll,edgePropagation:!1},_react2["default"].createElement("div",{className:"cp_dropDownMenu",ref:"menu"},list.map(this.renderItem)))}}),module.exports=exports["default"]}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),Scroll=null;Scroll=__webpack_require__(_MGUtil2["default"].fuzzyDeviceCheck?82:83),exports["default"]=Scroll,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),_LegoAnimationGroup=__webpack_require__(62),_LegoAnimationGroup2=_interopRequireDefault(_LegoAnimationGroup),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),rAF=(Date.now||function(){return+new Date},_MGUtil2["default"].rAF),rAF_cancel=_MGUtil2["default"].rAF_cancel,componentId=1118,ScrollM=_react2["default"].createClass({displayName:"ScrollM",getInitialState:function(){this.body=(0,_jquery2["default"])("body"),this.options={},_lodash2["default"].assign(this.options,this.props.options);do this.id="mklgscrollcom"+componentId++;while(document.getElementById(this.id));return this.delayList={},this.syncList={},this.onSync=!1,{enable:!0,stateUpdateCounter:0}},shouldComponentUpdate:function(nextProps,nextState){return _react2["default"].Children.count(nextProps.children)!==_react2["default"].Children.count(this.props.children)||_reactAddonsPureRenderMixin2["default"].shouldComponentUpdate.call(this,nextProps,nextState)},componentDidMount:function(){this.$window=(0,_jquery2["default"])(window),this.doEnable(),this.init(),this.debouncedElementUpdate()},componentDidUpdate:function(){var _this=this;this.synched("update",function(){_this.debouncedElementUpdate(),_this.afterUpdate&&(_this.afterUpdate(),_this.afterUpdate=!1),_this.isScrollEndTrigger&&(_this.scrollEndCallback&&(_this.scrollEndCallback(),_this.scrollEndCallback=!1),_this.isScrollEndTrigger=!1)})},componentWillUnmount:function(){this.doDisable(),this.release()},init:function(){this.wrapper=_reactDom2["default"].findDOMNode(this.refs.wrapper),this.$wrapper=(0,_jquery2["default"])(this.wrapper),this.scroller=_reactDom2["default"].findDOMNode(this.refs.scroller),this.$scroller=(0,_jquery2["default"])(this.scroller),this.scrollerStyle=this.scroller.style,this.wrapper.style.outline="none",this.scrollerStyle.outline="none",this.wrapper.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.wrapper.style.webkitTouchCallout="none",this.wrapper.style.webkitBackfaceVisibility="hidden"},release:function(){var _this2=this;_lodash2["default"].forEach(this.delayList,function(fn,name){_this2.unDebounced(name)}),this.delayList={},this.clearSync(),clearInterval(this.keepInPanelInterval)},doEnable:function(){this.setState({enable:!0})},doDisable:function(){this.setState({enable:!1})},doUpdate:function(){this.setState({stateUpdateCounter:(this.state.stateUpdateCounter+1)%1e3})},doScrollPositionY:function(y,time,delta){delta?this.doScrollBy(y,time):this.doScrollTo(y,time)},doScrollToY:function(y,time,delta){this.doScrollPositionY(y,time,delta)},doScrollTop:function(){this.$scroller.animate({scrollTop:0},200)},doScrollEnd:function(time){this.doScrollPosition(0,this.maxScrollY,time)},doScrollToElement:function(elem,time,callback){(0,_jquery2["default"])(elem);this.scrollEndCallback=!1},isScrollEnd:function(){return this.$scroller.scrollTop()===this.maxScrollY},isScrollTop:function(){return 0===this.$scroller.scrollTop()},getInfo:function(){return{x:this.$scroller.scrollLeft(),y:this.$scroller.scrollTop(),maxScrollX:this.maxScrollX,maxScrollY:this.maxScrollY,wrapperHeight:this.scrollerHeight,contentHeight:this.scrollerAllHeight,wrapperWidth:this.scrollerWidth,contentWidth:this.scrollerAllWidth,target:this.wrapper}},doScrollBy:function(stp){this.doScrollTo(Math.max(0,Math.min(this.maxScrollY,this.$scroller.scrollTop()-stp)))},doScrollTo:function(y,spd){this.doScrollPosition(0,y,spd)},debouncedElementUpdate:function(){var _this3=this;this.debounced("refresh",function(){_this3.refresh()},30)},doScrollPosition:function(x,y,spd){var newX=Math.max(0,Math.min(this.maxScrollX,x)),newY=Math.max(0,Math.min(this.maxScrollY,y));spd?this.$scroller.animate({scrollTop:newY,scrollLeft:newX},spd):this.$scroller.scrollLeft(newX).scrollTop(newY)},cancelScroll:function(){this.timer&&rAF_cancel(this.timer),this.timer=0},refresh:function(){var $wrapper=this.$wrapper,$scroller=this.$scroller,currentMaxHeight=$wrapper.css("maxHeight"),currentMinHeight=$wrapper.css("minHeight"),_needSetScrollInfo={};currentMaxHeight&&"none"!==currentMaxHeight&&this.scrollerMaxHeight!==currentMaxHeight&&(_needSetScrollInfo.maxHeight=currentMaxHeight,this.scrollerMaxHeight=currentMaxHeight),currentMinHeight&&"none"!==currentMinHeight&&this.scrollMinHeight!==currentMinHeight&&(_needSetScrollInfo.minHeight=currentMinHeight,this.scrollMinHeight=currentMinHeight),this.wrapperWidth=this.wrapper.clientWidth||this.scroller.clientWidth,this.wrapperHeight=this.wrapper.clientHeight||this.scroller.clientHeight,this.wrapperOffset=$wrapper.offset(),this.wrapperPaddingHeight=parseInt($wrapper.css("padding-top"),10)+parseInt($wrapper.css("padding-bottom"),10),this.wrapperPaddingWidth=parseInt($wrapper.css("padding-left"),10)+parseInt($wrapper.css("padding-right"),10),_lodash2["default"].isEmpty(_needSetScrollInfo)||$scroller.css(_needSetScrollInfo),isNaN(this.wrapperPaddingWidth)&&(this.wrapperPaddingWidth=0),isNaN(this.wrapperPaddingHeight)&&(this.wrapperPaddingHeight=0),this.scrollerWidth=this.wrapper.clientWidth-this.wrapperPaddingWidth,this.scrollerHeight=this.wrapper.clientHeight-this.wrapperPaddingHeight,this.scrollerAllWidth=this.scroller.scrollWidth,this.scrollerAllHeight=this.scroller.scrollHeight,this.maxScrollX=this.scrollerAllWidth-this.scrollerWidth,this.maxScrollY=this.scrollerAllHeight-this.scrollerHeight},debounced:function(name,fn,tm){var self=this,dd=self.delayList[name];self.delayList[name]=fn,dd||setTimeout(function(){var fn=self.delayList[name];fn&&(self.delayList[name]=!1,fn.call(self))},tm)},unDebounced:function(name){this.delayList[name]&&(this.delayList[name]=!1)},synched:function(name,fn){function requestSync(){self.onSync||(self.onSync=rAF(function(){for(var nn in self.syncList){var fn=self.syncList[nn];fn&&fn.call(self),self.syncList[nn]=!1}rAF_cancel(self.onSync),self.onSync=!1}))}var self=this;return self.syncList[name]=fn,requestSync(),name},unSynched:function(name){this.syncList[name]&&(this.syncList[name]=!1)},clearSync:function(){rAF_cancel(this.onSync),this.syncList={}},handleContainerScroll:function(e){var _this4=this;this.options.wheelLock&&(e.stopPropagation(),e.preventDefault()),this.synched("scroll",function(){_this4.props.onScroll&&_this4.props.onScroll(_this4.getInfo()),_this4.debounced("scrollEndTrigger",function(){_this4.$window.trigger("lgScroll",{_scroll:_this4.$wrapper})},80)})},render:function(){var _props=this.props,component=_props.component,isAnimate=(_props.options,_props.onScroll,_props.isAnimate),className=_props.className,style=_props.style,extContentStyle=_props.extContentStyle,children=_props.children,extProps=_objectWithoutProperties(_props,["component","options","onScroll","isAnimate","className","style","extContentStyle","children"]),Component=component||"div",Content=isAnimate?Component:null,Animate=isAnimate?_LegoAnimationGroup2["default"]:Component,wrapperProps={style:_lodash2["default"].assign({overflow:"hidden",outline:"none"},style),className:(0,_classnames2["default"])(className,"lg_scroll")},contentStyle=_lodash2["default"].assign({width:"100%",height:"100%",overflowX:"hidden",overflowY:this.state.enable?"auto":"hidden",position:this.options.innerPosition||"absolute",WebkitOverflowScrolling:"touch"},extContentStyle);return _react2["default"].createElement("div",_extends({ref:"wrapper"},wrapperProps,{id:this.id}),_react2["default"].createElement(Animate,_extends({},extProps,{component:Content,key:"scrollContent",ref:"scroller",style:contentStyle,onScroll:this.handleContainerScroll}),children,_react2["default"].createElement("div",{className:"clearB"})))}});exports["default"]=ScrollM,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function typeInit(type){
  var typeIdx=evtType.indexOf(type);if(typeIdx>-1){if(typeIdx<3)return 1;if(typeIdx<6)return 2;if(typeIdx<9)return 3}return!1}function getBrowserDetection(){function detectCursorGrab(){var lst=["-webkit-grab","-moz-grab","grab"];(d.ischrome&&!d.ischrome22||d.isie)&&(lst=[]);for(var a=0;a<lst.length;a++){var p=lst[a];if(_style.cursor=p,_style.cursor==p)return p}return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}if(browserdetected)return browserdetected;var _el=document.createElement("DIV"),_style=_el.style,_agent=navigator.userAgent,_platform=navigator.platform,d={};d.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,d.isopera="opera"in window,d.isopera12=d.isopera&&"getUserMedia"in navigator,d.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),d.isie="all"in document&&"attachEvent"in _el&&!d.isopera,d.isieold=d.isie&&!("msInterpolationMode"in _style),d.isie7=d.isie&&!d.isieold&&(!("documentMode"in document)||7==document.documentMode),d.isie8=d.isie&&"documentMode"in document&&8==document.documentMode,d.isie9=d.isie&&"performance"in window&&document.documentMode>=9,d.isie10=d.isie&&"performance"in window&&10==document.documentMode,d.isie11="msRequestFullscreen"in _el&&document.documentMode>=11,d.isie9mobile=/iemobile.9/i.test(_agent),d.isie9mobile&&(d.isie9=!1),d.isie7mobile=!d.isie9mobile&&d.isie7&&/iemobile/i.test(_agent),d.ismozilla="MozAppearance"in _style,d.iswebkit="WebkitAppearance"in _style,d.ischrome="chrome"in window,d.ischrome22=d.ischrome&&d.haspointerlock,d.ischrome26=d.ischrome&&"transition"in _style,d.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,d.hasmstouch=window.MSPointerEvent||!1,d.hasw3ctouch=window.PointerEvent||!1,d.ismac=/^mac$/i.test(_platform),d.isios=d.cantouch&&/iphone|ipad|ipod/i.test(_platform),d.isios4=d.isios&&!("seal"in Object),d.isios7=d.isios&&"webkitHidden"in document,d.isandroid=/android/i.test(_agent),d.haseventlistener="addEventListener"in _el,d.trstyle=!1,d.hastransform=!1,d.hastranslate3d=!1,d.transitionstyle=!1,d.hastransition=!1,d.transitionend=!1;var a,check=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(a=0;a<check.length;a++)if("undefined"!=typeof _style[check[a]]){d.trstyle=check[a];break}d.hastransform=!!d.trstyle,d.hastransform&&(_style[d.trstyle]="translate3d(1px,2px,3px)",d.hastranslate3d=/translate3d/.test(_style[d.trstyle])),d.transitionstyle=!1,d.prefixstyle="",d.transitionend=!1,check=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var prefix=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],evs=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(a=0;a<check.length;a++)if(check[a]in _style){d.transitionstyle=check[a],d.prefixstyle=prefix[a],d.transitionend=evs[a];break}return d.ischrome26&&(d.prefixstyle=prefix[1]),d.hastransition=d.transitionstyle,d.cursorgrabvalue=detectCursorGrab(),d.hasmousecapture="setCapture"in _el,d.hasMutationObserver=!1,_el=null,browserdetected=d,d}function _removeIdentity(){_lodash2["default"].isEmpty(window.mkScrollRemoveList)||(window.mkScrollEventList=_lodash2["default"].difference(window.mkScrollEventList,window.mkScrollRemoveList),_lodash2["default"].forEach(window.mkScrollRemoveList,function(_id){window.mkScrollBinder[_id]&&delete window.mkScrollBinder[_id]}),window.mkScrollEventList&&0===window.mkScrollEventList.length?((0,_jquery2["default"])(document).off(".mkScrollGlobal"),window.mkScrollEventList=null,window.mkScrollBinder=null,window.mkScrollRemoveList=null):window.mkScrollRemoveList=[])}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_LegoAnimationGroup=__webpack_require__(62),_LegoAnimationGroup2=_interopRequireDefault(_LegoAnimationGroup),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),getTime=Date.now||function(){return+new Date},BezierClass=function(st,ed,spd,p1,p2,p3,p4){this.st=st,this.ed=ed,this.spd=spd,this.p1=p1||0,this.p2=p2||1,this.p3=p3||0,this.p4=p4||1,this.ts=getTime(),this.df=this.ed-this.st};BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var nw=getTime(),pc=1-(nw-this.ts)/this.spd,bz=this.B2(pc)+this.B3(pc)+this.B4(pc);return pc<0?this.ed:this.st+Math.round(this.df*bz)},update:function(ed,spd){return this.st=this.getNow(),this.ed=ed,this.spd=spd,this.ts=getTime(),this.df=this.ed-this.st,this}};var evtType=["touchstart","touchmove","touchend","mousedown","mousemove","mouseup","MSPointerDown","MSPointerMove","MSPointerUp"],rAF=_MGUtil2["default"].rAF,rAF_cancel=_MGUtil2["default"].rAF_cancel,browserdetected=!1,componentId=914,removeEventIdentity=_lodash2["default"].debounce(_removeIdentity,100),_defaultOptions={shownOnMouseEvent:!0,useVirtualScroll:!1,railHideDelay:1500,useTransition:!1,needX:!1,needY:!0,scrollGap:2,minBarHeight:20,wheelLock:!1,mouseScrollStep:25.6,scrollSpeed:60,size:6,railBorderRadius:3,railColor:"#ccc",railOpacity:.5,borderRadius:3,color:"#222",opacity:1,distance:2,innerPosition:null},Scroll=_react2["default"].createClass({displayName:"Lego.Scroll.Q",getInitialState:function(){this.options={},_lodash2["default"].assign(this.options,_defaultOptions,this.props.options),this.body=(0,_jquery2["default"])("body"),this.viewport=!1,this.iframe=!1,this.forceScreen=!1,this.canShownOnMouseEvent=this.options.shownOnMouseEvent||!0,this.enable=!0,this.scroll={x:0,y:0};do this.id="mklgscrollcom"+componentId++;while(document.getElementById(this.id));return this.cursorHeight=20,this.scrollValueMax=0,this.scrollRunning=!1,this.scrollMom=!1,this.rail={},this.cursor=!1,this.cursorFreezed=!1,this.selectionDrag=!1,this.hasFocus=!1,this.hasMouseFocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursorActive=!0,this.wheelPrevented=!1,this.overflowX=!0,this.overflowY=!0,this.delayList={},this.syncList={},this.x=0,this.y=0,this.lastDeltaX=0,this.lastDeltaY=0,this.detected=_lodash2["default"].assign({},getBrowserDetection()),this.canHardWareAcceleration=this.detected.hastransform&&this.options.useVirtualScroll,this.isTouchCapable=!1,!this.detected.cantouch||this.detected.isios||this.detected.isandroid||!this.detected.iswebkit&&!this.detected.ismozilla||(this.isTouchCapable=!0),this.onSync=!1,{stateUpdateCounter:0,scrollBarHStyle:{},scrollBarVStyle:{}}},shouldComponentUpdate:function(nextProps,nextState){return _react2["default"].Children.count(nextProps.children)!==_react2["default"].Children.count(this.props.children)||_reactAddonsPureRenderMixin2["default"].shouldComponentUpdate.call(this,nextProps,nextState)},componentWillMount:function(){this.handleDomResizeDebounce=_lodash2["default"].debounce(this.handleDomResize,48),this._hideBarDebounce=_lodash2["default"].debounce(this._hideBar,this.options.railHideDelay),this.doUpdate=_lodash2["default"].debounce(this._doUpdate,32)},componentDidMount:function(){this.doEnable(),this.init(),this.debouncedElementUpdate();var $document=(0,_jquery2["default"])(document);window.mkScrollEventList||(window.mkScrollEventList=[],window.mkScrollBinder={},window.mkScrollRemoveList=[],$document.on("keydown.mkScrollGlobal",function(e){_lodash2["default"].forEach(window.mkScrollBinder,function(func,key){func&&func.keypress&&func.keypress(e)})})),window.mkScrollBinder[this.id]={keypress:this.handleKeyPress},window.mkScrollEventList.push(this.id)},componentDidUpdate:function(){var _this=this;this.synched("update",function(){_this.debouncedElementUpdate(),_this.afterUpdate&&(_this.afterUpdate(),_this.afterUpdate=!1),_this.isScrollEndTrigger&&(_this.scrollEndCallback&&(_this.scrollEndCallback(),_this.scrollEndCallback=!1),_this.isScrollEndTrigger=!1)})},componentWillUnmount:function(){this.doDisable(),this.release(),window.mkScrollRemoveList.push(this.id),removeEventIdentity()},doEnable:function(){this.enable=!0},doDisable:function(){this.enable=!1},_doUpdate:function(cb){this.isMounted()&&(this.setState({stateUpdateCounter:(this.state.stateUpdateCounter+1)%1e3}),this.afterUpdate=cb)},doScrollPositionY:function(y,time,delta){delta?this.doScrollBy(y,time):this.doScrollTo(y,time)},doScrollToY:function(y,time,delta){this.doScrollPositionY(y,time,delta)},doScrollTop:function(time){this.doScrollPosition(this.x,0,time/1e3)},doScrollEnd:function(time){var _this2=this;this._doUpdate(function(){_this2.doScrollPosition(_this2.x,_this2.maxScrollY,time/1e3)})},doScrollToElement:function(elem){var time=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments[2],$elem=(0,_jquery2["default"])(elem);if(this.scrollEndCallback=!1,this.x=this.getScrollLeft(),this.y=this.getScrollTop(),this.debouncedElementUpdate(),this.$wrapper.find($elem).length>0){var relativePos=$elem.position();$elem.height(),$elem.width();relativePos.left=Math.max(relativePos.left+this.x-this.wrapperOffset.left,0)+20,relativePos.top=Math.max(relativePos.top+this.y-this.wrapperOffset.top,0)+20;var newX=void 0,newY=void 0;newX=relativePos.left,newY=relativePos.top,this.hasHorizontalScroll&&(newX<this.x||newX>this.x+this.wrapperWidth-this.wrapperPaddingWidth)||(newX=this.x),this.hasVerticalScroll&&(newY<this.y||newY>this.y+this.wrapperHeight-this.wrapperPaddingHeight)||(newY=this.y),this.scrollEndCallback=callback;var forceUpdate=!1;newY!==this.y||newX!==this.x?this.doScrollPosition(newX,newY,time/1e3)&&(forceUpdate=!0):forceUpdate=!0,forceUpdate&&(this.isScrollEndTrigger=!0,this.setState({stateUpdateCounter:this.state.stateUpdateCounter+1}))}},isScrollEnd:function(){return!this.hasVerticalScroll||this.y===this.maxScrollY},isScrollTop:function(){return 0===this.y},getInfo:function(){return{x:this.x,y:this.y,maxScrollX:this.maxScrollX,maxScrollY:this.maxScrollY,wrapperHeight:this.scrollerHeight,contentHeight:this.scrollerAllHeight,wrapperWidth:this.scrollerWidth,contentWidth:this.scrollerAllWidth,target:this.wrapper}},debounced:function(name,fn,tm){var self=this,dd=self.delayList[name];self.delayList[name]=fn,dd||setTimeout(function(){var fn=self.delayList[name];fn&&(self.delayList[name]=!1,fn.call(self))},tm)},unDebounced:function(name){this.delayList[name]&&(this.delayList[name]=!1)},synched:function(name,fn){function requestSync(){self.onSync||(self.onSync=rAF(function(){for(var nn in self.syncList){var fn=self.syncList[nn];fn&&fn.call(self),self.syncList[nn]=!1}rAF_cancel(self.onSync),self.onSync=!1}))}var self=this;return self.syncList[name]=fn,requestSync(),name},unSynched:function(name){this.syncList[name]&&(this.syncList[name]=!1)},clearSync:function(){rAF_cancel(this.onSync),this.syncList={}},init:function(){this.wrapper=_reactDom2["default"].findDOMNode(this.refs.wrapper),this.$wrapper=(0,_jquery2["default"])(this.wrapper),this.scroller=_reactDom2["default"].findDOMNode(this.refs.scroller),this.$scroller=(0,_jquery2["default"])(this.scroller),this.scrollerStyle=this.scroller.style,this.railHorizontal=_reactDom2["default"].findDOMNode(this.refs.railHorizontal),this.barHorizontal=_reactDom2["default"].findDOMNode(this.refs.horizontal),this.horizontalStyle=(this.barHorizontal||{}).style,this.railVertical=_reactDom2["default"].findDOMNode(this.refs.railVertical),this.barVertical=_reactDom2["default"].findDOMNode(this.refs.vertical),this.verticalStyle=(this.barVertical||{}).style,this.wrapper.style.outline="none",this.scrollerStyle.outline="none",this.detected.isios&&(this.wrapper.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.wrapper.style.webkitTouchCallout="none",this.detected.hastranslate3d&&(this.wrapper.style.webkitBackfaceVisibility="hidden")),this.bindDomEvent()},bindDomEvent:function(){var _this3=this;if(this.$window=(0,_jquery2["default"])(window),this.$window.on("resize."+this.id,this.handleDomResizeDebounce).on("orientationchange."+this.id,this.handleDomResizeDebounce),this.canHardWareAcceleration&&this.options.useTransition&&this.$scroller.bind(this.detected.transitionend+"."+this.id,this.handleDomTransitionEnd),"onwheel"in document)this.$scroller.bind("wheel."+this.id,this.handleDomWheel);else{var wname="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll";this.$scroller.bind(wname+"."+this.id,this.handleDomWheel)}navigator.vendor&&(navigator.vendor||"").match(/maxthon/gi)&&this.$scroller.bind("mousewheel."+this.id,this.handleDomWheel),this.$wrapper.bind("scroll.wrapper"+this.id,this.handleDomOnScroll).bind("focus.wrapper"+this.id,this.handleDomSelection).bind("focusin.wrapper"+this.id,this.handleDomSelection);var lockMouseEvent=function(e){(_this3.scrollRunning||_this3.isWheelPending)&&(e.stopPropagation(),e.preventDefault())};this.$scroller.bind("mouseover."+this.id,lockMouseEvent).bind("mouseout."+this.id,lockMouseEvent)},unbindDomEvent:function(){this.$scroller||(this.scroller=_reactDom2["default"].findDOMNode(this.refs.scroller),this.$scroller=(0,_jquery2["default"])(this.scroller)),this.$scroller.unbind("."+this.id),this.$wrapper||(this.wrapper=_reactDom2["default"].findDOMNode(this.refs.wrapper),this.$wrapper=(0,_jquery2["default"])(this.wrapper)),this.$wrapper.unbind(".wrapper"+this.id)},release:function(){var _this4=this;this.unbindDomEvent(),_lodash2["default"].forEach(this.delayList,function(fn,name){_this4.unDebounced(name)}),this.delayList={},this.clearSync(),clearInterval(this.keepInPanelInterval),this.scrollMom=null},debouncedElementUpdate:function(){var _this5=this;this.debounced("refresh",function(){_this5.refresh(),_this5.doUpdateScrollBar()},30)},refresh:function(){var $wrapper=this.$wrapper,$scroller=this.$scroller,currentMaxHeight=$wrapper.css("maxHeight"),currentMinHeight=$wrapper.css("minHeight"),_needSetScrollInfo={};currentMaxHeight&&"none"!==currentMaxHeight&&this.scrollerMaxHeight!==currentMaxHeight&&(_needSetScrollInfo.maxHeight=currentMaxHeight,this.scrollerMaxHeight=currentMaxHeight),currentMinHeight&&"none"!==currentMinHeight&&this.scrollMinHeight!==currentMinHeight&&(_needSetScrollInfo.minHeight=currentMinHeight,this.scrollMinHeight=currentMinHeight),this.wrapperWidth=this.wrapper.clientWidth||this.scroller.clientWidth,this.wrapperHeight=this.wrapper.clientHeight||this.scroller.clientHeight,this.wrapperOffset=$wrapper.offset(),this.wrapperPaddingHeight=parseInt($wrapper.css("padding-top"),10)+parseInt($wrapper.css("padding-bottom"),10),this.wrapperPaddingWidth=parseInt($wrapper.css("padding-left"),10)+parseInt($wrapper.css("padding-right"),10),_lodash2["default"].isEmpty(_needSetScrollInfo)||$scroller.css(_needSetScrollInfo),this.contentMarginWidth=0,this.contentMarginHeight=0,isNaN(this.wrapperPaddingWidth)&&(this.wrapperPaddingWidth=0),isNaN(this.wrapperPaddingHeight)&&(this.wrapperPaddingHeight=0),this.scrollerWidth=this.wrapper.clientWidth-this.wrapperPaddingWidth,this.scrollerHeight=this.wrapper.clientHeight-this.wrapperPaddingHeight,this.scrollerAllWidth=this.scroller.scrollWidth,this.scrollerAllHeight=this.scroller.scrollHeight,this.maxScrollX=this.scrollerAllWidth-this.scrollerWidth,this.maxScrollY=this.scrollerAllHeight-this.scrollerHeight,this.hasHorizontalScroll=this.maxScrollX>0&&this.options.needX,this.hasVerticalScroll=this.maxScrollY>0&&this.options.needY;var newX=this.x,newY=this.y;this.hasHorizontalScroll?(this.barWidth=Math.max(Math.round(this.scrollerWidth/this.scrollerAllWidth*(this.wrapperWidth-2*this.options.scrollGap)),10),this.maxBarScrollX=this.wrapperWidth-2*this.options.scrollGap-this.barWidth,newX<0?newX=0:newX>this.maxScrollX&&(newX=this.maxScrollX)):(this.maxScrollX=0,newX=0,this.scrollerAllWidth=this.wrapperWidth),this.hasVerticalScroll?(this.barHeight=Math.max(Math.round(this.scrollerHeight/this.scrollerAllHeight*(this.wrapperHeight-2*this.options.scrollGap)),this.options.minBarHeight),this.maxBarScrollY=this.wrapperHeight-2*this.options.scrollGap-this.barHeight,newY<0?newY=0:newY>this.maxScrollY&&(newY=this.maxScrollY)):(this.maxScrollY=0,newY=0,this.scrollerAllHeight=this.wrapperHeight),this.x===newX&&this.y===newY||(this.doScrollPosition(newX,newY,0),this.x=newX,this.y=newY);var currentScrollBarHStyle=this.state.scrollBarHStyle,currentScrollBarVStyle=this.state.scrollBarVStyle,_newState={};this.hasVerticalScroll&&currentScrollBarVStyle.height!==this.barHeight?_newState.scrollBarVStyle=_lodash2["default"].assign({},currentScrollBarVStyle,{height:this.barHeight}):this.hasVerticalScroll||_lodash2["default"].isEmpty(currentScrollBarVStyle)||(_newState.scrollBarVStyle={}),this.hasHorizontalScroll&&currentScrollBarHStyle.height!==this.barWidth?_newState.scrollBarHStyle=_lodash2["default"].assign({},currentScrollBarHStyle,{width:this.barWidth}):this.hasHorizontalScroll||_lodash2["default"].isEmpty(currentScrollBarHStyle)||(_newState.scrollBarHStyle={}),_lodash2["default"].isEmpty(_newState)||this.setState(_newState)},doTriggerWheelScroll:function(e){this.$scroller.trigger(e)},doScrollBy:function(stp){var newY=(this.timer?this.newScrollY:this.getScrollTop())-stp,trueY=this.getScrollTop();return!(newY<0&&trueY<=0)&&(!(newY>this.maxScrollY&&trueY>=this.maxScrollY)&&void this.doScrollTo(newY))},doScrollLeftBy:function(stp){},doScrollTo:function(y,spd){var x=this.scrollRunning?this.newScrollX:this.getScrollLeft();this.doScrollPosition(x,y,spd)},doUpdateScrollBar:function(){var _this6=this,percentScrollX=this.x/(this.scrollerAllWidth-this.scrollerWidth),percentScrollY=this.y/(this.scrollerAllHeight-this.scrollerHeight),scrollbarX=0,scrollbarY=0;this.hasHorizontalScroll&&(scrollbarX=Math.round(this.maxBarScrollX*percentScrollX),scrollbarX>this.maxBarScrollX?scrollbarX=this.maxBarScrollX:scrollbarX<0&&(scrollbarX=0)),this.hasVerticalScroll&&(scrollbarY=Math.round(this.maxBarScrollY*percentScrollY),scrollbarY>this.maxBarScrollY?scrollbarY=this.maxBarScrollY:scrollbarY<0&&(scrollbarY=0)),this.scrollbarX===scrollbarX&&this.scrollbarY===scrollbarY||(this.scrollbarX=scrollbarX,this.scrollbarY=scrollbarY,this.updateScrollBarTimer&&rAF_cancel(this.updateScrollBarTimer),this.updateScrollBarTimer=rAF(function(){var $horizontal=(0,_jquery2["default"])(_reactDom2["default"].findDOMNode(_this6.refs.horizontal)),$vertical=(0,_jquery2["default"])(_reactDom2["default"].findDOMNode(_this6.refs.vertical));$horizontal.css("left",_this6.scrollbarX),$vertical.css("top",_this6.scrollbarY),_this6.updateScrollBarTimer=!1}))},getScrollTop:function(){return this.$scroller.scrollTop()},setScrollTop:function(val){this.y=val,this.$scroller.scrollTop(val)},getScrollLeft:function(){return this.$scroller.scrollLeft()},setScrollLeft:function(val){this.x=val,this.$scroller.scrollLeft(val)},triggerScrollStart:function(){},triggerScroll:function(){this.$wrapper.trigger("scroll.wrapper"+this.id),this.$window.trigger("lgScroll",{_scroll:this.$wrapper})},triggerScrollEnd:function(){this.setState({stateUpdateCounter:(this.state.stateUpdateCounter+1)%1e3}),this.isScrollEndTrigger=!0},getTransitionSpeed:function(dif){var sp=Math.round(10*this.options.scrollSpeed),ex=Math.min(sp,Math.round(dif/20*this.options.scrollSpeed));return ex>20?ex:0},doScrollPosition:function(x,y,spd){function scroll(){if(self.cancelAnimationFrame)return!0;if(self.scrollRunning=!0,sync=1-sync)return self.timer=rAF(scroll)||1;var done=0,sx=void 0,sy=void 0,sc=sy=self.getScrollTop();if(self.dst.ay){sc=self.bzscroll?self.dst.py+self.bzscroll.getNow()*self.dst.ay:self.newScrollY;var dr=sc-sy;(dr<0&&sc<self.newScrollY||dr>0&&sc>self.newScrollY)&&(sc=self.newScrollY),self.setScrollTop(sc),sc==self.newScrollY&&(done=1)}else done=1;var scx=sx=self.getScrollLeft();if(self.dst.ax){scx=self.bzscroll?self.dst.px+self.bzscroll.getNow()*self.dst.ax:self.newScrollX;var _dr=scx-sx;(_dr<0&&scx<self.newScrollX||_dr>0&&scx>self.newScrollX)&&(scx=self.newScrollX),self.setScrollLeft(scx),scx==self.newScrollX&&(done+=1)}else done+=1;done>0&&(self.doUpdateScrollBar(),self.triggerScroll()),2==done?(self.timer=0,self.cursorFreezed=!1,self.bzscroll=!1,self.scrollRunning=!1,sc<0?sc=0:sc>self.maxScrollY&&(sc=self.maxScrollY),scx<0?scx=0:scx>self.maxScrollX&&(scx=self.maxScrollX),scx!=self.newScrollX||sc!=self.newScrollY?self.doScrollPosition(scx,sc):self.triggerScrollEnd()):self.timer=rAF(scroll)||1}if(!this.hasHorizontalScroll&&!this.hasVerticalScroll)return!0;if(this.timer&&this.newScrollY==y&&this.newScrollX==x)return!0;this.timer&&rAF_cancel(this.timer),this.timer=0;var py=this.getScrollTop(),px=this.getScrollLeft();((this.newScrollY-py)*(y-py)<0||(this.newScrollX-px)*(x-px)<0)&&this.cancelScroll(),this.newScrollX=x,this.newScrollY=y,this.hasHorizontalScroll?this.newScrollX<0?this.newScrollX=0:this.newScrollX>this.maxScrollX&&(this.newScrollX=this.maxScrollX):this.newScrollX=0,this.hasVerticalScroll?this.newScrollY<0?this.newScrollY=0:this.newScrollY>this.maxScrollY&&(this.newScrollY=this.maxScrollY):this.newScrollY=0,this.dst={x:x-px,y:y-py,px:px,py:py};var dst=Math.round(Math.sqrt(Math.pow(this.dst.x,2)+Math.pow(this.dst.y,2)));this.dst.ax=this.dst.x/dst,this.dst.ay=this.dst.y/dst;var pa=0,pe=dst;0===this.dst.x?(pa=py,pe=y,this.dst.ay=1,this.dst.py=0):0===this.dst.y&&(pa=px,pe=x,this.dst.ax=1,this.dst.px=0);var ms=this.getTransitionSpeed(dst);if(_lodash2["default"].isNumber(spd)&&spd<=1&&(ms*=spd),ms>0?this.bzscroll=this.bzscroll?this.bzscroll.update(pe,ms):new BezierClass(pa,pe,ms,0,1,0,1):this.bzscroll=!1,!this.timer){var self=this,sync=1;this.cancelAnimationFrame=!1,this.timer=1,this.scrollRunning||this.triggerScrollStart(),scroll()}},cancelScroll:function(){this.timer&&rAF_cancel(this.timer),this.timer=0,this.bzscroll=!1,this.scrollRunning=!1},cancelEvent:function(e){return!!e&&(e.preventDefault?event.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1)},handleDomResize:function(){var _this7=this;this.synched("resizeUpdate",function(){_this7._doUpdate()})},handleDomOnScroll:function(e){var _this8=this;this.options.wheelLock&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble&&(e.cancelBubble=!0)),this.synched("scroll",function(){_this8.props.onScroll&&_this8.props.onScroll(_this8.getInfo())})},handleDomSelection:function(e){this.x=this.getScrollLeft(),this.y=this.getScrollTop(),this.debouncedElementUpdate()},handleDomWheel:function(e){return!!this.enable&&(!this.isWheelPending&&(this.isWheelPending=!0,this.rail.drag&&!this.detected.cantouch?this.cancelEvent(e):(this._showBar(),this.execScrollWheel(e),void(this.isWheelPending=!1))))},execScrollWheel:function(e){var _this9=this,px=void 0,py=void 0,originalEvent=e.originalEvent,_event={originalEvent:originalEvent,original:e,target:e.target||e.srcElement,type:"wheel",deltaX:originalEvent.deltaX,deltaY:originalEvent.deltaY,deltaMode:originalEvent.deltaMode,stopImmediatePropagation:e.stopImmediatePropagation,stopPropagation:e.stopPropagation,preventDefault:e.preventDefault};return _lodash2["default"].isNumber(_event.deltaMode)||(_event.deltaMode="MozMousePixelScroll"===originalEvent.type?0:1),_event.deltaY||(_event.deltaX=0,_event.deltaZ=0,"mousewheel"===originalEvent.type.toLowerCase()?(_event.deltaY=-.025*originalEvent.wheelDelta,originalEvent.wheelDeltaX&&(_event.deltaX=-.025*originalEvent.wheelDeltaX)):originalEvent.detail&&(_event.deltaY=originalEvent.detail),navigator.vendor&&(navigator.vendor||"").match(/maxthon/gi)&&Math.abs(_event.deltaY)>0&&Math.abs(_event.deltaY)<20&&(_event.deltaY*=30)),_event.stopImmediatePropagation||(_event.stopImmediatePropagation=function(){return originalEvent.cancelBubble=!0}),_event.preventDefault||(_event.preventDefault=function(){return originalEvent.returnValue=!1,!1}),0==_event.deltaMode?(px=-Math.floor(_event.deltaX*(this.options.mouseScrollStep/54)),py=-Math.floor(_event.deltaY*(this.options.mouseScrollStep/54))):1==_event.deltaMode&&(px=-Math.floor(_event.deltaX*this.options.mouseScrollStep),py=-Math.floor(_event.deltaY*this.options.mouseScrollStep)),px&&(this.lastDeltaX+=px,this.debounced("mouseWheelX",function(){var deltaX=_this9.lastDeltaX;_this9.lastDeltaX=0,_this9.rail.drag||_this9.doScrollLeftBy(deltaX)},15)),py&&(this.lastDeltaY+=py,this.debounced("mouseWheelY",function(){var deltaY=_this9.lastDeltaY;_this9.lastDeltaY=0,_this9.rail.drag||_this9.doScrollBy(deltaY)},15)),(py||px)&&this.props.onWheel&&this.debounced("mouseWheel",function(){_this9.rail.drag||_this9.props.onWheel(originalEvent)},32),(0===this.y&&py<0||this.y===this.maxScrollY&&py>0)&&this.props.edgePropagation||_event.stopImmediatePropagation(),_event.preventDefault()},handleDomTransitionEnd:function(){},_showBar:function(){var currentScrollBarHStyle=this.state.scrollBarHStyle,currentScrollBarVStyle=this.state.scrollBarVStyle,_newState={};this.hasVerticalScroll&&currentScrollBarVStyle.opacity!==this.options.opacity&&(_newState.scrollBarVStyle=_lodash2["default"].assign({},currentScrollBarVStyle,{opacity:this.options.opacity,filter:"alpha(opacity:"+100*this.options.opacity+")"})),this.hasHorizontalScroll&&currentScrollBarHStyle.opacity!==this.options.opacity&&(_newState.scrollBarHStyle=_lodash2["default"].assign({},currentScrollBarHStyle,{opacity:this.options.opacity,filter:"alpha(opacity:"+100*this.options.opacity+")"})),_lodash2["default"].isEmpty(_newState)||this.setState(_newState),this._hideBarDebounce()},_hideBar:function(){if(this.isMounted()&&!this.state.railScaleY&&!this.state.railScaleX){var currentScrollBarHStyle=this.state.scrollBarHStyle,currentScrollBarVStyle=this.state.scrollBarVStyle,_newState={};this.hasVerticalScroll&&(_newState.scrollBarVStyle=_lodash2["default"].assign({},currentScrollBarVStyle,{opacity:0,filter:"alpha(opacity:0)",borderRadius:this.options.borderRadius})),this.hasHorizontalScroll&&(_newState.scrollBarHStyle=_lodash2["default"].assign({},currentScrollBarHStyle,{opacity:0,filter:"alpha(opacity:0)",borderRadius:this.options.borderRadius})),_lodash2["default"].isEmpty(_newState)||this.setState(_newState)}},handleMouseEnter:function(e){this.enable&&!this.inPanel&&(this.needShowBar=!0,this._showBar(),this.inPanel=!0)},_keepInPanel:function(){this.needShowBar&&this._showBar()},handleMouseLeave:function(){this.enable&&(this.inPanel=!1,this.needShowBar=!1,this._hideBarDebounce())},handleMouseEnterRail:function(type){this.unDebounced("railScale"),this.needShowBar=!0,this._showBar(),"x"===type?this.setState({railScaleX:!0}):"y"===type&&this.setState({railScaleY:!0})},handleMouseLeaveRail:function(type){var _this10=this;this.debounced("railScale",function(){_this10.rail.drag||("x"===type?_this10.setState({railScaleX:!1}):"y"===type&&_this10.setState({railScaleY:!1}))},300),this._hideBarDebounce()},_handleBarStart:function(axis,e){e=e||window.event;var typeInt=typeInit(e.type);if((1===typeInt||0===e.button)&&this.enable&&(!this.barInitiated||typeInt===this.barInitiated)&&(!this.rail.drag||1===this.rail.drag.pointType)){var point=e;return e.originalEvent&&e.originalEvent.touches?point=e.originalEvent.touches[0]:e.touches&&(point=e.touches[0]),e.preventDefault?e.preventDefault():e.returnValue=!1,this.barInitiated=typeInt,this.rail.drag={startX:this.scrollbarX,startY:this.scrollbarY,pointX:point.pageX,pointY:point.pageY,pointType:1,axis:axis},!!e.preventDefault&&void 0}},_handleBarMove:function(e){var typeInt=typeInit(e.type);if(this.enable&&(!this.barInitiated||typeInt===this.barInitiated)&&(e=e||window.event,(!this.rail.drag||1===this.rail.drag.pointType)&&this.rail.drag)){e.preventDefault?e.preventDefault():e.returnValue=!1;var point=e;e.originalEvent&&e.originalEvent.touches?point=e.originalEvent.touches[0]:e.touches&&(point=e.touches[0]);var deltaX=point.pageX-this.rail.drag.pointX,deltaY=point.pageY-this.rail.drag.pointY,newX=this.scrollbarX+deltaX,newY=this.scrollbarY+deltaY;this.rail.drag.pointX=point.pageX,this.rail.drag.pointY=point.pageY,newX=this.hasHorizontalScroll?newX/this.maxBarScrollX*(this.scrollerAllWidth-this.scrollerWidth):0,newY=this.hasVerticalScroll?newY/this.maxBarScrollY*(this.scrollerAllHeight-this.scrollerHeight):0,this.doScrollPosition(newX,newY,0)}},_handleBarEnd:function(e){this.rail.drag&&1!==this.rail.drag.pointType||(this._handleBarMove(e),this.rail={},this.barInitiated=0)},handleMouseDownBar:function(axis,e){var _this11=this;this._showBar(),this._handleBarStart(axis,e);var $doc=(0,_jquery2["default"])(document);$doc.off(".legoScroll"+this.id).on("mousemove.legoScroll"+this.id,function(e){_this11.debounced("mouseMoveBar",function(){_this11.inPanel||(_this11._handleBarEnd(e),_this11.handleMouseLeaveRail(axis),_this11.unDebounced("mouseMoveBar"),$doc.off(".legoScroll"+_this11.id)),_this11._handleBarMove(e)},15)}).on("mouseup.legoScroll"+this.id,function(e){_this11._handleBarEnd(e),_this11.handleMouseLeaveRail(axis),_this11.unDebounced("mouseMoveBar"),$doc.off(".legoScroll"+_this11.id)}).on("selectstart.legoScroll"+this.id,function(e){return e.preventDefault?(e.preventDefault(),e.stopPropagation()):e.returnValue=!1,!1})},handleKeyPress:function(e){if(this.props.onKeyPress)this.props.onKeyPress(e,this.getInfo());else if(this.inPanel){var ret=!1,target=e.target;if("INPUT"===target.nodeName||"TEXTAREA"===target.nodeName||target.getAttribute("contenteditable"))return;switch(e.which){case 38:case 63233:this.doScrollBy(72),ret=!0;break;case 40:case 63235:this.doScrollBy(-72),ret=!0}ret&&(this._showBar(),this.cancelEvent(e))}},_handleTouchScrollStart:function(e){this.hasMoving=!1;var target=e.target;if(this.cancelScroll(),this.hasHorizontalScroll||this.hasVerticalScroll){if(target){var skp=/INPUT/i.test(target.nodeName)&&/range/i.test(target.type);if(skp)return e.stopPropagation()}var point=e;e.originalEvent&&e.originalEvent.touches?point=e.originalEvent.touches[0]:e.touches&&(point=e.touches[0]),this.rail.drag={startX:this.scrollbarX,startY:this.scrollbarY,pointX:point.pageX,pointY:point.pageY,scrollX:this.x,scrollY:this.y,pointType:2},this.hasVerticalScroll?this.rail.drag.axis="y":this.hasHorizontalScroll&&(this.rail.drag.axis="x"),this.hasMoving=!1,this.lastMouseUp=!1}},_handleTouchScrollEnd:function(e){if(!this.rail.drag)return!0;if(2===this.rail.drag.pointType){if(this.rail.drag=!1,this.rail={},this.hasMoving&&(this.lastMouseUp=!0,!this.detected.cantouch))return this.cancelEvent(e)}else 1===this.rail.drag.pointType},_handleTouchScrollMove:function(e){if(!this.rail.drag)return!1;if(e.targetTouches&&e.targetTouches.length>1)return!1;if(2===this.rail.drag.pointType){if(this.detected.cantouch&&this.detected.isios&&"undefined"==typeof e.original)return!0;this.hasMoving=!0;var point=e;"changedTouches"in e?point=e.changedTouches[0]:e.originalEvent&&e.originalEvent.touches?point=e.originalEvent.touches[0]:e.touches&&(point=e.touches[0]);var deltaX=this.rail.drag.pointX-point.pageX,deltaY=this.rail.drag.pointY-point.pageY,newX=this.rail.drag.scrollX+deltaX,newY=this.rail.drag.scrollY+deltaY;this.rail.drag.pointX=point.pageX,this.rail.drag.pointY=point.pageY,newX=this.hasHorizontalScroll?Math.max(Math.min(newX,this.maxScrollX),0):0,newY=this.hasVerticalScroll?Math.max(Math.min(newY,this.maxScrollY),0):0,this.rail.drag.scrollX=Math.ceil(newX),this.rail.drag.scrollY=Math.ceil(newY),this.doScrollPosition(newX,newY,0)}},handleTouchStartContent:function(e){var _this12=this;if(this.detected.cantouch){
  this._showBar(),this._handleTouchScrollStart(e);var $doc=(0,_jquery2["default"])(document);$doc.off(".legoScroll"+this.id).on("touchmove.legoScroll"+this.id,function(e){window.lgTouchLock||_this12.debounced("touchMoveScroll",function(){_this12._showBar(),_this12._handleTouchScrollMove(e)},15)}).on("touchend.legoScroll"+this.id,function(e){window.lgTouchLock||(_this12.unDebounced("touchMoveScroll"),_this12._handleTouchScrollEnd(e),$doc.off(".legoScroll"+_this12.id))}).on("selectstart.legoScroll"+this.id,function(e){return e.preventDefault?(e.preventDefault(),e.stopPropagation()):e.returnValue=!1,!1})}},railStyle:function(type){var o=this.options,borderRadius=o.borderRadius,shownRailBackground=!1;return("x"===type&&this.state.railScaleX||"y"===type&&this.state.railScaleY)&&(borderRadius=Math.floor(1.8*borderRadius),shownRailBackground=!0),{position:"absolute",borderRadius:borderRadius,WebkitBorderRadius:borderRadius,MozBorderRadius:borderRadius,MsBorderRadius:borderRadius,background:shownRailBackground?o.railColor:null,opacity:.4,filter:"alpha(opacity:40)",zIndex:10,cursor:"pointer"}},barStyle:function(type){var o=this.options,borderRadius=o.borderRadius;return("x"===type&&this.state.railScaleX||"y"===type&&this.state.railScaleY)&&(borderRadius=Math.floor(1.8*borderRadius)),{position:"absolute",display:"block",borderRadius:borderRadius,WebkitBorderRadius:borderRadius,MozBorderRadius:borderRadius,MsBorderRadius:borderRadius,background:o.color,opacity:o.opacity,filter:"alpha(opacity:"+100*o.opacity+")",zIndex:19,cursor:"pointer"}},renderHorizontalBar:function(){var o=this.options,_style=this.state.scrollBarHStyle,_railStyle=_lodash2["default"].assign({display:this.hasHorizontalScroll&&this.enable?"block":"none",left:o.scrollGap,right:o.scrollGap,height:this.state.railScaleX?Math.floor(1.8*o.size):o.size,bottom:o.distance},this.railStyle("x"),{opacity:0===_style.opacity?0:.5}),_barStyle=_lodash2["default"].assign({left:0,top:0,bottom:0},this.barStyle("x"),_style);return _react2["default"].createElement("div",{className:"lgRail lgRailHorizontal",style:_railStyle,ref:"railHorizontal",key:"scrollRailh",onMouseEnter:this.handleMouseEnterRail.bind(null,"x"),onMouseLeave:this.handleMouseLeaveRail.bind(this,"x")},_react2["default"].createElement("div",{className:"lgScrollBar lgScrollBarHorizontal",style:_barStyle,ref:"horizontal",key:"scrollBarh",onMouseDown:this.handleMouseDownBar.bind(this,"x")}))},renderVerticalBar:function(){var o=this.options,_style=this.state.scrollBarVStyle,_railStyle=_lodash2["default"].assign({display:this.hasVerticalScroll&&this.enable?"block":"none",top:o.scrollGap,bottom:o.scrollGap,right:o.distance,width:this.state.railScaleY?Math.floor(1.8*o.size):o.size},this.railStyle("y"),{opacity:0===_style.opacity?0:.5}),_barStyle=_lodash2["default"].assign({top:0,left:0,right:0},this.barStyle("y"),_style);return _react2["default"].createElement("div",{className:"lgRail lgRailVertical",style:_railStyle,ref:"railVertical",key:"scrollRailv",onMouseEnter:this.handleMouseEnterRail.bind(this,"y"),onMouseLeave:this.handleMouseLeaveRail.bind(this,"y")},_react2["default"].createElement("div",{className:"lgScrollBar lgScrollBarVertical",style:_barStyle,ref:"vertical",key:"scrollBarv",onMouseDown:this.handleMouseDownBar.bind(this,"y")}))},render:function(){var _props=this.props,component=_props.component,isAnimate=(_props.options,_props.onScroll,_props.isAnimate),className=_props.className,style=_props.style,extContentStyle=_props.extContentStyle,children=_props.children,extProps=_objectWithoutProperties(_props,["component","options","onScroll","isAnimate","className","style","extContentStyle","children"]),Component=component||"div",Content=isAnimate?Component:null,Animate=isAnimate?_LegoAnimationGroup2["default"]:Component,wrapperProps={style:_lodash2["default"].assign({overflow:"hidden",outline:"none"},style),className:(0,_classnames2["default"])(className,"lg_scroll"),tabIndex:0,onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},contentStyle=_lodash2["default"].assign({width:"100%",height:"100%",overflow:"hidden",position:this.options.innerPosition||"absolute",WebkitOverflowScrolling:"touch"},extContentStyle);return _react2["default"].createElement("div",_extends({ref:"wrapper"},wrapperProps,{id:this.id}),_react2["default"].createElement(Animate,_extends({},extProps,{component:Content,key:"scrollContent",ref:"scroller",style:contentStyle,onTouchStart:this.detected.cantouch?this.handleTouchStartContent:null}),children,_react2["default"].createElement("div",{className:"clearB"})),this.renderHorizontalBar(),this.renderVerticalBar())}});exports["default"]=Scroll,module.exports=exports["default"]},function(module,exports,__webpack_require__){(function($){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_config=__webpack_require__(7),_LegoScrollQ=__webpack_require__(81),_LegoScrollQ2=_interopRequireDefault(_LegoScrollQ),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin);exports["default"]=_react2["default"].createClass({displayName:"Lego.ListLazy.react",mixins:[_reactAddonsPureRenderMixin2["default"]],propTypes:{className:_react2["default"].PropTypes.string,classPrefix:_react2["default"].PropTypes.string,name:_react2["default"].PropTypes.string,style:_react2["default"].PropTypes.object,subTitle:_react2["default"].PropTypes.bool,hasImage:_react2["default"].PropTypes.bool,data:_react2["default"].PropTypes.object,defaultValue:_react2["default"].PropTypes.oneOfType([_react2["default"].PropTypes.string,_react2["default"].PropTypes.bool]),value:_react2["default"].PropTypes.string,onSelect:_react2["default"].PropTypes.func},getInitialState:function(){var _selected=this.props.defaultValue||this.props.value;return{hovered:_selected!==!1&&void 0!==_selected&&_selected,selected:_selected!==!1&&void 0!==_selected&&_selected,className:""}},_domRectGetter:function($ui){if($ui.length>0){var _offset=$ui.offset(),_width=$ui.outerWidth(!0),_height=$ui.outerHeight(!0);return $ui=null,{top:_offset.top,bottom:_offset.top+_height,left:_offset.left,right:_offset.left+_width,width:_width,height:_height}}return!1},componentDidMount:function(){var menuWrapper=this._getWrapper();if(menuWrapper&&this.refs.focus){var _focusRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.focus))),_listRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.menu)));if(_focusRect&&_listRect&&(_focusRect.bottom<_listRect.bottom||_focusRect.top>_listRect.top)){var _position=_focusRect.top-_listRect.top-_focusRect.height<0?0:_focusRect.top-_listRect.top-_focusRect.height;menuWrapper.doScrollPositionY(_position,0)}}},componentWillUpdate:function(){},componentDidUpdate:function(){var menuWrapper=this._getWrapper();if(this.focusedOptionReveal){this.focusedOptionReveal=!1;var _focusRect=void 0,_listRect=void 0;if(this.refs.focus&&(_focusRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.focus)))),this.refs.menu&&(_listRect=this._domRectGetter($(_reactDom2["default"].findDOMNode(this.refs.menu)))),_focusRect&&_listRect&&(_focusRect.bottom<_listRect.bottom||_focusRect.top>_listRect.top)){var _position=_focusRect.top-_listRect.top-_focusRect.height<0?0:_focusRect.top-_listRect.top-_focusRect.height;menuWrapper.doScrollPositionY(_position,0)}}},componentWillUnmount:function(){},_getWrapper:function(){return this.refs.menuWrapper},handleOptionFocus:function(e){var target=e.currentTarget,_hoveredId=target.getAttribute("data-value");this.setState({hovered:_hoveredId})},handleOptionBlur:function(){this.setState({hovered:!1})},handleSelect:function(e){e.preventDefault(),e.stopPropagation();var target=e.currentTarget,_selectedId=target.getAttribute("data-value");this.setState({selected:_selectedId}),this.props.onSelect&&this.props.onSelect(e,_selectedId)},_findIndex:function(info){var data=this.props.data||{},list=this.state.isOpenMore?[].concat(data.main||[]).concat(data.normal||[]):data.main||[];return info?(0,_lodash2["default"])(list).map(function(v){return{id:""+v.id}}).findIndex({id:info}):-1},_focusOption:function(dir){var state=this.state,data=this.props.data||{},list=this.state.isOpenMore?[].concat(data.main||[]).concat(data.normal||[]):data.main||[];this.focusedOptionReveal=!0;var _newFocusIdx=-1;if(list.length>0){var _focusedIndex=this._findIndex(state.hovered);if(state.selected&&_focusedIndex===-1&&(_focusedIndex=this._findIndex(state.selected)),_focusedIndex>-1){switch(dir){case"next":_newFocusIdx=_focusedIndex<list.length-1?""+list[_focusedIndex+1].id:""+list[0].id;break;case"prev":_newFocusIdx=_focusedIndex>0?""+list[_focusedIndex-1].id:""+list[list.length-1].id;break;case"first":_newFocusIdx=""+list[0].id;break;case"last":_newFocusIdx=""+list[list.length-1].id}this.setState({hovered:_newFocusIdx})}else this.setState({hovered:""+list[0].id})}},doPrev:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("prev")},doNext:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("next")},doFirst:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("first")},doLast:function(e){e.preventDefault(),e.stopPropagation(),this._focusOption("last")},doSelect:function(e){this.setState({selected:this.state.hovered}),this.props.onSelect&&this.props.onSelect(e,this.state.hovered)},doHasHover:function(){return this.state.hovered!==!1&&this.state.hovered!==-1},handleScroll:function(){var _c="";this.isMounted()&&(this.refs.menuWrapper.isScrollTop()||(_c="cp_menuShadow"),this.setState({className:_c}))},handleOpenMore:function(e){e.preventDefault(),e.stopPropagation(),this.setState({isOpenMore:!0})},renderItem:function(itemInfo,i){var props=this.props,state=this.state,_imageStyle=null,_title=_react2["default"].createElement("div",{className:"is-title",title:itemInfo.title,key:"item"+i+"title"},itemInfo.title),_subtitle=null;props.hasImage&&itemInfo.image&&(_imageStyle={backgroundImage:"url("+itemInfo.image+")"}),props.hasSubtitle&&itemInfo.subtitle&&(_subtitle=_react2["default"].createElement("div",{className:"is-subtitle",title:itemInfo.subtitle,key:"item"+i+"subtitle"},itemInfo.subtitle));var _itemId=""+itemInfo.id,_optionClass={"is-focus":state.hovered===_itemId,cp_dropDownOption:!0,"is-preValue":state.selected===_itemId,hasSubtitle:props.hasSubtitle&&itemInfo.subtitle,hasImage:props.hasImage&&itemInfo.image},_optionProps={key:"item"+i,className:(0,_classnames2["default"])(_optionClass),style:_imageStyle,onMouseEnter:this.handleOptionFocus,onMouseLeave:this.handleOptionBlur,onMouseDown:this.handleSelect,"data-value":_itemId};return state.selected===_itemId&&(_optionProps.ref="focus"),state.hovered===_itemId&&(_optionProps.ref="focus"),_react2["default"].createElement("div",_optionProps,[_title,_subtitle])},render:function(){var props=this.props,list=props.data||{},_classPrefix=props.classPrefix,_style=props.style||{};_style.maxHeight=props.menuHeight,_style.position="relative";var _wrapperClass={cp_menuWrapper:!0,"lg-list":!0};props.className&&props.className.split(" ").forEach(function(v){v&&(_wrapperClass[v]=!0)}),_classPrefix&&(_wrapperClass[_classPrefix+"_menuWrapper"]=!0);var _list=[].concat(list.placeholder||[]).concat(list.main).map(this.renderItem),_more=null;return this.state.isOpenMore?_list=[].concat(list.main||[]).concat(list.normal||[]).map(this.renderItem):_more=_react2["default"].createElement("div",{className:"cp_dropDownMore"},_react2["default"].createElement("a",{className:"fBlue",onMouseDown:this.handleOpenMore},_config.lang.fBFormCountryMore)),_react2["default"].createElement(_LegoScrollQ2["default"],{component:"div",className:(0,_classnames2["default"])(_wrapperClass,this.state.className),ref:"menuWrapper",style:_style,options:{wheelLock:!0,innerPosition:"relative"},onScroll:this.handleScroll},_react2["default"].createElement("div",{className:"cp_dropDownMenu",ref:"menu"},_list,_more))}}),module.exports=exports["default"]}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_MGMoment=__webpack_require__(86),_MGMoment2=_interopRequireDefault(_MGMoment),_MGIntl=__webpack_require__(17),_MGIntl2=_interopRequireDefault(_MGIntl),_BuyAction=__webpack_require__(73),_BuyAction2=_interopRequireDefault(_BuyAction),_LegoScrollQ=__webpack_require__(81),_LegoScrollQ2=_interopRequireDefault(_LegoScrollQ),_MKCCheckbox=__webpack_require__(87),_MKCCheckbox2=_interopRequireDefault(_MKCCheckbox),_MKCBtnNormalWithMultiStates=__webpack_require__(66),_MKCBtnNormalWithMultiStates2=_interopRequireDefault(_MKCBtnNormalWithMultiStates),_MKCCountPicker=__webpack_require__(92),_MKCCountPicker2=_interopRequireDefault(_MKCCountPicker),_GlobalUtil=__webpack_require__(40),_config=__webpack_require__(7),MKCPopwinBuyChoosePaymentMethod=_react2["default"].createClass({displayName:"MKCPopwinBuyChoosePaymentMethod",handleChooseProduct:function(prId){_BuyAction2["default"].CHANGE_PRODUCT(prId)},handleUseVoucher:function(e,vId,state){this.props.useVoucher&&this.props.useVoucher(vId)},handleIsUseBalance:function(e,name,state){_BuyAction2["default"].CHANGE_BALANCE_STATE(state)},handleChoosePaymentMethod:function(pmId){_BuyAction2["default"].CHANGE_PAYMENT_METHOD(pmId)},handleProductNumChange:function(num){_BuyAction2["default"].CHANGE_PRODUCT_NUMBER(num)},handleBuyConfirm:function(){var _props=this.props,balancePay=_props.balancePay,needPay=_props.needPay,ext=_props.ext;_BuyAction2["default"].CONFIRM_BUY(balancePay,needPay,ext)},renderVoucher:function(){var _this=this,_props2=this.props,prGrId=_props2.prGrId,curType=_props2.curType,info=_props2.info,usedVoucher=_props2.usedVoucher,prGrName=_GlobalUtil.PRODUCT_GROUP_INFO[prGrId].prGrName;return info.voucher&&info.voucher[curType]&&info.voucher[curType].length>0?_react2["default"].createElement(_LegoScrollQ2["default"],{component:"ul",className:"bex_voucher",options:{innerPosition:"relative"}},"smsq"===prGrName?_react2["default"].createElement("li",{className:"bex_vItem bex_vUnSupport"},_config.lang.gBuyVoucherUnSupportTips):_lodash2["default"].map(info.voucher[curType],function(voucherInfo){var voucherId=voucherInfo.voucherId,voucherMoney=voucherInfo.voucherMoney,voucherExpiry=voucherInfo.voucherExpiry,_useIdx=_lodash2["default"].indexOf(usedVoucher,voucherId),_vReduce=null;_useIdx!==-1&&(_vReduce=_react2["default"].createElement("span",{className:"bex_vReduce"},"- "+_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(voucherMoney,2,2)));var _vExpiry=voucherExpiry?_config.lang.gBuyExtensionVoucherExpiry({expiry:voucherExpiry}):"";return _react2["default"].createElement("li",{className:"bex_vItem",key:"v"+voucherId},_react2["default"].createElement(_MKCCheckbox2["default"],{state:_useIdx===-1?0:1,className:"bex_isUseVoucher",name:voucherId,onClick:_this.handleUseVoucher},_react2["default"].createElement("span",{className:"bex_vTitle"},_config.lang.gCurrencySymbolArray[curType-1]+" "+voucherMoney),_react2["default"].createElement("span",{className:"bex_vDescribe"},_config.lang.gBuyExtensionVoucher+" "+_vExpiry),_vReduce))})):null},renderBalance:function(){var _props3=this.props,curType=_props3.curType,info=_props3.info,isUseBalance=_props3.isUseBalance,balancePay=_props3.balancePay;if(info.balance&&info.balance[curType]>0){var _baReduce=null;return isUseBalance&&(_baReduce=_react2["default"].createElement("span",{key:"baReduce",className:"bex_baReduce"},"- "+_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(balancePay,2,2))),_react2["default"].createElement("div",{className:"bex_balance"},_react2["default"].createElement(_MKCCheckbox2["default"],{state:isUseBalance,name:"isUseBalance",className:"bex_isUseBalance",onClick:this.handleIsUseBalance},_react2["default"].createElement("span",{className:"bex_baTitle"},_config.lang.gBuyExtensionUseBalance),_react2["default"].createElement("span",{className:"bex_baPrice"},_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(info.balance[curType],2,2)),_baReduce))}return null},renderPayCashInfo:function(){var _this2=this,_props4=this.props,prGrId=_props4.prGrId,curType=_props4.curType,paymentMethod=_props4.paymentMethod,needPay=_props4.needPay,prGrName=_GlobalUtil.PRODUCT_GROUP_INFO[prGrId].prGrName,contentWidth=420;if(["smsa","smsq","emq","spe","spr","spn"].indexOf(prGrName)>-1&&(contentWidth=510),!(needPay>0))return null;var _ret=function(){var paymentMethodIdx=_lodash2["default"].findIndex(_GlobalUtil.SUPPORT_PAYMENT_METHOD,{id:paymentMethod}),pmLength=_GlobalUtil.SUPPORT_PAYMENT_METHOD.length,pmWidth=Math.floor((contentWidth-10*(pmLength-1))/pmLength);return{v:[_react2["default"].createElement("p",{className:"bex_needPay",key:"needPay"},_config.lang.gBuyExtensionNeedPay,_react2["default"].createElement("span",{className:"price"},_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(needPay,2,2))),_react2["default"].createElement("ul",{className:"bex_payType",key:"payType"},_react2["default"].createElement("li",{className:"bex_ptFocus",style:{width:pmWidth,left:pmWidth*paymentMethodIdx+10*paymentMethodIdx}}),_lodash2["default"].map(_GlobalUtil.SUPPORT_PAYMENT_METHOD,function(pmInfo){return _react2["default"].createElement("li",{className:"bex_ptItem",key:"pt"+pmInfo.id,style:{width:pmWidth},onClick:_this2.handleChoosePaymentMethod.bind(_this2,pmInfo.id)},_react2["default"].createElement("div",{className:"bex_ptImg",style:{backgroundPosition:pmInfo.bgPosition}}),_react2["default"].createElement("p",{className:"bex_ptName"},pmInfo.name))}),_react2["default"].createElement("li",{className:"clearB"}))]}}();return"object"===("undefined"==typeof _ret?"undefined":_typeof(_ret))?_ret.v:void 0},renderProductList:function(){var _this3=this,_props5=this.props,prGrId=_props5.prGrId,selectedPrId=_props5.selectedPrId,curType=_props5.curType,info=_props5.info,isOnlyAll=_props5.isOnlyAll,prGrName=(_props5.usedVoucher,_props5.isUseBalance,_props5.balancePay,_GlobalUtil.PRODUCT_GROUP_INFO[prGrId].prGrName),prList=info.prList||[],contentWidth=420;"smsa"!==prGrName&&"smsq"!==prGrName&&"emq"!==prGrName||(contentWidth=510),"spn"!==prGrName&&"spr"!==prGrName&&"spe"!==prGrName||(contentWidth=510);var isNameImportant=_lodash2["default"].indexOf(["emq","smsq","spn","spe"],prGrName)!==-1,prInOneLine=Math.min(prList.length,4);"fcdn"===prGrName&&(prInOneLine=3);var prWidth=Math.floor((contentWidth-10*(prInOneLine-1))/prInOneLine);!isOnlyAll||"frte"!==prGrName&&"erte"!==prGrName||(prWidth=160);var _prList=[];return _lodash2["default"].forEach(prList,function(prInfo){var _prPrice=_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(prInfo.prPrice[curType]||0,2,2),_prName=prInfo.prName;if(!isOnlyAll||"-AA"===prInfo.prNo.substr(-3,3))if("smsa"===prGrName){var _main=void 0,_tips=void 0;_prName.replace(/^(.+)?[\(\（]{1}([^\(\)\（\）]+)[\)\）]{1}$/g,function($,$1,$2){_main=_lodash2["default"].trim($1),_tips=_lodash2["default"].trim($2)}),_prList.push(_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_prItem",{active:selectedPrId===prInfo.prId}),key:"pr"+prInfo.prId,style:{width:prWidth},onClick:_this3.handleChooseProduct.bind(_this3,prInfo.prId)},_react2["default"].createElement("p",{className:"bex_prMain"},_main),_react2["default"].createElement("p",{className:"bex_prDes"},_prPrice),_react2["default"].createElement("p",{className:"bex_prTips"},_tips)))}else _prList.push(_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_prItem",{active:selectedPrId===prInfo.prId}),key:"pr"+prInfo.prId,style:{width:prWidth},onClick:_this3.handleChooseProduct.bind(_this3,prInfo.prId)},_react2["default"].createElement("p",{className:"bex_prMain"},isNameImportant?_prName:_prPrice),_react2["default"].createElement("p",{className:"bex_prDes"},isNameImportant?_prPrice:_prName)))}),_react2["default"].createElement("ul",{className:(0,_classnames2["default"])("bex_prList",{"is-onlyAll":isOnlyAll})},_prList,_react2["default"].createElement("li",{className:"clearB"}))},handleSystemSpaceChange:function(num){_BuyAction2["default"].CHANGE_PRODUCT_NUMBER(num/500)},renderSystemSpaceList:function(prGrName){var currentSpace=+this.props.supplementInfo.currentSpace,sysSpace=500*+this.props.prNum;return _react2["default"].createElement("div",{className:"bex_sysSpace"},_react2["default"].createElement("div",{className:"bex_ssPicker"},_react2["default"].createElement(_MKCCountPicker2["default"],{className:"bex_ssSet",classPrefix:"bex",name:"sysSpace",title:"spe"==prGrName?_config.lang.gBuySysSpaceExtend:_config.lang.gBuySysSpaceBuy,hasInput:!0,inputDisable:!0,unit:String.fromCharCode(59237),minValue:500,maxValue:5e4,stepValue:500,defaultValue:sysSpace,onChange:this.handleSystemSpaceChange}),_react2["default"].createElement("p",{className:"bex_ssTotal"},_react2["default"].createElement("span",null,_config.lang.gSysSpaceTotal),_react2["default"].createElement("span",{className:"num"},_MGIntl2["default"].localeNumberFormatter(sysSpace+("spr"===prGrName?500:currentSpace))+" MB"))),"spr"==prGrName?null:_react2["default"].createElement("ul",{className:"bex_ssList"},_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_ssItem",{active:500==sysSpace}),onClick:this.handleSystemSpaceChange.bind(this,500)},"500MB"),_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_ssItem",{active:1e3==sysSpace}),onClick:this.handleSystemSpaceChange.bind(this,1e3)},"1 000MB"),_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_ssItem",{active:2e3==sysSpace}),onClick:this.handleSystemSpaceChange.bind(this,2e3)},"2 000MB"),_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_ssItem",{active:3e3==sysSpace}),onClick:this.handleSystemSpaceChange.bind(this,3e3)},"3 000MB"),_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_ssItem",{active:4e3==sysSpace}),onClick:this.handleSystemSpaceChange.bind(this,4e3)},"4 000MB"),_react2["default"].createElement("li",{className:(0,_classnames2["default"])("bex_ssItem",{active:5e3==sysSpace}),onClick:this.handleSystemSpaceChange.bind(this,5e3)},"5 000MB")))},renderSystemSpaceTips:function(prGrName){var _props6=this.props,info=_props6.info,supplementInfo=_props6.supplementInfo,selectedPrId=_props6.selectedPrId,_tips=null,selectYears=1;if(54===selectedPrId||58===selectedPrId?selectYears=2:55===selectedPrId||59===selectedPrId?selectYears=3:56!==selectedPrId&&60!==selectedPrId||(selectYears=4),"spn"==prGrName){var today=(0,_MGMoment2["default"])();today.add(selectYears,"y"),_tips=_react2["default"].createElement("p",{key:"tips",className:"bex_ssTips"},_react2["default"].createElement("i",{className:"iconfont cp_tips"},String.fromCharCode(58930)),_config.lang.gBuySysSpaceNewTips({expireDate:today.getFullDate()}))}else if("spr"==prGrName){var fromDate=(0,_MGMoment2["default"])(supplementInfo.expiryAt),toDate=fromDate.add(1,"d").clone().add(selectYears,"y");_tips=_react2["default"].createElement("p",{key:"tips",className:"bex_ssTips"},_react2["default"].createElement("i",{className:"iconfont cp_tips"},String.fromCharCode(58930)),_config.lang.gBuySysSpaceRenewalTips({from:fromDate.getFullDate(),to:toDate.getFullDate()}))}else if("spe"==prGrName){var expireDate=supplementInfo.expiryAt;_tips=[_react2["default"].createElement("p",{key:"days",className:"bex_ssInfo"},_config.lang.gBuySysSpaceExtendDays({days:info.prExt.days||0,daysClass:{className:"days"}}),expireDate?_config.lang.gBuySysSpaceExtendExpiryAt({expireDate:expireDate}):null),_react2["default"].createElement("p",{key:"tips",className:"bex_ssTips"},_react2["default"].createElement("i",{className:"iconfont cp_tips"},String.fromCharCode(58930)),_config.lang.gBuySysSpaceExtendTips)]}return _react2["default"].createElement("div",{className:"bex_ssTipsWrapper"},_tips)},render:function(){var _props7=this.props,prGrId=(_props7.info,_props7.prGrId),selectedPrInfo=_props7.selectedPrInfo,prNum=_props7.prNum,curType=_props7.curType,totalPrice=_props7.totalPrice,needPay=_props7.needPay,_PRODUCT_GROUP_INFO$p=_GlobalUtil.PRODUCT_GROUP_INFO[prGrId],prGrName=_PRODUCT_GROUP_INFO$p.prGrName,hasQuantity=_PRODUCT_GROUP_INFO$p.hasQuantity;return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("bex_chooseMode",prGrName),key:"chooseMode"},_lodash2["default"].indexOf(["spn","spr","spe"],prGrName)!==-1?this.renderSystemSpaceList(prGrName):null,"spe"===prGrName?null:this.renderProductList(),hasQuantity&&_lodash2["default"].indexOf(["spn","spr","spe"],prGrName)===-1?_react2["default"].createElement("div",{className:"bex_prNum"},_react2["default"].createElement(_MKCCountPicker2["default"],{className:"bex_pnSet",classPrefix:"bex",name:"prNum",title:_config.lang.gPackageNum,hasInput:!0,minValue:1,stepValue:1,defaultValue:prNum||1,onChange:this.handleProductNumChange}),_react2["default"].createElement("p",{className:"bex_pnTotal"},_react2["default"].createElement("span",null,_config.lang.gPackageTotal),_react2["default"].createElement("span",{className:"num"},_MGIntl2["default"].localeNumberFormatter(selectedPrInfo.exInfo*(prNum||1),0,2)))):null,_lodash2["default"].indexOf(["spn","spr","spe"],prGrName)!==-1?this.renderSystemSpaceTips(prGrName):null,_react2["default"].createElement("p",{className:"bex_totalPrice"},_config.lang.gBuyExtensionTotal,_react2["default"].createElement("span",{className:"price"},_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(totalPrice,2,2))),this.renderVoucher(),this.renderBalance(),this.renderPayCashInfo(),_react2["default"].createElement("div",{className:"bex_operate"},_react2["default"].createElement(_MKCBtnNormalWithMultiStates2["default"],{className:"orange bex_buyConfirm",dis:needPay>0?_config.lang.gBtnBuyGoToPay:_config.lang.gBtnBuyConfirm,onClick:this.handleBuyConfirm})))}});exports["default"]=MKCPopwinBuyChoosePaymentMethod,module.exports=exports["default"]},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function clone(d){return new Date(d.getTime())}function _isSameDay(d1,d2){var nofix=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d1||!d2)return!1;var _d1=clone(d1),_d2=clone(d2);return nofix||(_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0)),_d1.getSeconds()===_d2.getSeconds()&&_d1.getMinutes()===_d2.getMinutes()&&_d1.getHours()===_d2.getHours()&&_d1.getDate()===_d2.getDate()&&_d1.getMonth()===_d2.getMonth()&&_d1.getFullYear()===_d2.getFullYear()}function _gap(d1,d2){var _d1=clone(d1),_d2=clone(d2);_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0);var g=Math.abs(_d1.getTime()-_d2.getTime());return Math.round(g/864e5)}function _isDayBefore(d1,d2){var nofix=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_d1=clone(d1),_d2=clone(d2);return nofix||(_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0)),_d1<_d2}function _isDayAfter(d1,d2){var nofix=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_d1=clone(d1),_d2=clone(d2);return nofix||(_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0)),_d1>_d2}function _dayBetween(d,d1,d2){var nofix=arguments.length>3&&void 0!==arguments[3]&&arguments[3],date=clone(d);return nofix||date.setHours(0,0,0,0),_isDayAfter(date,d1,nofix)&&_isDayBefore(date,d2,nofix)||_isDayAfter(date,d2,nofix)&&_isDayBefore(date,d1,nofix)}function _isPastDay(d){var today=new Date;return today.setHours(0,0,0,0),_isDayBefore(d,today)}function _isFutureDay(d){var today=new Date;return today.setHours(0,0,0,0),_isDayAfter(d,today)}function _addDayToRange(day){var range=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},from=range.from,to=range.to;return from?from&&to&&_isSameDay(from,to)&&_isSameDay(day,from)?(from=null,to=null):to&&_isDayBefore(day,from)?from=day:to&&_isSameDay(day,to)?(from=day,to=day):(to=day,_isDayBefore(to,from)&&(to=from,from=day)):from=day,{from:from,to:to}}function _isDayInRange(day,range,nofix){var from=range.from,to=range.to;return from&&to?_dayBetween(day,from,to,nofix)||_isSameDay(day,from,nofix)||_isSameDay(day,to,nofix):from?_isSameDay(day,from,nofix)||_isDayAfter(day,from,nofix):!!to&&(_isSameDay(day,to,nofix)||_isDayBefore(day,to,nofix))}function _isLeapYear(year){return year>1&&year<9999?year%4===0&&year%100!==0||year%400===0:null}function __format(val,len){var valLen=(""+val).length;return valLen>len?(""+val).slice(-len):("0000"+val).slice(-len)}function m(){for(var _len2=arguments.length,args=Array(_len2),_key=0;_key<_len2;_key++)args[_key]=arguments[_key];return new(Function.prototype.bind.apply(MGMoment,[null].concat(args)))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),REGEX_DATE_FORMATTER=/(MM?M?M?|DD?D?D?|WW?|YYYY|YY|HH?|mm?|ii?|ss?|S{1,4}|.)/g,FORMATTER_INFO="MDWYHmisS",DATE_CN_POSITION_TAG=["年","月","日","时","分","秒","毫秒"],DATE_POSITION_TAG=["y","M","d","h","m","s","ms"],MAX_DATE=[31,28,31,30,31,30,31,31,30,31,30,31],MGMoment=function(){function MGMoment(dateTime,isUTC){return _classCallCheck(this,MGMoment),this._Date=MGMoment._dateTimeFormatter(dateTime),isUTC&&(this._Date=new Date(this.getUTCFullDateTime())),this.__isMGMoment=!0,this}return _createClass(MGMoment,[{key:"isMGMoment",value:function(){return this.__isMGMoment}},{key:"__getN",value:function(){return this._Date}},{key:"clone",value:function(){return new MGMoment(this)}},{key:"_year",value:function(isUTC){return isUTC?this._Date.getUTCFullYear():this._Date.getFullYear()}},{key:"_month",value:function(isUTC){return isUTC?this._Date.getUTCMonth():this._Date.getMonth()}},{key:"_date",value:function(isUTC){return isUTC?this._Date.getUTCDate():this._Date.getDate()}},{key:"_day",value:function(isUTC){return isUTC?this._Date.getUTCDay():this._Date.getDay()}},{key:"_hours",value:function(isUTC){return isUTC?this._Date.getUTCHours():this._Date.getHours()}},{key:"_minutes",value:function(isUTC){return isUTC?this._Date.getUTCMinutes():this._Date.getMinutes()}},{key:"_seconds",value:function(isUTC){return isUTC?this._Date.getUTCSeconds():this._Date.getSeconds();
}},{key:"_ms",value:function(isUTC){return isUTC?this._Date.getUTCMilliseconds():this._Date.getMilliseconds()}},{key:"_time",value:function(){return this._Date.getTime()}},{key:"isLeapYear",value:function(){return _isLeapYear(this.year())}},{key:"decade",value:function(){return 10*Math.floor(this._year()/10)}},{key:"year",value:function(y){return void 0===y||isNaN(+y)||"boolean"==typeof y?this._year(y):(y=+y,_isLeapYear(y)||1!==this._month()||29!==this._date()||this.date(28),this._Date.setFullYear(y),this)}},{key:"month",value:function(m){return void 0===m||isNaN(+m)||"boolean"==typeof m?this._month(m):(m=+m,this.isLeapYear()&&1===m&&this._date()>29?this.date(29):this._date()>MAX_DATE[m]&&this.date(MAX_DATE[m]),this._Date.setMonth(m),this)}},{key:"week",value:function(){return this._day()}},{key:"date",value:function(d){return void 0===d||isNaN(+d)||"boolean"==typeof d?this._date(d):(d=+d,this.isLeapYear()&&1===this._month()&&d>29?d=29:this._date()>MAX_DATE[this._month()]?d=MAX_DATE[this._month()]:d<1&&(d=1),this._Date.setDate(d),this)}},{key:"hours",value:function(h){return void 0===h||isNaN(+h)||"boolean"==typeof h?this._hours(h):(h=+h,this._Date.setHours(Math.max(0,Math.min(h,23))),this)}},{key:"minutes",value:function(m){return void 0===m||isNaN(+m)||"boolean"==typeof m?this._minutes(m):(m=+m,this._Date.setMinutes(Math.max(0,Math.min(m,59))),this)}},{key:"seconds",value:function(s){return void 0===s||isNaN(+s)||"boolean"==typeof s?this._seconds(s):(s=+s,this._Date.setSeconds(Math.max(0,Math.min(s,59))),this)}},{key:"milliseconds",value:function(ms){return void 0===ms||isNaN(+ms)||"boolean"==typeof ms?this._ms(ms):(ms=+ms,this._Date.setMilliseconds(Math.max(0,Math.min(ms,999))),this)}},{key:"time",value:function(){return this._time()}},{key:"add",value:function(delta,type){switch(type=type.toLowerCase(),delta=+delta,type){case"y":this.year(this._year()+delta);break;case"m":var _deltaYear=(delta<0?-1:1)*Math.floor(Math.abs(delta)/12),_deltaMonth=(delta<0?-1:1)*(Math.abs(delta)%12);this.month(this._month()+_deltaMonth),this.year(this._year()+_deltaYear);break;case"d":this._Date.setDate(this._date()+delta);break;case"w":this._Date.setDate(this._date()+7*delta);break;case"h":this._Date.setHours(this._hours()+delta);break;case"min":this._Date.setMinutes(this._minutes()+delta);break;case"s":this._Date.setSeconds(this._seconds()+delta)}return this}},{key:"startOf",value:function(type){switch(type){case"year":this.month(0);case"month":this.date(1);case"date":this.hours(0);case"hours":this.minutes(0);case"minutes":this.seconds(0);case"seconds":this.milliseconds(0)}return this}},{key:"endOf",value:function(type){switch(type){case"year":this.month(11);case"month":this.date(31);case"date":this.hours(23);case"hours":this.minutes(59);case"minutes":this.seconds(59);case"seconds":this.milliseconds(999)}return this}},{key:"day",value:function(dayNum){return void 0===dayNum||isNaN(+dayNum)?this._day():this.add(dayNum-this._day(),"d")}},{key:"age",value:function(d){var _splitDateTime=d.split(" ")[0].split("-");if(2===_splitDateTime.length&&2===_splitDateTime[1].length)return!1;var _d=m(d),_gapYear=this.year()-_d.year(),_gapMonth=this.month()-_d.month();return this.month()<_d.month()?(_gapYear--,_gapMonth=12+_gapMonth):this.month()===_d.month()&&this.date()<_d.date()&&(_gapYear--,_gapMonth=11),{year:_gapYear,month:_gapMonth}}},{key:"isSameDay",value:function(d){return _isSameDay(this._Date,m(d)._Date)}},{key:"gap",value:function(d){return _gap(this._Date,m(d)._Date)}},{key:"isDayBefore",value:function(d){return _isDayBefore(this._Date,m(d)._Date)}},{key:"isDayAfter",value:function(d){return _isDayAfter(this._Date,m(d)._Date)}},{key:"isPastDay",value:function(){return _isPastDay(this._Date)}},{key:"isFutureDay",value:function(){return _isFutureDay(this._Date)}},{key:"isBetween",value:function(d1,d2){return _dayBetween(this._Date,m(d1)._Date,m(d2)._Date)}},{key:"isInRange",value:function(range){return _isDayInRange(this._Date,range)}},{key:"addToRange",value:function(range){return _addDayToRange(this._Date,range)}},{key:"_formatDate",value:function(formatter,isUTC){var _this=this,formatterList=formatter.match(REGEX_DATE_FORMATTER);return formatterList?formatterList.map(function(v){if(FORMATTER_INFO.indexOf(v[0])>-1){var _len=v.length,_res="";switch(v[0]){case"Y":_res=__format(_this.year(!!isUTC),_len);break;case"M":_res=__format(_this.month(!!isUTC)+1,_len);break;case"D":_res=__format(_this.date(!!isUTC),_len);break;case"W":_res=__format(_this.week(!!isUTC)+1,_len);break;case"H":_res=__format(_this.hours(!!isUTC),_len);break;case"m":case"i":_res=__format(_this.minutes(!!isUTC),_len);break;case"s":case"S":_res=__format(_this.seconds(!!isUTC),_len)}return _res}return v}).join(""):null}},{key:"getFullDate",value:function(){return this._formatDate("YYYY-MM-DD")}},{key:"getFullDateTime",value:function(){return this._formatDate("YYYY-MM-DD HH:mm:ss")}},{key:"getUTCFullDateTime",value:function(){return this._formatDate("YYYY-MM-DD HH:mm:ss",!0)}},{key:"getYearMonth",value:function(){return this._formatDate("YYYY-MM")}},{key:"getMonthDay",value:function(){return this._formatDate("MM-DD")}},{key:"getShortDate",value:function(){return this._formatDate("DD/MM/YY")}},{key:"getMonthYear",value:function(){return this._formatDate("MM/YY")}},{key:"getTime",value:function(){return this._formatDate("HH:mm:ss")}},{key:"getTimeHourMinute",value:function(){return this._formatDate("HH:mm")}},{key:"toString",value:function(){return this._Date.toString()}},{key:"format",value:function(formatter){return formatter?this._formatDate(formatter):this.toString()}}],[{key:"_dateTimeFormatter",value:function(dateTime){if(null===dateTime||void 0===dateTime)return new Date;var _type=Object.prototype.toString.call(dateTime);if("[object Date]"===_type)return new Date(dateTime.getTime());if("[object Number]"===_type)return new Date(dateTime);if("[object String]"===_type){var _ret=function(){var cnDateRes=dateTime.match(/\d+((ms)|[yMdhms年月日时分秒]|(毫秒))/gi),res=[0,0,0,0,0,0,0];if(cnDateRes&&cnDateRes.length>=3)cnDateRes.forEach(function(v){var _cap=/(\d+)([yMdhms年月日时分秒]|(毫秒))/.exec(v);_cap&&(void 0===res[DATE_POSITION_TAG.indexOf(_cap[2])]?res[DATE_CN_POSITION_TAG.indexOf(_cap[2])]=_cap[1]:res[DATE_POSITION_TAG.indexOf(_cap[2])]=_cap[1])});else{var dateArray=dateTime.replace(/^\s+|\s+$/gm,"").split(/\-|\_|\:|\s/g);dateTime.match(/[\-\_]/)?dateArray.forEach(function(v,i){v&&(res[i]=v)}):dateArray.forEach(function(v,i){v&&(res[i+3]=v)})}if(0===res.reduce(function(sum,d){sum+=d},0))return{v:new Date};var y=res[0],m=res[1],d=res[2],h=res[3],min=res[4],s=res[5],ms=res[6];return{v:new Date(y,m-1,d,h,min,s,ms)}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}else if("[object Object]"===_type&&dateTime instanceof MGMoment)return new Date(dateTime.time())}}]),MGMoment}();m.gap=_gap,m.isSameDay=_isSameDay,m.isDayBefore=_isDayBefore,m.isDayAfter=_isDayAfter,m.isPastDay=_isPastDay,m.isFutureDay=_isFutureDay,m.isDayBetween=_dayBetween,m.addDayToRange=_addDayToRange,m.isDayInRange=_isDayInRange,exports["default"]=m,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(7),_FormAction=__webpack_require__(88),_FormAction2=_interopRequireDefault(_FormAction),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCCheckboxc=_react2["default"].createClass({displayName:"MKCCheckboxc",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return this.disabledState=_lodash2["default"].isFunction(this.props.disabled)?this.props.disabled():this.props.disabled,{isChecked:this.props.state?1:0}},componentWillReceiveProps:function(nextProps){this.disabledState=_lodash2["default"].isFunction(nextProps.disabled)?nextProps.disabled():nextProps.disabled,this.state.isChecked!==nextProps.state&&this.setState({isChecked:nextProps.state?1:0})},handlePayFinished:function(){8===this.props.prGrId?_FormAction2["default"].BUY_FORM_EXT_SUCCEED(15):27===this.props.prGrId&&(_FormAction2["default"].BUY_FORM_CAPTCHA_SUCCEED(),_FormAction2["default"].BUY_FORM_EXT_SUCCEED(24)),this.props.onPayFinished&&this.props.onPayFinished()},handleClickNothingDo:function(e){e.stopPropagation()},handleClick:function(e){e.stopPropagation();var props=this.props;if(!this.disabledState)if(props.needPay){var PopwinProductIntro=__webpack_require__(90);_reactDom2["default"].render(_react2["default"].createElement(PopwinProductIntro,{prGrId:props.prGrId,extInfo:props.extInfo,onFinished:this.handlePayFinished}),document.getElementById("popPay"))}else{var isCheckedNew=this.state.isChecked?0:1;this.setState({isChecked:isCheckedNew}),props.onClick&&props.onClick(e,props.name,isCheckedNew)}},render:function(){var props=this.props,isChecked=this.state.isChecked,_className={cp_checkbox:!0,checked:1==isChecked,disabled:this.disabledState,needPay:props.needPay},_children=this.props.title;props.children&&(_children=this.props.children);var _label=null;return _children&&(_label=_react2["default"].createElement("span",{className:"cp_cLabel"},_children,props.needPay?_react2["default"].createElement("span",{className:"cp_cmBuyIcon"}):null,props.wikiLink?_react2["default"].createElement("a",{className:"iconfont cp_toWiki",onClick:this.handleClickNothingDo,title:_config.lang.gTitleViewMore,target:"_blank",href:props.wikiLink},String.fromCharCode(58929)):null)),_react2["default"].createElement("p",{className:(0,_classnames2["default"])(_className,props.className),onClick:this.handleClick,onDoubleClick:props.onDoubleClick,onMouseEnter:props.onMouseOver,onMouseLeave:props.onMouseOut},_react2["default"].createElement("i",{className:"cp_cIcon"}," "),_label)}});exports["default"]=MKCCheckboxc,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _AppDispatcher=__webpack_require__(29),_AppDispatcher2=_interopRequireDefault(_AppDispatcher),_FormConstants=__webpack_require__(89),_AppConstants=__webpack_require__(31),FormAction={BIND_WECHAT_SUCCEED:function(wcAccount){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.BIND_WECHAT_SUCCEED,data:wcAccount},_AppConstants.PayloadCategory.FORM)},TOGGLE_WECHAT_NOTICE_NEW_SUBMIY:function(state){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.TOGGLE_WECHAT_NOTICE_NEW_SUBMIY,data:state?1:0},_AppConstants.PayloadCategory.FORM)},CHANGE_SMS_STATE_IN_FORM_BUILDER:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_SMS_STATE_IN_FORM_BUILDER,data:data},_AppConstants.PayloadCategory.FORM)},GET_FORM_DETAIL:function(frId,info){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_DETAIL,data:frId,step:info.step,mode:info.mode||"normal"},_AppConstants.PayloadCategory.FORM)},UPDATE_FORM_DETAIL:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.UPDATE_FORM_DETAIL},_AppConstants.PayloadCategory.FORM)},GET_FORM_LIST_SUMMARY:function(grInfo){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_LIST_SUMMARY,grInfo:grInfo},_AppConstants.PayloadCategory.FORM)},SET_SEARCH_FORM_KEY:function(key){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_SEARCH_FORM_KEY,key:key},_AppConstants.PayloadCategory.FORM)},SEARCH_FORM_BY_NAME:function(key){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SEARCH_FORM_BY_NAME,key:key},_AppConstants.PayloadCategory.FORM)},QUIT_FORM_SEARCH_RESULT:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.QUIT_FORM_SEARCH_RESULT},_AppConstants.PayloadCategory.FORM)},SET_FORM_FILTER_GROUP:function(fgrId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_FILTER_GROUP,data:fgrId},_AppConstants.PayloadCategory.FORM)},SET_FORM_FILTER_SORT:function(sortId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_FILTER_SORT,data:sortId},_AppConstants.PayloadCategory.FORM)},GET_NEXT_FORMS:function(cb){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_NEXT_FORMS,callback:cb},_AppConstants.PayloadCategory.FORM)},RENAME_FORM:function(frId,frName){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.RENAME_FORM,data:{frId:frId,frName:frName}},_AppConstants.PayloadCategory.FORM)},CREATE_FORM_DUPLICATE:function(frId,frInfo){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CREATE_FORM_DUPLICATE,data:{parentId:frId,dupFrInfo:frInfo}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM:function(frId,frName){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.REMOVE_FORM,data:frId},_AppConstants.PayloadCategory.FORM)},DBLCLICK_FORM:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_BYID,id:id},_AppConstants.PayloadCategory.FORM)},CLOSE_FORM_GLANCE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLOSE_FORM_GLANCE},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_GROUP:function(frId,grId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_GROUP,data:{frId:frId,grId:grId}},_AppConstants.PayloadCategory.FORM)},SET_FORM_STATUS_STOP:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_STATUS_STOP,data:frId},_AppConstants.PayloadCategory.FORM)},SET_FORM_STATUS_START:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_STATUS_START,data:frId},_AppConstants.PayloadCategory.FORM)},GET_FORM_GROUPS:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_FORM_GROUPS},_AppConstants.PayloadCategory.FORM)},CREATE_FORM_GROUP:function(name){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CREATE_FORM_GROUP,data:name},_AppConstants.PayloadCategory.FORM)},EDIT_FORM_GROUP:function(id,name){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.EDIT_FORM_GROUP,data:{id:id,name:name}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_GROUP:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.REMOVE_FORM_GROUP,data:id},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_GROUP_HIGHLIGHT:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_GROUP_HIGHLIGHT,data:{id:id}},_AppConstants.PayloadCategory.FORM)},INIT_FORM_CREATE_INFO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.INIT_FORM_CREATE_INFO},_AppConstants.PayloadCategory.FORM)},SET_FORM_CREATE_INFO:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_CREATE_INFO,data:{name:name,value:value}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_TEMPLATE_LANGUAGE:function(tempLan){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_TEMPLATE_LANGUAGE,data:tempLan},_AppConstants.PayloadCategory.FORM)},SET_FORM_CREATE_TEMPLATE:function(tempId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_CREATE_TEMPLATE,data:tempId},_AppConstants.PayloadCategory.FORM)},STAR_FORM_TEMPLATE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.STAR_FORM_TEMPLATE},_AppConstants.PayloadCategory.FORM)},CREATE_FORM:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CREATE_FORM},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_IS_TOP:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_IS_TOP,data:frId},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_IS_HIGHLIGHT:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_IS_HIGHLIGHT,data:frId},_AppConstants.PayloadCategory.FORM)},GET_ALL_EXT_INFO:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_ALL_EXT_INFO,data:frId},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_ALL_EXTEND_INFO:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_ALL_EXTEND_INFO,data:{name:name,value:value}},_AppConstants.PayloadCategory.FORM)},BUY_FADD_SUCCEED:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.BUY_FADD_SUCCEED},_AppConstants.PayloadCategory.FORM)},BUY_FORM_EXT_SUCCEED:function(extId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.BUY_FORM_EXT_SUCCEED,data:extId},_AppConstants.PayloadCategory.FORM)},TOGGLE_FORM_EXT:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.TOGGLE_FORM_EXT,data:data},_AppConstants.PayloadCategory.FORM)},BUY_FORM_CAPTCHA_SUCCEED:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.BUY_FORM_CAPTCHA_SUCCEED},_AppConstants.PayloadCategory.FORM)},BUY_FORM_COMPONENT_SUCCEED:function(prGrId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.BUY_FORM_COMPONENT_SUCCEED,data:prGrId},_AppConstants.PayloadCategory.FORM)},OPTION_EDIT_WARNING:function(data){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.OPTION_EDIT_WARNING,data:data},_AppConstants.PayloadCategory.FORM)},PROCESS_OPTION_WARNING:function(res,data){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.PROCESS_OPTION_WARNING,data:data,res:res},_AppConstants.PayloadCategory.FORM)},SMART_FORM_HEADLINE_LAYOUT:function(data){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SMART_FORM_HEADLINE_LAYOUT,data:data},_AppConstants.PayloadCategory.FORM)},SMART_FORM_HEADER_BG_LAYOUT:function(data,callback){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SMART_FORM_HEADER_BG_LAYOUT,data:data,callback:callback},_AppConstants.PayloadCategory.FORM)},RECALC_WIDTH:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.RECALC_WIDTH},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_HEADER_HEIGHT:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_FORM_HEADER_HEIGHT},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_MODE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_FORM_MODE},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_STEP:function(step){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_STEP,data:step},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_HEADER_LAYOUT_IS_OPEN:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_FORM_HEADER_LAYOUT_IS_OPEN},_AppConstants.PayloadCategory.FORM)},SET_FORM_HEADER_LAYOUT:function(id){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SET_FORM_HEADER_LAYOUT,data:id},_AppConstants.PayloadCategory.FORM)},SET_FORM_HEADER_LAYOUT_BY_ALIGN:function(type,align){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SET_FORM_HEADER_LAYOUT_BY_ALIGN,data:{type:type,align:align}},_AppConstants.PayloadCategory.FORM)},SET_FORM_HEADER_LAYOUT_BY_THEME:function(isApply,sysLayout){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SET_FORM_HEADER_LAYOUT_BY_THEME,data:{isApply:isApply,sysLayout:sysLayout}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_HEADLINE:function(value){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_FORM_HEADLINE,data:value},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_DESCRIPTION:function(value){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_FORM_DESCRIPTION,data:value},_AppConstants.PayloadCategory.FORM)},SWITCH_FORM_LOGO_SETTINGS:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SWITCH_FORM_LOGO_SETTINGS},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_LOGO:function(info,uri){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_LOGO,data:{info:info,uri:uri}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_LOGO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FORM_LOGO},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_LOGO_DISPLAY:function(value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_LOGO_DISPLAY,data:value},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_LOGO_BORDER:function(value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_LOGO_BORDER,data:value},_AppConstants.PayloadCategory.FORM)},SWITCH_FORM_HEADER_BACKGROUND_SETTINGS:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SWITCH_FORM_HEADER_BACKGROUND_SETTINGS},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_HEADER_BACKGROUND:function(info,uri){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_HEADER_BACKGROUND,data:{info:info,uri:uri}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_HEADER_BACKGROUND:function(){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.REMOVE_FORM_HEADER_BACKGROUND},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_HEADER_BACKGROUND_LAYOUT:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_HEADER_BACKGROUND_LAYOUT,data:{name:name,value:value}},_AppConstants.PayloadCategory.FORM)},PALETTE_CHANGE:function(){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.PALETTE_CHANGE},_AppConstants.PayloadCategory.FORM)},FORM_UNDO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.FORM_UNDO},_AppConstants.PayloadCategory.FORM)},FORM_REDO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.FORM_REDO},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_SETTINGS_OPEN:function(status){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_FORM_SETTINGS_OPEN,data:status},_AppConstants.PayloadCategory.FORM)},CLICK_ADD_COMPONENT:function(data){var cb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_ADD_COMPONENT,componentType:data.type,componentInfo:data.defaultInfo,callback:cb},_AppConstants.PayloadCategory.FORM)},CLICK_COPY_COMPONENT:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_COPY_COMPONENT,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_DO_SQUEEZE:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_DO_SQUEEZE,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_SQUEEZE_ITEM_MOVE_LEFT:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_SQUEEZE_ITEM_MOVE_LEFT,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_SQUEEZE_ITEM_MOVE_RIGHT:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_SQUEEZE_ITEM_MOVE_RIGHT,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_DO_UNSQUEEZE:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_DO_UNSQUEEZE,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_REMOVE:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_REMOVE,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_MOVEUP_COMPONENT:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_MOVEUP_COMPONENT,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},CLICK_MOVEDOWN_COMPONENT:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLICK_MOVEDOWN_COMPONENT,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},MOBILE_COPY_COMPONENT:function(params){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.MOBILE_COPY_COMPONENT,index:params.index,componentId:params.componentId},_AppConstants.PayloadCategory.FORM)},SELECT_COMPONENT:function(id){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SELECT_COMPONENT,id:id},_AppConstants.PayloadCategory.FORM)},MOBILE_SELECT_COMPONENT:function(id){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.MOBILE_SELECT_COMPONENT,id:id},_AppConstants.PayloadCategory.FORM)},MOBILE_SWIPE_COMPONENT_LEFT:function(id){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.MOBILE_SWIPE_COMPONENT_LEFT,id:id},_AppConstants.PayloadCategory.FORM)},EDIT_FIELD_EXPAND_REMINDER:function(params){},EDIT_COMPONENT_PROPS:function(data){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.EDIT_COMPONENT_PROPS,data:data},_AppConstants.PayloadCategory.FORM)},BLUR_COMPONENT_EDIT:function(data){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.BLUR_COMPONENT_EDIT,data:data},_AppConstants.PayloadCategory.FORM)},EDIT_CART_INFO:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.EDIT_CART_INFO,data:data},_AppConstants.PayloadCategory.FORM)},EDIT_HEADER_INFO:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.EDIT_HEADER_INFO,data:data},_AppConstants.PayloadCategory.FORM)},EDIT_SUBMIT_INFO:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.EDIT_SUBMIT_INFO,data:data},_AppConstants.PayloadCategory.FORM)},DRAG_START:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.DRAG_START},_AppConstants.PayloadCategory.FORM)},INSERT_ELEMENT:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.INSERT_ELEMENT,index:data.index,isCopy:data.isCopy},_AppConstants.PayloadCategory.FORM)},DRAG_END:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.DRAG_END},_AppConstants.PayloadCategory.FORM)},REMOVE_PLACEHOLDER:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_PLACEHOLDER},_AppConstants.PayloadCategory.FORM)},FORCE_UPDATE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.FORCE_UPDATE},_AppConstants.PayloadCategory.FORM)},HEADER_CALC_END:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.HEADER_CALC_END},_AppConstants.PayloadCategory.FORM)},IMAGE_LOADED:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.IMAGE_LOADED},_AppConstants.PayloadCategory.FORM)},SAVE_FORM:function(callback){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SAVE_FORM,cb:callback},_AppConstants.PayloadCategory.FORM)},PUBLISH_FORM:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.PUBLISH_FORM},_AppConstants.PayloadCategory.FORM)},CHANGE_CLIENT_SLD:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CHANGE_CLIENT_SLD},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_COMPONENTS_IS_OPEN:function(type){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_COMPONENTS_IS_OPEN,data:type},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_WIDTH:function(value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_WIDTH,data:value},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_STYLE:function(field,name,value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_STYLE,data:{field:field,name:name,value:value}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_SETTINGS_INFO:function(name,value,validCondition){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_SETTINGS_INFO,data:{name:name,value:value,validCondition:validCondition}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_WECHAT_SHARE_INFO:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_WECHAT_SHARE_INFO,data:{name:name,value:value}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_WECHAT_SHARE_IMAGE:function(info,uri){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_WECHAT_SHARE_IMAGE,data:{info:info,uri:uri}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_WECHAT_SHARE_IMAGE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FORM_WECHAT_SHARE_IMAGE},_AppConstants.PayloadCategory.FORM)},CLEAR_FORM_WECHAT_SHARE_INFO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLEAR_FORM_WECHAT_SHARE_INFO},_AppConstants.PayloadCategory.FORM)},SAVE_FORM_WECHAT_SHARE_INFO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SAVE_FORM_WECHAT_SHARE_INFO},_AppConstants.PayloadCategory.FORM)},LANG_PACKAGE_CHANGE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.LANG_PKG_CHANGE},_AppConstants.PayloadCategory.FORM)},LOGIC_ITEM_CHECK:function(d){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.LOGIC_ITEM_CHECK,data:{layoutInfo:d.layout}},_AppConstants.PayloadCategory.FORM)},SELECT_COMPONENT_OPTION:function(cpId,opId,num){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SELECT_COMPONENT_OPTION,data:{cpId:cpId,opId:opId,num:num}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_EXTEND_INFO:function(name,value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_EXTEND_INFO,data:{name:name,value:value}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_EXTEND_IFP_INFO:function(name,value,validCondition){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_EXTEND_IFP_INFO,data:{name:name,value:value,validCondition:validCondition}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_EXTEND_TKV_INFO:function(name,value,validCondition){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_EXTEND_TKV_INFO,data:{name:name,value:value,validCondition:validCondition}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_EXTEND_CKI_INFO:function(name,value,validCondition){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_EXTEND_CKI_INFO,data:{name:name,value:value,
  validCondition:validCondition}},_AppConstants.PayloadCategory.FORM)},DOWNLOAD_CKI_QR_CODE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.DOWNLOAD_CKI_QR_CODE},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_EXTEND_LTO_INFO:function(name,value,validCondition){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_EXTEND_LTO_INFO,data:{name:name,value:value,validCondition:validCondition}},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_SYSTEM_STYLE_TYPE:function(dataId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_SYSTEM_STYLE_TYPE,data:dataId},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_SYSTEM_STYLE_AREAS:function(dataArr,operation){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_SYSTEM_STYLE_AREAS,dataArr:dataArr,operation:operation},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_SYSTEM_STYLE:function(value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_SYSTEM_STYLE,data:value},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_SUBMIT_BACKGROUND:function(info,uri){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_SUBMIT_BACKGROUND,data:{info:info,uri:uri}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_SUBMIT_BACKGROUND:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FORM_SUBMIT_BACKGROUND},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_COMPANY_LOGO:function(info,uri){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_COMPANY_LOGO,data:{info:info,uri:uri}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_COMPANY_LOGO:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FORM_COMPANY_LOGO},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_BACKGROUND_COLOR:function(value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_BACKGROUND_COLOR,data:value},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_BACKGROUND:function(info,uri){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_BACKGROUND,data:{info:info,uri:uri}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_BACKGROUND:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FORM_BACKGROUND},_AppConstants.PayloadCategory.FORM)},SELECT_AFTER_SUBMIT_COMPONENT:function(type){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SELECT_AFTER_SUBMIT_COMPONENT,data:type},_AppConstants.PayloadCategory.FORM)},CHANGE_AFTER_SUBMIT_INFO:function(type,info){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_AFTER_SUBMIT_INFO,data:{name:type,value:info}},_AppConstants.PayloadCategory.FORM)},FORM_FEEDBACK_FILTER_BOUGHT:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.FORM_FEEDBACK_FILTER_BOUGHT},_AppConstants.PayloadCategory.FORM)},SET_FORM_FEEDBACK_CUSTOM_ROWS:function(rows){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_FORM_FEEDBACK_CUSTOM_ROWS,data:rows},_AppConstants.PayloadCategory.FORM)},RESET_FORM_FEEDBACK_ROWS:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.RESET_FORM_FEEDBACK_ROWS},_AppConstants.PayloadCategory.FORM)},RECALCULATE_FORM_FEEDBACK_ROWS:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.RECALCULATE_FORM_FEEDBACK_ROWS},_AppConstants.PayloadCategory.FORM)},GET_FORM_FEEDBACK_SUMMARISE:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_FEEDBACK_SUMMARISE,data:frId},_AppConstants.PayloadCategory.FORM)},GET_FORM_FEEDBACK_SORT:function(type){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_FEEDBACK_SORT,data:type},_AppConstants.PayloadCategory.FORM)},FILTER_FORM_FEEDBACK_BY_STATUS:function(statusId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.FILTER_FORM_FEEDBACK_BY_STATUS,data:statusId},_AppConstants.PayloadCategory.FORM)},SET_SEARCH_FORM_FEEDBACKS_TYPE:function(dataId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_SEARCH_FORM_FEEDBACKS_TYPE,data:dataId},_AppConstants.PayloadCategory.FORM)},SET_SEARCH_FORM_FEEDBACKS_KEY:function(key){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SET_SEARCH_FORM_FEEDBACKS_KEY,data:key},_AppConstants.PayloadCategory.FORM)},SEARCH_FORM_FEEDBACKS:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SEARCH_FORM_FEEDBACKS},_AppConstants.PayloadCategory.FORM)},FILTER_FORM_FEEDBACK:function(filters,cb){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.FILTER_FORM_FEEDBACK,data:{filters:filters,callback:cb}},_AppConstants.PayloadCategory.FORM)},QUIT_FORM_FEEDBACK_SEARCH_RESULT:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.QUIT_FORM_FEEDBACK_SEARCH_RESULT},_AppConstants.PayloadCategory.FORM)},GET_FEEDBACK_NEXT:function(cb){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FEEDBACK_NEXT,callback:cb},_AppConstants.PayloadCategory.FORM)},CHANGE_FORM_FEEDBACK_PAGE_STATUS:function(status){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FORM_FEEDBACK_PAGE_STATUS,data:status},_AppConstants.PayloadCategory.FORM)},CHANGE_FEEDBACK_LIST_STATE:function(state){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FEEDBACK_LIST_STATE,data:state},_AppConstants.PayloadCategory.FORM)},SELECT_FEEDBACK_ALL:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SELECT_FEEDBACK_ALL},_AppConstants.PayloadCategory.FORM)},SELECT_FEEDBACK_SHOWN:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.SELECT_FEEDBACK_SHOWN},_AppConstants.PayloadCategory.FORM)},ADD_FEEDBACK_SELECT:function(id){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.ADD_FEEDBACK_SELECT,id:id},_AppConstants.PayloadCategory.FORM)},REMOVE_FEEDBACK_SELECTED:function(id){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FEEDBACK_SELECTED,id:id},_AppConstants.PayloadCategory.FORM)},DBLCLICK_FEEDBACK:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FEEDBACK_BYID,id:id},_AppConstants.PayloadCategory.FORM)},CLOSE_FORM_FEEDBACK_GLANCE:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.CLOSE_FORM_FEEDBACK_GLANCE},_AppConstants.PayloadCategory.FORM)},PIN_FORM_FEEDBACK:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.PIN_FORM_FEEDBACK},_AppConstants.PayloadCategory.FORM)},READ_FORM_FEEDBACKS:function(selected,isRead){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.READ_FORM_FEEDBACKS,data:{feedbackId:selected,isRead:isRead}},_AppConstants.PayloadCategory.FORM)},STAR_FORM_FEEDBACKS:function(selected,isStar){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.STAR_FORM_FEEDBACKS,data:{feedbackId:selected,isStar:isStar}},_AppConstants.PayloadCategory.FORM)},DISPOSE_FORM_FEEDBACKS:function(selected,isDisposed){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.DISPOSE_FORM_FEEDBACKS,data:{fbId:selected,isDisposed:isDisposed}},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_FEEDBACK:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.REMOVE_FORM_FEEDBACK,data:id},_AppConstants.PayloadCategory.FORM)},CHANGE_FEEDBACK_TICKET_STATUS:function(tId,status){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_FEEDBACK_TICKET_STATUS,data:{tId:tId,status:status}},_AppConstants.PayloadCategory.FORM)},CANCEL_FLTO_WINNING:function(fbId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CANCEL_FLTO_WINNING,data:fbId},_AppConstants.PayloadCategory.FORM)},READ_FORM_FEEDBACKS_BATCH:function(isRead){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.READ_FORM_FEEDBACKS_BATCH,data:isRead},_AppConstants.PayloadCategory.FORM)},STAR_FORM_FEEDBACKS_BATCH:function(isStar){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.STAR_FORM_FEEDBACKS_BATCH,data:isStar},_AppConstants.PayloadCategory.FORM)},DISPOSE_FORM_FEEDBACKS_BATCH:function(isDisposed){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.DISPOSE_FORM_FEEDBACKS_BATCH,data:isDisposed},_AppConstants.PayloadCategory.FORM)},DOWNLOAD_FEEDBACK_BATCH:function(data){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.DOWNLOAD_FEEDBACK_BATCH,data:data},_AppConstants.PayloadCategory.FORM)},REMOVE_FORM_FEEDBACKS_BATCH:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.REMOVE_FORM_FEEDBACKS_BATCH})},ADD_FORM_FEEDBACKS_CTS_TO_GROUPS_BATCH:function(groups){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.ADD_FORM_FEEDBACKS_CTS_TO_GROUPS_BATCH,data:groups},_AppConstants.PayloadCategory.FORM)},GET_SUBMIT_INFO_CHART:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_SUBMIT_INFO_CHART,data:id},_AppConstants.PayloadCategory.FORM)},DOWNLOAD_FEEDBACK_CHART:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.DOWNLOAD_FEEDBACK_CHART,frId:frId},_AppConstants.PayloadCategory.FORM)},DOWNLOAD_FEEDBACK_FILE:function(id,uid,ext){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.DOWNLOAD_FEEDBACK_FILE,data:{id:id,uid:uid,ext:ext}},_AppConstants.PayloadCategory.FORM)},PREPARE_DOWNLOAD_FEEDBACK:function(id){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.PREPARE_DOWNLOAD_FEEDBACK,data:id},_AppConstants.PayloadCategory.FORM)},DOWNLOAD_FEEDBACK:function(data,isMobile){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.DOWNLOAD_FEEDBACK,data:data,isMobile:isMobile},_AppConstants.PayloadCategory.FORM)},ADD_FEEDBACK_NOTE:function(value){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.ADD_FEEDBACK_NOTE,data:value},_AppConstants.PayloadCategory.FORM)},REMOVE_FEEDBACK_NOTE:function(fbNtId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.REMOVE_FEEDBACK_NOTE,data:fbNtId},_AppConstants.PayloadCategory.FORM)},GET_FEEDBACK_INFO_IN_CONTACT_EVENTS:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FEEDBACK_INFO_IN_CONTACT_EVENTS,data:frId},_AppConstants.PayloadCategory.FORM)},CHANGE_CHART_IGNORE_HISTORY_STATUS:function(frId,newIgnoreHistoryStatus){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_CHART_IGNORE_HISTORY_STATUS,data:{frId:frId,ignoreHistory:newIgnoreHistoryStatus}},_AppConstants.PayloadCategory.FORM)},GET_FORM_UNEXPECTED_CKI_SUMMARY:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_UNEXPECTED_CKI_SUMMARY,data:frId},_AppConstants.PayloadCategory.FORM)},GET_FORM_UNEXPECTED_CKI_NEXT:function(cb){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_UNEXPECTED_CKI_NEXT,callback:cb},_AppConstants.PayloadCategory.FORM)},EXPORT_FORM_UNEXPECTED_CKI_LIST:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.EXPORT_FORM_UNEXPECTED_CKI_LIST},_AppConstants.PayloadCategory.FORM)},TICKET_VALIDATION_PREPARE:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.TICKET_VALIDATION_PREPARE,frId:frId},_AppConstants.PayloadCategory.TICKET)},GET_TICKET_VALIDATION_SETTINGS:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_TICKET_VALIDATION_SETTINGS,frId:frId},_AppConstants.PayloadCategory.TICKET)},CHANGE_TKV_IS_AUTO:function(state){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_TKV_IS_AUTO,isAuto:state},_AppConstants.PayloadCategory.TICKET)},SEARCH_TICKETS:function(key,checkWay){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.SEARCH_TICKETS,data:{key:key,checkWay:checkWay}},_AppConstants.PayloadCategory.TICKET)},CHANGE_TICKET_STATUS:function(tId,status){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.CHANGE_TICKET_STATUS,data:{tId:tId,status:status}},_AppConstants.PayloadCategory.TICKET)},GET_FORM_ORDER_SUMMARY:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_FORM_ORDER_SUMMARY},_AppConstants.PayloadCategory.FORM)},GET_ORDER_LIST_PREV:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_ORDER_LIST_PREV},_AppConstants.PayloadCategory.FORM)},GET_ORDER_LIST_NEXT:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_ORDER_LIST_NEXT},_AppConstants.PayloadCategory.FORM)},GET_ORDER_LIST_GO_TO:function(pageNum){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_ORDER_LIST_GO_TO,data:pageNum},_AppConstants.PayloadCategory.FORM)},GET_FORM_ORDER_BY_FORM:function(frId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_ORDER_BY_FORM,data:frId},_AppConstants.PayloadCategory.FORM)},GET_FORM_SETTLE_SUMMARY:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_FORM_SETTLE_SUMMARY},_AppConstants.PayloadCategory.FORM)},GET_FORM_SETTLE_DETAILS:function(settleId){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_FORM_SETTLE_DETAILS,data:settleId},_AppConstants.PayloadCategory.FORM)},GET_SETTLE_LIST_PREV:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_SETTLE_LIST_PREV},_AppConstants.PayloadCategory.FORM)},GET_SETTLE_LIST_NEXT:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.GET_SETTLE_LIST_NEXT},_AppConstants.PayloadCategory.FORM)},GET_SETTLE_LIST_GO_TO:function(pageNum){_AppDispatcher2["default"].handleServerAction({type:_FormConstants.ActionTypes.GET_SETTLE_LIST_GO_TO,data:pageNum},_AppConstants.PayloadCategory.FORM)},APPLY_IFP_SUCCEED:function(){_AppDispatcher2["default"].handleViewAction({type:_FormConstants.ActionTypes.APPLY_IFP_SUCCEED},_AppConstants.PayloadCategory.FORM)}};exports["default"]=FormAction,module.exports=exports["default"]},function(module,exports,__webpack_require__){var keyMirror=__webpack_require__(27);module.exports={ActionTypes:keyMirror({BIND_WECHAT_SUCCEED:null,TOGGLE_WECHAT_NOTICE_NEW_SUBMIY:null,CHANGE_SMS_STATE_IN_FORM_BUILDER:null,GET_FORM_DETAIL:null,UPDATE_FORM_DETAIL:null,GET_FORM_LIST_SUMMARY:null,SET_SEARCH_FORM_KEY:null,SEARCH_FORM_BY_NAME:null,QUIT_FORM_SEARCH_RESULT:null,SET_FORM_FILTER_GROUP:null,SET_FORM_FILTER_SORT:null,GET_NEXT_FORMS:null,RENAME_FORM:null,CREATE_FORM_DUPLICATE:null,REMOVE_FORM:null,GET_FORM_BYID:null,CLOSE_FORM_GLANCE:null,CHANGE_FORM_GROUP:null,SET_FORM_STATUS_STOP:null,SET_FORM_STATUS_START:null,CREATE_FORM_GROUP:null,EDIT_FORM_GROUP:null,REMOVE_FORM_GROUP:null,CHANGE_FORM_GROUP_HIGHLIGHT:null,GET_FORM_GROUPS:null,INIT_FORM_CREATE_INFO:null,SET_FORM_CREATE_INFO:null,CREATE_FORM:null,CHANGE_FORM_TEMPLATE_LANGUAGE:null,SET_FORM_CREATE_TEMPLATE:null,STAR_FORM_TEMPLATE:null,CHANGE_FORM_IS_TOP:null,CHANGE_FORM_IS_HIGHLIGHT:null,LANG_PKG_CHANGE:null,GET_ALL_EXT_INFO:null,CHANGE_FORM_ALL_EXTEND_INFO:null,BUY_FADD_SUCCEED:null,BUY_FORM_EXT_SUCCEED:null,TOGGLE_FORM_EXT:null,BUY_FORM_CAPTCHA_SUCCEED:null,BUY_FORM_COMPONENT_SUCCEED:null,SMART_FORM_HEADLINE_LAYOUT:null,SMART_FORM_HEADER_BG_LAYOUT:null,OPTION_EDIT_WARNING:null,PROCESS_OPTION_WARNING:null,RECALC_WIDTH:null,PALETTE_CHANGE:null,CHANGE_FORM_HEADER_HEIGHT:null,CHANGE_FORM_MODE:null,CHANGE_FORM_STEP:null,CHANGE_FORM_HEADER_LAYOUT_IS_OPEN:null,SET_FORM_HEADER_LAYOUT:null,SET_FORM_HEADER_LAYOUT_BY_ALIGN:null,SET_FORM_HEADER_LAYOUT_BY_THEME:null,CHANGE_FORM_HEADLINE:null,CHANGE_FORM_DESCRIPTION:null,SWITCH_FORM_LOGO_SETTINGS:null,CHANGE_FORM_LOGO:null,REMOVE_FORM_LOGO:null,CHANGE_FORM_LOGO_DISPLAY:null,CHANGE_FORM_LOGO_BORDER:null,SWITCH_FORM_HEADER_BACKGROUND_SETTINGS:null,CHANGE_FORM_HEADER_BACKGROUND:null,REMOVE_FORM_HEADER_BACKGROUND:null,CHANGE_FORM_HEADER_BACKGROUND_LAYOUT:null,SAVE_FORM:null,PUBLISH_FORM:null,CHANGE_CLIENT_SLD:null,INIT_FORM_HEADER:null,INIT_FORM_SETTINGS:null,FORM_UNDO:null,FORM_REDO:null,CHANGE_FORM_COMPONENTS_IS_OPEN:null,CHANGE_FORM_WIDTH:null,CHANGE_FORM_STYLE:null,CHANGE_FORM_SETTINGS_INFO:null,CHANGE_FORM_WECHAT_SHARE_INFO:null,CHANGE_FORM_WECHAT_SHARE_IMAGE:null,REMOVE_FORM_WECHAT_SHARE_IMAGE:null,CLEAR_FORM_WECHAT_SHARE_INFO:null,SAVE_FORM_WECHAT_SHARE_INFO:null,CHANGE_FORM_SETTINGS_OPEN:null,FORCE_UPDATE:null,CLICK_ADD_COMPONENT:null,CLICK_COPY_COMPONENT:null,CLICK_DO_SQUEEZE:null,CLICK_SQUEEZE_ITEM_MOVE_LEFT:null,CLICK_SQUEEZE_ITEM_MOVE_RIGHT:null,CLICK_DO_UNSQUEEZE:null,CLICK_REMOVE:null,CLICK_MOVEUP_COMPONENT:null,CLICK_MOVEDOWN_COMPONENT:null,MOBILE_COPY_COMPONENT:null,SELECT_COMPONENT:null,MOBILE_SELECT_COMPONENT:null,MOBILE_SWIPE_COMPONENT_LEFT:null,EDIT_FIELD_EXPAND_REMINDER:null,EDIT_COMPONENT_PROPS:null,BLUR_COMPONENT_EDIT:null,EDIT_CART_INFO:null,EDIT_HEADER_INFO:null,EDIT_SUBMIT_INFO:null,DRAG_START:null,INSERT_ELEMENT:null,DRAG_END:null,REMOVE_PLACEHOLDER:null,HEADER_CALC_END:null,IMAGE_LOADED:null,LOGIC_ITEM_CHECK:null,SELECT_COMPONENT_OPTION:null,CHANGE_FORM_EXTEND_INFO:null,CHANGE_FORM_EXTEND_IFP_INFO:null,CHANGE_FORM_EXTEND_TKV_INFO:null,CHANGE_FORM_EXTEND_CKI_INFO:null,DOWNLOAD_CKI_QR_CODE:null,CHANGE_FORM_EXTEND_LTO_INFO:null,CHANGE_FORM_SYSTEM_STYLE_TYPE:null,CHANGE_FORM_SYSTEM_STYLE_AREAS:null,CHANGE_FORM_SYSTEM_STYLE:null,CHANGE_FORM_SUBMIT_BACKGROUND:null,REMOVE_FORM_SUBMIT_BACKGROUND:null,CHANGE_FORM_BACKGROUND_COLOR:null,CHANGE_FORM_BACKGROUND:null,REMOVE_FORM_BACKGROUND:null,CHANGE_FORM_COMPANY_LOGO:null,REMOVE_FORM_COMPANY_LOGO:null,SELECT_AFTER_SUBMIT_COMPONENT:null,CHANGE_AFTER_SUBMIT_INFO:null,FORM_FEEDBACK_FILTER_BOUGHT:null,SET_FORM_FEEDBACK_CUSTOM_ROWS:null,RESET_FORM_FEEDBACK_ROWS:null,RECALCULATE_FORM_FEEDBACK_ROWS:null,GET_FORM_FEEDBACK_SUMMARISE:null,GET_FORM_FEEDBACK_SORT:null,FILTER_FORM_FEEDBACK_BY_STATUS:null,SET_SEARCH_FORM_FEEDBACKS_TYPE:null,SET_SEARCH_FORM_FEEDBACKS_KEY:null,SEARCH_FORM_FEEDBACKS:null,FILTER_FORM_FEEDBACK:null,QUIT_FORM_FEEDBACK_SEARCH_RESULT:null,GET_FEEDBACK_NEXT:null,CHANGE_FORM_FEEDBACK_PAGE_STATUS:null,CHANGE_FEEDBACK_LIST_STATE:null,SELECT_FEEDBACK_ALL:null,SELECT_FEEDBACK_SHOWN:null,ADD_FEEDBACK_SELECT:null,REMOVE_FEEDBACK_SELECTED:null,GET_FEEDBACK_BYID:null,CLOSE_FORM_FEEDBACK_GLANCE:null,PIN_FORM_FEEDBACK:null,READ_FORM_FEEDBACKS:null,STAR_FORM_FEEDBACKS:null,DISPOSE_FORM_FEEDBACKS:null,REMOVE_FORM_FEEDBACK:null,CHANGE_FEEDBACK_TICKET_STATUS:null,CANCEL_FLTO_WINNING:null,READ_FORM_FEEDBACKS_BATCH:null,STAR_FORM_FEEDBACKS_BATCH:null,DISPOSE_FORM_FEEDBACKS_BATCH:null,DOWNLOAD_FEEDBACK_BATCH:null,REMOVE_FORM_FEEDBACKS_BATCH:null,ADD_FORM_FEEDBACKS_CTS_TO_GROUPS_BATCH:null,GET_SUBMIT_INFO_CHART:null,CHANGE_CHART_IGNORE_HISTORY_STATUS:null,GET_FORM_UNEXPECTED_CKI_SUMMARY:null,GET_FORM_UNEXPECTED_CKI_NEXT:null,EXPORT_FORM_UNEXPECTED_CKI_LIST:null,SEARCH_TICKET:null,DOWNLOAD_FEEDBACK_CHART:null,DOWNLOAD_FEEDBACK_FILE:null,PREPARE_DOWNLOAD_FEEDBACK:null,DOWNLOAD_FEEDBACK:null,ADD_FEEDBACK_NOTE:null,REMOVE_FEEDBACK_NOTE:null,GET_FEEDBACK_INFO_IN_CONTACT_EVENTS:null,TICKET_VALIDATION_PREPARE:null,GET_TICKET_VALIDATION_SETTINGS:null,CHANGE_TKV_IS_AUTO:null,SEARCH_TICKETS:null,CHANGE_TICKET_STATUS:null,GET_FORM_ORDER_SUMMARY:null,GET_ORDER_LIST_PREV:null,GET_ORDER_LIST_NEXT:null,GET_ORDER_LIST_GO_TO:null,GET_FORM_ORDER_BY_FORM:null,GET_FORM_SETTLE_SUMMARY:null,GET_FORM_SETTLE_DETAILS:null,GET_SETTLE_LIST_PREV:null,GET_SETTLE_LIST_NEXT:null,GET_SETTLE_LIST_GO_TO:null,GET_FORM_TRANSACTION_SUMMARY:null,APPLY_IFP_SUCCEED:null})}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_config=__webpack_require__(7),_MKCPopwinPay=__webpack_require__(77),_MKCPopwinPay2=_interopRequireDefault(_MKCPopwinPay),_MKCBuyProduct=__webpack_require__(91),_MKCBuyProduct2=_interopRequireDefault(_MKCBuyProduct),MKCPopwinProductIntroduce=_react2["default"].createClass({displayName:"MKCPopwinProductIntroduce",render:function(){var props=this.props;return _react2["default"].createElement(_MKCPopwinPay2["default"],{className:"payFilter_popInner",key:"popPay",title:_config.lang.fBProductIntroduceObj[props.prGrId].title},_react2["default"].createElement("div",{className:"popPay_content"},_react2["default"].createElement("p",{className:"popPay_guide"},_config.lang.fBProductIntroduceObj[props.prGrId].guide),_react2["default"].createElement(_MKCBuyProduct2["default"],_extends({className:"popPay_main"},props))))}});module.exports=MKCPopwinProductIntroduce},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(7),_MKCBtnNormalWithMultiStates=__webpack_require__(66),_MKCBtnNormalWithMultiStates2=_interopRequireDefault(_MKCBtnNormalWithMultiStates),_MKCPopwinBuyReact=__webpack_require__(72),_MKCPopwinBuyReact2=_interopRequireDefault(_MKCPopwinBuyReact),_GlobalUtil=__webpack_require__(40),MKCBuyProduct=_react2["default"].createClass({displayName:"MKCBuyProduct",handleFinished:function(){this.props.onFinished&&this.props.onFinished()},handleOpenPopBuy:function(){var _props=this.props,isMobile=_props.isMobile,prGrId=_props.prGrId,extInfo=_props.extInfo;isMobile?location.href=window.rootPath("mobile/product.php?pgi="+prGrId+"&ext="+JSON.stringify(extInfo)):_reactDom2["default"].render(_react2["default"].createElement(_MKCPopwinBuyReact2["default"],{prGrId:prGrId,ext:extInfo,onFinished:this.handleFinished}),document.getElementById("popPay"))},render:function(){var _props2=this.props,prGrId=_props2.prGrId,className=_props2.className,prGrInfo=_GlobalUtil.PRODUCT_GROUP_INFO[prGrId];return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("buy_main",className)},_react2["default"].createElement("div",{className:"buy_image"},_react2["default"].createElement("div",{className:"buy_img",style:{backgroundColor:prGrInfo.bgColor,backgroundPosition:prGrInfo.bgPosition}})),_react2["default"].createElement("div",{className:"buy_info"},_react2["default"].createElement("p",{className:"buy_name"},_config.lang.fBProductIntroduceObj[prGrId].name,prGrInfo.wikiLink?_react2["default"].createElement("a",{className:"iconfont cp_toWiki",title:_config.lang.gTitleViewMore,target:"_blank",href:prGrInfo.wikiLink},String.fromCharCode(58929)):null),_react2["default"].createElement("p",{className:"buy_describe"},_config.lang.fBProductIntroduceObj[prGrId].describe)),_react2["default"].createElement(_MKCBtnNormalWithMultiStates2["default"],{className:"orange buy_button",dis:_config.lang.gBtnBuy,onClick:this.handleOpenPopBuy}))}});module.exports=MKCBuyProduct},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_LegoCountPicker=__webpack_require__(93),_LegoCountPicker2=_interopRequireDefault(_LegoCountPicker),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),EMPTY_LIST=[];exports["default"]=_react2["default"].createClass({displayName:"MKC.CountPicker.react",mixins:[_reactAddonsPureRenderMixin2["default"]],handleChange:function(e,value){this.props.onChange&&this.props.onChange(value)},render:function(){var _props=this.props,icon=_props.icon,title=_props.title,classPrefix=_props.classPrefix,name=_props.name,className=_props.className,defaultValue=_props.defaultValue,btnTitle=_props.btnTitle,props=_objectWithoutProperties(_props,["icon","title","classPrefix","name","className","defaultValue","btnTitle"]);return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("cp_infoItemField","cp_countPickerField",className,classPrefix+"_infoItemField",name)},icon?_react2["default"].createElement("span",{className:(0,_classnames2["default"])("iconfont","cp_iIcon",classPrefix+"_iIcon"),key:"icon"+name},icon):null,title?_react2["default"].createElement("span",{className:(0,_classnames2["default"])("cp_iTitle",classPrefix+"_iTitle"),key:"title"+name},title):null,_react2["default"].createElement("div",{className:(0,_classnames2["default"])("cp_countPickerContent",classPrefix+"_countPickerContent")},_react2["default"].createElement(_LegoCountPicker2["default"],_extends({className:"cp_iCountPicker",name:name,value:+defaultValue,btnTitle:btnTitle||EMPTY_LIST},props,{onChange:this.handleChange}))))}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_MGSelectionManager=__webpack_require__(94),_MGSelectionManager2=_interopRequireDefault(_MGSelectionManager),_MGUtil=__webpack_require__(11),_MGUtil2=_interopRequireDefault(_MGUtil),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin);exports["default"]=_react2["default"].createClass({displayName:"LegoCountPicker.react",mixins:[_reactAddonsPureRenderMixin2["default"]],propTypes:{className:_react2["default"].PropTypes.string,name:_react2["default"].PropTypes.string,style:_react2["default"].PropTypes.object,hasInput:_react2["default"].PropTypes.bool,inputDisable:_react2["default"].PropTypes.bool,value:_react2["default"].PropTypes.number,maxValue:_react2["default"].PropTypes.number,minValue:_react2["default"].PropTypes.number,stepValue:_react2["default"].PropTypes.number,disabled:_react2["default"].PropTypes.bool,maxDisabled:_react2["default"].PropTypes.bool,minDisabled:_react2["default"].PropTypes.bool,onChange:_react2["default"].PropTypes.func},getDefaultProps:function(){return{btnTitle:[],hasInput:!0,maxValue:1/0,minValue:0,stepValue:1,value:0}},getInitialState:function(){return{value:this._returnValueValid(this.props.value),defaultValue:this._returnValueValid(this.props.value),focus:!1}},componentWillReceiveProps:function(nextProps){this.setState({value:this._returnValueValid(nextProps.value),defaultValue:this._returnValueValid(nextProps.value)})},_returnValueValid:function(v){var props=this.props;return v-=0,isNaN(v)||Math.floor(v)!==v?props.minValue:Math.min(Math.max(props.minValue,v),props.maxValue)},handleReduce:function(e){e.stopPropagation(),this.props.disabled||this.state.value<this.props.minValue||this.props.minDisabled||this.handleValueChange(e,this.state.value-this.props.stepValue)},handleIncrease:function(e){e.stopPropagation(),this.props.disabled||this.state.value>this.props.maxValue||this.props.maxDisabled||this.handleValueChange(e,this.state.value+this.props.stepValue)},handleKeyDown:function(e){e=e||window.event;var keyCode=e.keyCode||e.which,value=_reactDom2["default"].findDOMNode(this.refs.countpickerInput).value;38===keyCode?(e.stopPropagation(),e.preventDefault(),this.handleReduce(e)):40===keyCode?(e.stopPropagation(),e.preventDefault(),this.handleIncrease(e)):13===keyCode&&this.handleValueChange(e,value)},handleUnitMouseDown:function(e){e.stopPropagation(),e.preventDefault(),this.props.disabled||(this.setState({focus:!0}),_MGSelectionManager2["default"].focusEnd(_reactDom2["default"].findDOMNode(this.refs.countpickerInput),!0))},handleFocus:function(e){this.props.disabled||this.setState({focus:!0})},handleBlur:function(e){var value=_reactDom2["default"].findDOMNode(this.refs.countpickerInput).value;this.handleValueChange(e,value),this.setState({focus:!1})},handleChange:function(e){var value=_reactDom2["default"].findDOMNode(this.refs.countpickerInput).value;this.setState({defaultValue:value})},handleValueChange:function(e,v){var props=this.props,value=this._returnValueValid(v-0);this.setState({value:value,defaultValue:value}),props.onChange&&props.onChange(e,value)},render:function(){var state=this.state,value=state.value,props=this.props,_reduceClass={"lg-countpicker-reduce":!0,disabled:props.disabled||value==props.minValue||value<props.minValue||props.minDisabled},_increaseClass={"lg-countpicker-increase":!0,disabled:props.disabled||value==props.maxValue||value>props.maxValue||props.maxDisabled},_class={"lg-countpicker":!0,"no-input":!props.hasInput};props.className&&props.className.split(" ").forEach(function(v){v&&(_class[v]=!0)});var _inputProps={ref:"countpickerInput",className:(0,_classnames2["default"])({"lg-countpicker-input":!0,"lg-countpicker-focus":state.focus}),type:_MGUtil2["default"].fuzzyDeviceCheck?"number":"text",value:state.defaultValue,autoComplete:"off",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,disabled:props.disabled||props.inputDisable,style:{pointerEvents:props.disabled||props.inputDisable?"none":"visible"},tabIndex:0},_input=null,_unit=null;return props.hasInput&&(_input=_react2["default"].createElement("input",_inputProps),props.unit&&(_unit=_react2["default"].createElement("i",{className:"iconfont lg-countpicker-unit",onMouseDown:this.handleUnitMouseDown},props.unit))),_react2["default"].createElement("div",{className:(0,_classnames2["default"])(_class)},_react2["default"].createElement("a",{className:(0,_classnames2["default"])(_reduceClass,"iconfont"),tabIndex:-1,title:props.btnTitle[0]||"",onMouseDown:this.handleReduce},props.hasInput?String.fromCharCode(58980):""),_input,_unit,_react2["default"].createElement("a",{className:(0,_classnames2["default"])(_increaseClass,"iconfont"),tabIndex:-1,title:props.btnTitle[1]||"",onMouseDown:this.handleIncrease},props.hasInput?String.fromCharCode(58979):""),_react2["default"].createElement("div",{className:"clearB"}))}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function clear(str){
  return(str||"").replace(REGEX_CR,"").replace(REGEX_LF,"").replace(REGEX_NBSP,SPACE).replace(REGEX_CARRIAGE,"").replace(REGEX_ZWS,"")}function _getLine(node,isBlock){for(var line=isBlock?1:0,child=node.firstChild;child;){var isBr=!1;child.nodeName in blockHTMLNode?line+=_getLine(child,!0):"BR"!==child.nodeName||child.getAttribute("data-empty")||(isBr=!0),child=child.nextSibling,!isBr||!child&&isBlock||line++}return line}function _countLine(node,isBlock,extInfo){if(!node)return{lineNum:0,strLength:0};for(var currentPrevLength=extInfo.strLen,lineContent=extInfo.lineContent,currentLineStr=extInfo.currentLineStr,prev=node.previousSibling,lineNum=0,prevStrLength=extInfo.currentStrLength,lastIsBlock=isBlock;prev;)_MGDebugger2["default"].log("prev",prev),!lastIsBlock||"BR"===prev.nodeName||prev.nodeName in blockHTMLNode||(currentPrevLength+=prevStrLength,prevStrLength=0,lineContent.push(currentLineStr),currentLineStr="",lineNum++),lastIsBlock=!1,3===prev.nodeType?(currentLineStr+=clear(prev.nodeValue||""),prevStrLength+=clear(prev.nodeValue||"").length):"BR"!==prev.nodeName&&(currentLineStr+=clear(prev.textContent||prev.innerText||""),prevStrLength+=clear(prev.textContent||prev.innerText||"").length),"BR"!==prev.nodeName||prev.getAttribute("data-empty")?prev.nodeName in blockHTMLNode&&(lineNum+=_getLine(prev,!0),currentPrevLength+=prevStrLength,prevStrLength=0,lineContent.push(currentLineStr),currentLineStr="",lastIsBlock=!0):(currentPrevLength+=prevStrLength,prevStrLength=0,lineContent.push(currentLineStr),currentLineStr="",lineNum++),prev=prev.previousSibling;return{lineNum:lineNum,strLength:currentPrevLength,currentStrLength:prevStrLength}}function _getCaretPositionIE(node){var endRange,len,normalizedValue,pos,range,textInputRange,_doc=node.ownerDocument||node.document;return range=_doc.selection.createRange(),pos=0,_MGDebugger2["default"].log(range.parentElement(),node),range&&range.parentElement()===node&&(normalizedValue=node.value.replace(/\r\n/g,"\n"),len=normalizedValue.length,textInputRange=node.createTextRange(),textInputRange.moveToBookmark(range.getBookmark()),endRange=node.createTextRange(),endRange.collapse(!1),pos=textInputRange.compareEndPoints("StartToEnd",endRange)>-1?len:-textInputRange.moveStart("character",-len)),pos}function getCaretPosition(node){var caretOffset=!1;if(!node)return caretOffset;var _doc=node.ownerDocument||node.document;if("undefined"!=typeof window.getSelection){var range=null;try{range=window.getSelection().getRangeAt(0)}catch(e){return caretOffset}var preCaretRange=range.cloneRange();preCaretRange.selectNodeContents(node),preCaretRange.setEnd(range.endContainer,Math.min(range.endContainer.length,range.endOffset));var prev=range.commonAncestorContainer,lineContent=[],currentLineStr="",lineNum=0,prevStrLength=0,currentLineStrLength=0,findParent=!1;if(prev===node&&(prev=prev.childNodes[prev.childNodes.length-1]),!prev)return{strPos:0,lineNumEnd:0,linePosEnd:0};var _lowerLineInfo=_countLine(prev,prev.nodeName in blockHTMLNode,{strLen:prevStrLength,currentStrLength:currentLineStrLength,lineContent:lineContent,currentLineStr:currentLineStr});lineNum+=_lowerLineInfo.lineNum,prevStrLength=_lowerLineInfo.strLength,currentLineStrLength=_lowerLineInfo.currentStrLength,3!==prev.nodeType&&prev.nodeName in blockHTMLNode||(findParent=!0);for(;findParent&&prev.parentNode!==node;){prev=prev.parentNode;var inBlock=prev.nodeName in blockHTMLNode,_higherLineInfo=_countLine(prev,inBlock,{strLen:prevStrLength,currentStrLength:currentLineStrLength,lineContent:lineContent,currentLineStr:currentLineStr});lineNum+=_higherLineInfo.lineNum,prevStrLength=_higherLineInfo.strLength,currentLineStrLength=_higherLineInfo.currentStrLength,findParent=3===prev.nodeType||!inBlock}var prevInfoLen=lineContent.length<1?prevStrLength:(0,_lodash2["default"])(lineContent).map(function(v){return v.length}).reduce(_lodash2["default"].add),pureRangePos=preCaretRange.toString().length;_MGDebugger2["default"].log("\nline number...>",lineNum,"\nprevStringLength...>",prevStrLength,"\ncurrentLineStringLength....>",currentLineStrLength,"\nlineContent....>",lineContent,"str:: ",currentLineStr,"\ncurrentLinePos:",pureRangePos,pureRangePos-prevStrLength,pureRangePos-prevInfoLen),caretOffset={strPos:pureRangePos,lineNumEnd:lineNum,linePosEnd:0===lineNum?pureRangePos:pureRangePos-prevInfoLen}}else"undefined"!=typeof _doc.selection&&"Control"!=_doc.selection.type&&(caretOffset={strPos:_getCaretPositionIE(node),linePosEnd:null,lineNumEnd:null});return caretOffset}function _focusLine(node,position,currentInfo){var children=node.childNodes,_currentLine=currentInfo.line,_currentPositionStr=Math.max(currentInfo.pos,0),_prevStr=currentInfo.prevStr,_doc=node.ownerDocument||node.document,found=!1;return _lodash2["default"].forEach(children,function(child,idx){var childName=child.nodeName;if(3===child.nodeType){var _str=clear(child.nodeValue||"");if(_currentLine===position.lineNumEnd&&_currentPositionStr+_str.length>=position.strPos){var selection=window.getSelection(),range=_doc.createRange();return range.setStart(child,position.strPos-_currentPositionStr),selection.removeAllRanges(),selection.addRange(range),found=!0,!1}_currentPositionStr+=_str.length}else if("BR"===childName){if(idx===children.length-1&&currentInfo.isBlock||_currentLine++,_currentLine===position.lineNumEnd&&_currentPositionStr>=position.strPos){var _selection=window.getSelection(),_range=_doc.createRange();return _range.setStart(node,0),_selection.removeAllRanges(),_selection.addRange(_range),found=!0,!1}}else{childName in blockHTMLNode&&0!==idx&&_currentLine++;var _blockInfo=_focusLine(child,position,{line:_currentLine,pos:_currentPositionStr,isBlock:childName in blockHTMLNode,prevStr:_prevStr});if(!_blockInfo)return found=!0,!1;_currentLine=_blockInfo.line,_currentPositionStr=_blockInfo.pos}}),!found&&{line:_currentLine,pos:_currentPositionStr,prevStr:_prevStr}}function focusPosition(node,position){if(node){if(node&&0===node.childNodes.length)return void node.focus();var _doc=node.ownerDocument||node.document;_doc.createRange&&window.getSelection&&_focusLine(node,position,{line:0,pos:0,isBlock:!1,prevStr:null})}}function focusInputPosition(node,position){if("INPUT"!==node.nodeName&&focusLine(node,node.childNodes.length),0===node.value.length)return void node.focus();if(document.createRange&&window.getSelection&&node.setSelectionRange){var selection=window.getSelection();selection.removeAllRanges(),node.focus();var _position=Math.min(node.value.length,position);node.setSelectionRange(_position,_position)}else node.focus()}function focusEnd(node){"INPUT"===node.nodeName?focusInputPosition(node,node.value.length):focusLine(node,node.childNodes.length)}function focusLine(node,lineNum){if(0===node.childNodes.length)return void node.focus();if(document.createRange&&window.getSelection){var selection=window.getSelection();selection.removeAllRanges();var range=document.createRange();range.selectNodeContents(node),range.setStart(node,Math.min(node.childNodes.length,lineNum)),range.collapse(!0),selection.addRange(range)}node.focus()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.blockHTMLNode=void 0;var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_MGDebugger=__webpack_require__(39),_MGDebugger2=_interopRequireDefault(_MGDebugger),blockHTMLNode=exports.blockHTMLNode={ADDRESS:!1,ARTICLE:!0,ASIDE:!0,AUDIO:!0,BLOCKQUOTE:!1,CANVAS:!0,DD:!1,DIV:!1,DL:!1,FIELDSET:!1,FIGCAPTION:!0,FIGURE:!0,FOOTER:!0,FORM:!1,H1:!1,H2:!1,H3:!1,H4:!1,H5:!1,H6:!1,HEADER:!0,HGROUP:!0,HR:!1,NOSCRIPT:!1,OL:!1,OUTPUT:!0,P:!1,PRE:!1,SECTION:!0,TABLE:!1,TFOOT:!1,UL:!1,VIDEO:!0},NBSP="&nbsp;",SPACE=" ",REGEX_CR=new RegExp("\r","g"),REGEX_LF=new RegExp("\n","g"),REGEX_NBSP=new RegExp(NBSP,"g"),REGEX_CARRIAGE=new RegExp("&#13;?","g"),REGEX_ZWS=new RegExp("&#8203;?","g");exports["default"]={focusPosition:focusPosition,focusEnd:focusEnd,getCaretPosition:getCaretPosition}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_MGIntl=__webpack_require__(17),_MGIntl2=_interopRequireDefault(_MGIntl),_BuyAction=__webpack_require__(73),_BuyAction2=_interopRequireDefault(_BuyAction),_BuyStore=__webpack_require__(75),_BuyStore2=_interopRequireDefault(_BuyStore),_MKCBtnNormalWithMultiStates=__webpack_require__(66),_MKCBtnNormalWithMultiStates2=_interopRequireDefault(_MKCBtnNormalWithMultiStates),_config=__webpack_require__(7),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCPopwinBuyPayCash=_react2["default"].createClass({displayName:"MKCPopwinBuyPayCash",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{isOpenDetails:!1,isFinished:!1}},componentDidMount:function(){_BuyStore2["default"].addChangeListener("dmwProgressSucceed",this.handleDmwProgressSucceed),this.getDmwProgress=window.setInterval(function(){this.state.isFinished?window.clearInterval(this.getDmwProgress):_BuyAction2["default"].GET_DMW_PROGRESS(this.props.token)}.bind(this),2e3)},componentWillUnmount:function(){_BuyStore2["default"].removeChangeListener("dmwProgressSucceed",this.handleDmwProgressSucceed),window.clearInterval(this.getDmwProgress)},handleDmwProgressSucceed:function(state){this.setState({isFinished:!0}),window.clearInterval(this.getDmwProgress),this.props.onPaid&&this.props.onPaid(state)},handleTogglePayDetails:function(){this.setState({isOpenDetails:!this.state.isOpenDetails})},handleChooseOtherMode:function(){this.props.changeStep("chooseMode")},handleClosePop:function(){_reactDom2["default"].unmountComponentAtNode(document.getElementById("popPay"))},renderRechargeInfo:function(){var _props=this.props,curType=_props.curType,amount=_props.amount;return _react2["default"].createElement("div",{className:"bex_pcPrice"},_react2["default"].createElement("p",{className:"bex_pcRechargeInfo"},_react2["default"].createElement("span",{className:"bex_pcTitle"},_config.lang.sWalletRechargeAmount),_react2["default"].createElement("span",{className:"price"},_config.lang.gCurrencySymbolArray[curType-1]+" "+_MGIntl2["default"].localeNumberFormatter(amount,2,2))))},renderPriceInfo:function(){var isOpenDetails=this.state.isOpenDetails,_props2=this.props,info=_props2.info,curType=_props2.curType,totalPrice=_props2.totalPrice,needPay=_props2.needPay,usedVoucher=_props2.usedVoucher,isUseBalance=_props2.isUseBalance,balancePay=_props2.balancePay,curSymbol=_config.lang.gCurrencySymbolArray[curType-1],_toggleArrow=null;(isUseBalance&&balancePay>0||!_lodash2["default"].isEmpty(usedVoucher))&&(_toggleArrow=_react2["default"].createElement("a",{className:"iconfont fBlue bex_pcToggle",onClick:this.handleTogglePayDetails},isOpenDetails?String.fromCharCode(58984):String.fromCharCode(58983)));var lineNum=0,_voucher=null,_balance=null;return isOpenDetails&&(_lodash2["default"].isEmpty(usedVoucher)||(_voucher=_react2["default"].createElement("div",{className:"bex_pcVoucher"},_react2["default"].createElement("span",{className:"bex_pcTitle"},_config.lang.gBuyVoucherPaid),_react2["default"].createElement("ul",{className:"bex_pcVoucher"},_lodash2["default"].map(usedVoucher,function(voucherId){lineNum++;var voucherInfo=_lodash2["default"].find(info.voucher[curType],{voucherId:voucherId});return _react2["default"].createElement("li",{className:"bex_pcvItem",key:"vou"+voucherId},"- "+curSymbol+" "+_MGIntl2["default"].localeNumberFormatter(voucherInfo.voucherMoney,2,2))})))),isUseBalance&&balancePay>0&&(lineNum++,_balance=_react2["default"].createElement("p",{className:"bex_pcBalance"},_react2["default"].createElement("span",{className:"bex_pcTitle"},_config.lang.gBuyBalancePaid),_react2["default"].createElement("span",{className:"price"},"- "+curSymbol+" "+_MGIntl2["default"].localeNumberFormatter(balancePay,2,2))))),_react2["default"].createElement("div",{className:"bex_pcPrice",style:{height:20+20*lineNum}},_react2["default"].createElement("div",{className:"bex_pcDetails"},_react2["default"].createElement("p",{className:"bex_pcTotal"},_react2["default"].createElement("span",{className:"bex_pcTitle"},_config.lang.gBuyExtensionOrderTotal),_react2["default"].createElement("span",{className:"price"},curSymbol+" "+_MGIntl2["default"].localeNumberFormatter(totalPrice,2,2))),_voucher,_balance),_react2["default"].createElement("p",{className:"bex_pcNeedPay"},_react2["default"].createElement("span",{className:"bex_pcTitle"},_config.lang.gBuyExtensionNeedPay),_react2["default"].createElement("span",{className:"price"},curSymbol+" "+_MGIntl2["default"].localeNumberFormatter(needPay,2,2)),_toggleArrow),_react2["default"].createElement("div",{className:"clearB"}))},renderAliPay:function(){var _props3=this.props,aliHost=_props3.aliHost,aliJumpTo=_props3.aliJumpTo,aliQrCode=_props3.aliQrCode;return _react2["default"].createElement("div",{className:"bex_pcMode aliPay"},_react2["default"].createElement("div",{className:"bex_pcByWeb"},_react2["default"].createElement("p",{className:"bex_pcmTitle"},_config.lang.gBuyExtensionByWeb),_react2["default"].createElement("div",{className:"bex_pcmImg"}),_react2["default"].createElement(_MKCBtnNormalWithMultiStates2["default"],{className:"orange bex_goToWebPay",dis:_config.lang.gBtnBuyGoToPay,isNewTab:!0,href:aliHost+aliJumpTo})),_react2["default"].createElement("div",{className:"bex_pcByQRCode"},_react2["default"].createElement("p",{className:"bex_pcmTitle"},_config.lang.gBuyExtensionByAliQRCode),_react2["default"].createElement("iframe",{className:"bex_pcmQRCode",scrolling:"no",frameBorder:"0",src:aliHost+aliQrCode})),_react2["default"].createElement("div",{className:"clearB"}))},renderWxPay:function(){var _props4=this.props,weChatQrPath=(_props4.weChatPrePayId,_props4.weChatQrPath);_props4.weChatQrCode;return _react2["default"].createElement("div",{className:"bex_pcMode weChat"},_react2["default"].createElement("div",{className:"bex_pcByQRCode"},_react2["default"].createElement("p",{className:"bex_pcmTitle"},_config.lang.gBuyExtensionByWxQRCode),_react2["default"].createElement("img",{className:"bex_pcmQRCode",src:weChatQrPath}),_react2["default"].createElement("p",{className:"bex_pcmWcTips"},_config.lang.gBuyExtensionByWxQRCodeTips)),_react2["default"].createElement("div",{className:"clearB"}))},render:function(){var _props5=this.props,isRecharge=_props5.isRecharge,paymentMethod=_props5.paymentMethod,_pcMain=null;return 1===paymentMethod?_pcMain=this.renderAliPay():2===paymentMethod&&(_pcMain=this.renderWxPay()),_react2["default"].createElement("div",{className:"bex_payCash",key:"payCash"},isRecharge?this.renderRechargeInfo():this.renderPriceInfo(),_pcMain,_react2["default"].createElement("p",{className:"bex_pcOperate"},_react2["default"].createElement("a",{className:"fBlue bex_pcOtherMode",onClick:this.handleChooseOtherMode},_config.lang.gBuyChooseOtherMode),_react2["default"].createElement("a",{className:"bex_pcGiveUp",onClick:this.handleClosePop},_config.lang.gBuyGiveUp)))}});exports["default"]=MKCPopwinBuyPayCash,module.exports=exports["default"]},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _classnames=__webpack_require__(56),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_BuyAction=__webpack_require__(73),_BuyAction2=_interopRequireDefault(_BuyAction),_BuyStore=__webpack_require__(75),_BuyStore2=_interopRequireDefault(_BuyStore),_MKCBtnNormalWithMultiStates=__webpack_require__(66),_MKCBtnNormalWithMultiStates2=_interopRequireDefault(_MKCBtnNormalWithMultiStates),_GlobalUtil=__webpack_require__(40),_config=__webpack_require__(7),_reactAddonsPureRenderMixin=__webpack_require__(59),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),MKCPopwinBuyPaySucceed=_react2["default"].createClass({displayName:"MKCPopwinBuyPaySucceed",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{isFinished:!1}},handleClosePop:function(){_reactDom2["default"].unmountComponentAtNode(document.getElementById("popPay"))},componentDidMount:function(){var _this=this;_BuyStore2["default"].addChangeListener("dmwProgressSucceed",this.handleDmwProgressSucceed),1===this.props.prGrId?this.getDmwProgress=window.setInterval(function(){_this.state.isFinished?window.clearInterval(_this.getDmwProgress):_BuyAction2["default"].GET_DMW_PROGRESS(_this.props.token)},500):(this.setState({isFinished:!0}),this.props.onFinished&&this.props.onFinished())},componentWillUnmount:function(){_BuyStore2["default"].removeChangeListener("dmwProgressSucceed",this.handleDmwProgressSucceed),window.clearInterval(this.getDmwProgress)},handleDmwProgressSucceed:function(info){this.setState({isFinished:!0}),window.clearInterval(this.getDmwProgress),this.props.onFinished&&this.props.onFinished()},render:function(){var isFinished=this.state.isFinished,_props=this.props,prGrId=_props.prGrId,orderNo=_props.orderNo,message=_props.message,prGrInfo=_GlobalUtil.PRODUCT_GROUP_INFO[prGrId],_4yr_promo_a=null;return message&&message.rPromo&&(_4yr_promo_a=message.rPromo["4yrPromoA"]||null),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("bex_paySucceed",{"is-finished":isFinished}),key:"paySucceed"},_react2["default"].createElement("p",{className:"bex_psTitle"},_config.lang.gBuyExtensionSucceed),_react2["default"].createElement("p",{className:"bex_psOrderNo"},_config.lang.gBuyExtensionOrderNo({order:orderNo||""})),_4yr_promo_a?_react2["default"].createElement("div",{className:"ra_activity"},_react2["default"].createElement("i",{className:"ra_actImg"}),_react2["default"].createElement("p",{className:"ra_actDes"},_config.lang.anniversary4BuySurpriseSucceed({amount:Math.ceil(+_4yr_promo_a),strong:{className:"strong"}}))):null,_react2["default"].createElement("div",{className:"bex_psLoader"},_react2["default"].createElement("div",{className:"bex_psExtImage"},_react2["default"].createElement("div",{className:"bex_psExtImg",style:{backgroundColor:prGrInfo.bgColor,backgroundPosition:prGrInfo.bgPosition}}))),_react2["default"].createElement("p",{className:"bex_psTips"},isFinished?prGrInfo.finishedTips||"":_config.lang.gBuyFeedbackFilterTips),22===prGrId?_react2["default"].createElement("p",{className:"bex_edtTips"},_config.lang.fBExtensionEDTBoughtTips({strongClass:{className:"strong"}})):null,_react2["default"].createElement("div",{className:"bex_psOperate"},isFinished?_react2["default"].createElement(_MKCBtnNormalWithMultiStates2["default"],{className:"bex_finish",dis:_config.lang.gBtnBuyFinish,onClick:this.handleClosePop}):_react2["default"].createElement("p",{className:"bex_psWaiting"},_config.lang.gBuyExtensionWaiting)))}});module.exports=MKCPopwinBuyPaySucceed},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=__webpack_require__(47),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(52),_reactDom2=_interopRequireDefault(_reactDom),_MGString=__webpack_require__(14),_MGString2=_interopRequireDefault(_MGString),_config=__webpack_require__(7),MKCPopwinBuyPayFailed=_react2["default"].createClass({displayName:"MKCPopwinBuyPayFailed",handleClosePop:function(){_reactDom2["default"].unmountComponentAtNode(document.getElementById("popPay"))},render:function(){var _props=this.props,needPay=_props.needPay,curType=_props.curType,curSymbol=_config.lang.gCurrencySymbolArray[curType-1];return _react2["default"].createElement("div",{className:"bex_payFailed",key:"paySucceed"},_react2["default"].createElement("p",{className:"bex_pfTitle"},_config.lang.gBuyExtensionFailed),_react2["default"].createElement("p",{className:"bex_pfDescribe"},_config.lang.gBuyExtensionFailedDes({money:curSymbol+" "+_MGString2["default"].localeNumberFormatter(needPay,2,2),price:{className:"price"}})),_react2["default"].createElement("p",{className:"bex_pfOperate"},_react2["default"].createElement("a",{className:"fBlue bex_pfToBalance",href:"settings.php#/wallet"},_config.lang.gBuyToViewBalance),_react2["default"].createElement("a",{className:"bex_pfClose",onClick:this.handleClosePop},_config.lang.gBuyClose)))}});module.exports=MKCPopwinBuyPayFailed},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_jquery=__webpack_require__(9),_jquery2=_interopRequireDefault(_jquery),_AppStore=__webpack_require__(38),_AppStore2=_interopRequireDefault(_AppStore),_AppUtil=__webpack_require__(51),_MGUtil=(_interopRequireDefault(_AppUtil),__webpack_require__(11)),_MGDebugger=__webpack_require__(39),_MGDebugger2=_interopRequireDefault(_MGDebugger),LOGIN_HANDLER=window.rootPath("handler/web/login/"),LOOP_TIMER=800,messengerTimer=null;exports["default"]={loginHandle:function(ld,beforeFun){return _AppUtil.ws.post(LOGIN_HANDLER+"handleLogin.php",{data:{d:JSON.stringify({cvs:ld})},beforeSend:function(){beforeFun&&beforeFun()}})},loginV1:function(ld){var messenger=_AppStore2["default"].getRegionMessenger(),promise=new Promise(function(resolve){window.clearInterval(messengerTimer),messenger?!function(){var $frame=(0,_jquery2["default"])(document.getElementsByName(messenger.name)[0]);_AppStore2["default"].bindPostMessageCallback("loginRegion",function(res){resolve(res)}),_AppStore2["default"].bindPostMessageCallback("preLogin",function(res){res.flag&&(location.href="http://v1.mikecrm.com/login.php"),messenger.frame.postMessage(JSON.stringify({type:"handler",url:messenger.url+"handler/handleLoginN.php",data:{data:{DATA:JSON.stringify({EMAIL:ld.a,PASSWORD:ld.p1,REMEMBER:!0})},cookie:null},name:"loginRegion"}),"*")}),messengerTimer=window.setInterval(function(){try{1===+$frame.attr("data-loaded")&&(window.clearInterval(messengerTimer),messenger.frame.postMessage(JSON.stringify({type:"handler",url:messenger.url+"handler/handleGenAuthCode.php",data:{data:{DATA:JSON.stringify({TYPE:"0"})},cookie:null},name:"preLogin"}),"*"))}catch(e){window.clearInterval(messengerTimer)}},LOOP_TIMER)}():resolve(null)});return promise},loginWithRegionHandle:function(ld){var messenger=_AppStore2["default"].getRegionMessenger(),promise=new Promise(function(resolve){window.clearInterval(messengerTimer),messenger?!function(){var $frame=(0,_jquery2["default"])(document.getElementsByName(messenger.name)[0]);_AppStore2["default"].bindPostMessageCallback("loginRegion",function(res){resolve(res)}),messengerTimer=window.setInterval(function(){try{1===+$frame.attr("data-loaded")&&(window.clearInterval(messengerTimer),messenger.frame.postMessage(JSON.stringify({type:"handler",url:messenger.url+LOGIN_HANDLER+"handleLogin.php",data:{data:{d:JSON.stringify({cvs:ld})}},name:"loginRegion"}),"*"))}catch(e){window.clearInterval(messengerTimer)}},LOOP_TIMER)}():resolve(null)});return promise},logoutHandle:function(){return _AppUtil.ws.post(LOGIN_HANDLER+"handleLogout.php")},checkAccountRegion:function(account){var messenger=_AppStore2["default"].getRegionMessenger(),promise=new Promise(function(resolve,reject){window.clearInterval(messengerTimer),messenger?!function(){var $frame=(0,_jquery2["default"])(document.getElementsByName(messenger.name)[0]);_AppStore2["default"].bindPostMessageCallback("checkAccountRegion",function(res){resolve(res)}),messengerTimer=window.setInterval(function(){try{1===+$frame.attr("data-loaded")&&(window.clearInterval(messengerTimer),messenger.frame.postMessage(JSON.stringify({type:"handler",url:messenger.url+LOGIN_HANDLER+"handleCheckAccountAvailability.php",data:{data:{d:JSON.stringify({cvs:{a:account}})}},name:"checkAccountRegion"}),"*"))}catch(e){window.clearInterval(messengerTimer)}},LOOP_TIMER)}():resolve(null)});return promise},forgotPasswordHandle:function(data,beforeFun){return _AppUtil.ws.post(LOGIN_HANDLER+"handleForgotPassword.php",{data:{d:JSON.stringify({cvs:data})},beforeSend:function(){beforeFun&&beforeFun()}})},forgotPasswordWithRegionHandle:function(data){var messenger=_AppStore2["default"].getRegionMessenger(),promise=new Promise(function(resolve){window.clearInterval(messengerTimer),messenger?!function(){var $frame=(0,_jquery2["default"])(document.getElementsByName(messenger.name)[0]);_AppStore2["default"].bindPostMessageCallback("resetPasswordWithRegion",function(res){resolve(res)}),messengerTimer=window.setInterval(function(){try{1===+$frame.attr("data-loaded")&&(window.clearInterval(messengerTimer),messenger.frame.postMessage(JSON.stringify({type:"handler",url:messenger.url+LOGIN_HANDLER+"handleForgotPassword.php",data:{data:{d:JSON.stringify({cvs:data})}},name:"resetPasswordWithRegion"}),"*"))}catch(e){window.clearInterval(messengerTimer)}},LOOP_TIMER)}():resolve(null)});return promise},resetPasswordHandle:function(data,beforeFun){return _AppUtil.ws.post(LOGIN_HANDLER+"handleResetPassword.php",{data:{d:JSON.stringify({cvs:data})},beforeSend:function(){beforeFun&&beforeFun()}})},registerCheckAccountHandle:function(account){var _data={data:{d:JSON.stringify({cvs:{a:account}})}};return _AppUtil.ws.post(LOGIN_HANDLER+"handleCheckAccountAvailability.php",_data)},registerHandle:function(rd,beforeFun){var _today=new Date,_firstDay=new Date(_today.getFullYear(),0,1),_midDay=new Date(_today.getFullYear(),6,1),gdcRegion=_AppStore2["default"].getGdcRegion(),_data={data:{d:JSON.stringify({cvs:_jquery2["default"].extend({},{t:_firstDay.getTimezoneOffset(),d:_firstDay.getTimezoneOffset()-_midDay.getTimezoneOffset()!==0},rd)})},beforeSend:function(){beforeFun&&beforeFun()}},_LANG=window.LANG_CODE;if(gdcRegion){var deferred=_jquery2["default"].Deferred(),promise=deferred.promise(),messenger=_AppStore2["default"].getMessenger();if(window.clearInterval(messengerTimer),messenger){var _ret5=function(){var $frame=(0,_jquery2["default"])(document.getElementsByName(messenger.name)[0]);return _AppStore2["default"].bindPostMessageCallback("register",function(res){_MGDebugger2["default"].log("in...register...",res),deferred.resolve(res)}),messengerTimer=window.setInterval(function(){try{1===+$frame.attr("data-loaded")&&(window.clearInterval(messengerTimer),_data.cookie=null,_data.beforeSend=null,beforeFun&&beforeFun(),messenger.frame.postMessage(JSON.stringify({type:"handler",url:gdcRegion+"handler/web/handleSetLanguage.php",data:{data:{d:JSON.stringify({cvs:{l:_LANG}})},cookie:null}}),"*"),messenger.frame.postMessage(JSON.stringify({type:"handler",url:gdcRegion+LOGIN_HANDLER+"handleRegister.php",data:_data,name:"register"}),"*"))}catch(e){window.clearInterval(messengerTimer)}},LOOP_TIMER),{v:promise}}();if("object"===("undefined"==typeof _ret5?"undefined":_typeof(_ret5)))return _ret5.v}}return _AppUtil.ws.post(gdcRegion+LOGIN_HANDLER+"handleRegister.php",_data)},inviteRegisterHandle:function(data,beforeFun){var _today=new Date,_firstDay=new Date(_today.getFullYear(),0,1),_midDay=new Date(_today.getFullYear(),6,1);return _AppUtil.ws.post(LOGIN_HANDLER+"handleAcceptInvitation.php",{data:{d:JSON.stringify({cvs:_jquery2["default"].extend({},{t:_firstDay.getTimezoneOffset(),d:_firstDay.getTimezoneOffset()-_midDay.getTimezoneOffset()!==0},data)})},beforeSend:function(){beforeFun&&beforeFun()}})},applyToJoinHandle:function(data,beforeFun){var _today=new Date,_firstDay=new Date(_today.getFullYear(),0,1),_midDay=new Date(_today.getFullYear(),6,1);return _AppUtil.ws.post(LOGIN_HANDLER+"handleApplyToJoin.php",{data:{d:JSON.stringify({cvs:_jquery2["default"].extend({},{t:_firstDay.getTimezoneOffset(),d:_firstDay.getTimezoneOffset()-_midDay.getTimezoneOffset()!==0},data)})},beforeSend:function(){beforeFun&&beforeFun()}})},setLanguageHandle:function(selectedLanguage){var _DOMAIN="mikecrm.com";return _MGUtil.cookie.set("lang",selectedLanguage,{expires:365,path:"/",domain:_DOMAIN}),_AppUtil.ws.post("handler/web/handleSetLanguage.php",{data:{d:JSON.stringify({cvs:{l:selectedLanguage}})}})},getWeChatQr:function(){return _AppUtil.ws.post("handler/web/login_wc/handlePrepareQR.php")},getWeChatLoginState:function(uid){var data={u:uid};return _AppUtil.ws.post("handler/web/login_wc/handleWcLogin.php",{data:{d:JSON.stringify({cvs:data})}})},wxLoginSelect:function(idx,uid){return _AppUtil.ws.post("handler/web/login_wc/handleWcLogin_onSELECT.php",{data:{d:JSON.stringify({cvs:{idx:idx,u:uid}})}})}},module.exports=exports["default"]}]);